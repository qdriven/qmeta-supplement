{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u6b22\u8fce\u9605\u8bfb\u81ea\u52a8\u5316\u6d4b\u8bd5\u6587\u6863 \u6b64\u81ea\u52a8\u5316\u6d4b\u8bd5\u6587\u6863\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9: \u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u4ecb\u7ecd \u5e38\u89c1\u573a\u666f\u7684\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u6784\u5efa \u4f7f\u7528\u7684\u5c0ftip \u4e00\u4e9b\u5173\u4e8eweb\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u5e38\u89c1\u95ee\u9898\u548c\u539f\u7406 \u4e00\u4e9b\u5173\u4e8ejava\u548c\u7528\u5230\u7684\u7b2c\u4e09\u65b9\u6846\u67b6\u548c\u5305\u7684\u4ecb\u7ecd ps: \u6709\u4e9b\u5185\u5bb9\u6216\u8005\u8bc4\u8bba\u53ea\u662f\u4e2a\u4eba\u89c1\u89e3,\u4e0d\u4e00\u5b9a\u6b63\u786e if your like this site, please go to star the repo: mix-first have fun! \u57fa\u7840\u77e5\u8bc6 Java\u57fa\u7840 Maven TestNG Selenium/WebDriver2 \u76f8\u5173\u7684\u4e00\u4e9b\u9605\u8bfb\u8d44\u6e90\u53ef\u80fd\u5bf9\u4f60\u6709\u7528 JAVA\u57fa\u7840 JAVA\u57fa\u7840\u4e2d\u5e38\u7528\u7684\u6bd4\u8f83\u91cd\u8981\u7684\u6709 Collections \u96c6\u5408 Reflection \u53cd\u5c04 Generics \u8303\u578b MAVEN \u57fa\u7840 TestNG\u57fa\u7840 Selenium/WebDriver","title":"\u4e3b\u9875"},{"location":"#_1","text":"\u6b64\u81ea\u52a8\u5316\u6d4b\u8bd5\u6587\u6863\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9: \u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u4ecb\u7ecd \u5e38\u89c1\u573a\u666f\u7684\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u6784\u5efa \u4f7f\u7528\u7684\u5c0ftip \u4e00\u4e9b\u5173\u4e8eweb\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u5e38\u89c1\u95ee\u9898\u548c\u539f\u7406 \u4e00\u4e9b\u5173\u4e8ejava\u548c\u7528\u5230\u7684\u7b2c\u4e09\u65b9\u6846\u67b6\u548c\u5305\u7684\u4ecb\u7ecd ps: \u6709\u4e9b\u5185\u5bb9\u6216\u8005\u8bc4\u8bba\u53ea\u662f\u4e2a\u4eba\u89c1\u89e3,\u4e0d\u4e00\u5b9a\u6b63\u786e if your like this site, please go to star the repo: mix-first have fun!","title":"\u6b22\u8fce\u9605\u8bfb\u81ea\u52a8\u5316\u6d4b\u8bd5\u6587\u6863"},{"location":"#_2","text":"Java\u57fa\u7840 Maven TestNG Selenium/WebDriver2","title":"\u57fa\u7840\u77e5\u8bc6"},{"location":"#_3","text":"JAVA\u57fa\u7840 JAVA\u57fa\u7840\u4e2d\u5e38\u7528\u7684\u6bd4\u8f83\u91cd\u8981\u7684\u6709 Collections \u96c6\u5408 Reflection \u53cd\u5c04 Generics \u8303\u578b MAVEN \u57fa\u7840 TestNG\u57fa\u7840 Selenium/WebDriver","title":"\u76f8\u5173\u7684\u4e00\u4e9b\u9605\u8bfb\u8d44\u6e90\u53ef\u80fd\u5bf9\u4f60\u6709\u7528"},{"location":"00-java-intro/","text":"JAVA For Tester Basic JAVA IO Operation/CSV/EXCEL/Operation Properties JSON Handler Map/List/Basic Data Structure Database Operation Redis Operation Advanced: Classloader/ClassPath/Resource Advanced: Reflection Level2- Testing Utilities Selenium/WebDriver Appium/Others TestNG/Allure-report/junit Data-Driven","title":"JAVA For Tester"},{"location":"00-java-intro/#java-for-tester","text":"Basic JAVA IO Operation/CSV/EXCEL/Operation Properties JSON Handler Map/List/Basic Data Structure Database Operation Redis Operation Advanced: Classloader/ClassPath/Resource Advanced: Reflection","title":"JAVA For Tester"},{"location":"00-java-intro/#level2-testing-utilities","text":"Selenium/WebDriver Appium/Others TestNG/Allure-report/junit Data-Driven","title":"Level2- Testing Utilities"},{"location":"01-java-components/","text":"","title":"01 java components"},{"location":"02-java-data-factory/","text":"JAVA Data Factory data-factory","title":"JAVA Data Factory"},{"location":"02-java-data-factory/#java-data-factory","text":"data-factory","title":"JAVA Data Factory"},{"location":"03-java-testng/","text":"JAVA TestNG TestNG Basic TestNG advanced TestNG advanced Usage How to Read TestNG/Reflection How to Do more stuff for TestNG Sample Codes to understand TESTNG","title":"JAVA TestNG"},{"location":"03-java-testng/#java-testng","text":"TestNG Basic TestNG advanced TestNG advanced Usage How to Read TestNG/Reflection How to Do more stuff for TestNG","title":"JAVA TestNG"},{"location":"03-java-testng/#sample-codes-to-understand-testng","text":"","title":"Sample Codes to understand TESTNG"},{"location":"about/","text":"","title":"About"},{"location":"index_MkDocs/","text":"Welcome to MkDocs For full documentation visit mkdocs.org . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Welcome to MkDocs"},{"location":"index_MkDocs/#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"index_MkDocs/#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message.","title":"Commands"},{"location":"index_MkDocs/#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"java-codecoverage/","text":"Jacoco Report Our report shows 21% instructions coverage, 17% branches coverage, 3/5 for cyclomatic complexity and so on. The 38 instructions shown by JaCoCo in the report refers to the bytecode instructions as opposed to ordinary Java code instructions. JaCoCo reports help you visually analyze code coverage by using diamonds with colors for branches and background colors for lines: Red diamond means that no branches have been exercised during the test phase. Yellow diamond shows that the code is partially covered \u2013 some branches have not been exercised. Green diamond means that all branches have been exercised during the test. The same color code applies to the background color, but for lines coverage. JaCoCo mainly provides three important metrics: Lines coverage reflects the amount of code that has been exercised based on the number of Java byte code instructions called by the tests. Branches coverage shows the percent of exercised branches in the code \u2013 typically related to if/else and switch statements. Cyclomatic complexity reflects the complexity of code by giving the number of paths needed to cover all the possible paths in a code through linear combination. To take a trivial example, if there is no if or switch statements in the code, the cyclomatic complexity will be 1, as we only need one execution path to cover the entire code. Generally the cyclomatic complexity reflects the number of test cases we need to implement in order to cover the entire code. - [jacoco](https://www.eclemma.org/jacoco/trunk/doc/report-mojo.html) - [better jacoco](https://medium.com/better-programming/add-badges-to-a-github-repository-716d2988dc6a)","title":"Java codecoverage"},{"location":"java-codecoverage/#jacoco-report","text":"Our report shows 21% instructions coverage, 17% branches coverage, 3/5 for cyclomatic complexity and so on. The 38 instructions shown by JaCoCo in the report refers to the bytecode instructions as opposed to ordinary Java code instructions. JaCoCo reports help you visually analyze code coverage by using diamonds with colors for branches and background colors for lines: Red diamond means that no branches have been exercised during the test phase. Yellow diamond shows that the code is partially covered \u2013 some branches have not been exercised. Green diamond means that all branches have been exercised during the test. The same color code applies to the background color, but for lines coverage. JaCoCo mainly provides three important metrics: Lines coverage reflects the amount of code that has been exercised based on the number of Java byte code instructions called by the tests. Branches coverage shows the percent of exercised branches in the code \u2013 typically related to if/else and switch statements. Cyclomatic complexity reflects the complexity of code by giving the number of paths needed to cover all the possible paths in a code through linear combination. To take a trivial example, if there is no if or switch statements in the code, the cyclomatic complexity will be 1, as we only need one execution path to cover the entire code. Generally the cyclomatic complexity reflects the number of test cases we need to implement in order to cover the entire code. - [jacoco](https://www.eclemma.org/jacoco/trunk/doc/report-mojo.html) - [better jacoco](https://medium.com/better-programming/add-badges-to-a-github-repository-716d2988dc6a)","title":"Jacoco Report"},{"location":"activity_automation/activity_automation_defined_employees/","text":"\u6307\u5b9a\u7279\u5b9a\u7684\u5ba1\u6279\u4eba\u6784\u5efa\u5de5\u4f5c\u6d41\u7684\u81ea\u52a8\u5316\u6d4b\u8bd5 \u4ee5\u4e0b\u901a\u8fc7\u5236\u5b9a\u5ba1\u6279\u4eba\u7684\u65b9\u5f0f\u6765\u6784\u5efa\u5ba1\u6279\u6d41\u7a0b\u4e1a\u52a1,\u5305\u62ec\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4: \u5ba1\u6279\u4eba\u6307\u5b9a \u4e0d\u540c\u7684\u5ba1\u6279\u901a\u8fc7\u52a8\u4f5c\u7684\u8bbe\u5b9a \u6784\u5efa\u5ba1\u6279\u6d41\u7a0b 1. \u5ba1\u6279\u4eba\u6307\u5b9a \u901a\u8fc7\u5916\u90e8\u6570\u636e\u6307\u5b9a: employeeIds \u8868\u793a\u7b2c\u4e00\u6279\u9700\u8981\u5ba1\u6279\u7684\u5458\u5de5 financeEmployeeIds \u8868\u8ff0\u8d22\u52a1\u5ba1\u6279\u7684\u5458\u5de5 adminEmployeeIds \u8868\u793a\u884c\u653f\u7684\u5458\u5de5 \u4ee5\u4e0b\u662fdata provider\u7684\u5b9a\u4e49: @DataProvider(name = \"Asset_data\") public Iterator<Object[]> getTestData(Method m) throws Exception{ Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"AssetData\", AssetTestData.class); clazzMap.put(\"Activities\", Activities.class); clazzMap.put(\"TestDescription\", TestDescription.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/AssetApprovalTestCases.xls\", m, clazzMap); return y; } \u6240\u6709\u7684\u8fd9\u4e9b\u5458\u5de5\u53f7\u90fd\u5bf9\u5e94\u5230Activities\u8fd9\u4e2a\u7c7b\u4e86 2. \u6784\u5efa\u5ba1\u6279\u6d41 \u4ee3\u7801\u5982\u4e0b: @SelfDefinedStep(description = \"\u8d44\u4ea7\u767b\u8bb0\u5ba1\u6279\") public static void approveAssetRegistration(WebDriver driver,AssetTestData d,Activities approvals){ WorkFlowBuilder.build(driver,d) .add(assetRegistrationApprove(driver,d),approvals.approveFrontChain() , approvals.approvalAdminChain()) .add(assetRegistrationApproveByFinance(driver,d) , approvals.approveFinanceChain()) .process(); } \u8fd9\u91cc\u9762\u7531\u4e8e\u524d\u53f0\u5ba1\u6279.\u884c\u653f\u5ba1\u6279\u548c\u8d22\u52a1\u5ba1\u6279\u90fd\u662f\u4e0d\u4e00\u6837\u7684\u52a8\u4f5c,\u6240\u6709\u5206\u522b\u5b9e\u73b0: assetRegistrationApprove assetRegistrationApproveByFinance @SelfDefinedStep(description = \"\u5ba1\u6279\") public static TestAction assetRegistrationApprove(WebDriver driver,AssetTestData d,TestAction...beforeApprove){ return () -> { AssetSearchFilterTestData t = new AssetSearchFilterTestData(); t.setAssetCode(d.getAssetCode()); assetQuery(driver, t, () -> WebDriverHelper.get(driver, EnvironmentHelper.get(AppName.ZICHAN.getName()).getDomainUrl() + \"/asset/checkedlist\")); WebTestActionBuilder.use(AssetsMainPage.class,driver).getApprove().click(); for (TestAction action : beforeApprove) { action.execute(); } WebTestActionBuilder.createTestActionByUIAction(ApprovePage.class,\"\u5ba1\u6279\u901a\u8fc7\",driver,d).execute(); }; } public static TestAction assetRegistrationApproveByFinance(WebDriver driver,AssetTestData d){ return assetRegistrationApprove(driver, d, () -> WebTestActionBuilder.use(AssetDetailPage.class,driver) .process(\"\u8d44\u4ea7\u8d22\u52a1\u4fe1\u606f\u586b\u5199\u5e76\u5ba1\u6279\u901a\u8fc7\",d)); } \u7531\u4e8e\u8fd9\u91cc\u7684\u5b9e\u73b0\u4f7f\u7528\u4e86\u4e00\u4e9bJAVA8 \u7684lambda\u7684\u5199\u6cd5,\u53ef\u80fd\u4e00\u4e0b\u5b50\u770b\u4e0d\u592a\u6e05\u695a,\u6240\u4ee5\u6709\u5174\u8da3\u53ef\u4ee5\u4e86\u89e3\u4e00\u4e0b. 3. \u5b9e\u73b0\u6d4b\u8bd5\u7528\u4f8b @Test(dataProvider = \"Asset_data\",description = \"\u767b\u8bb0\u7533\u8bf7\u8d44\u4ea7\") public void test_asset_registration(Activities approvals,AssetTestData data, TestDescription td){ WebDriver driver = loginAndReturnDriver(approvals.startEmployee()); AssetsFlows.addAsset(driver, data); DomainLoginHelper.logout(driver); AssetsFlows.approveAssetRegistration(driver, data, approvals); SoftAssertion sa = new SoftAssertion(); sa.assertEquals(SpringJdbcTemplateUtils.useDataBase(AppName.ZICHAN.getName()).getAllRawResult(\"select * from T_ASSETS_REGISTER_TASK where assetId=?\" , data.getId()).size(),0,\"\u5ba1\u6279\u4efb\u52a1\u5df2\u7ecf\u5168\u90e8\u5b8c\u6210\"); sa.getFinalResult(); }","title":"\u5de5\u4f5c\u6d41\u6d4b\u8bd5\u4e4b\u6307\u5b9a\u5ba1\u6279\u8282\u70b9"},{"location":"activity_automation/activity_automation_defined_employees/#_1","text":"\u4ee5\u4e0b\u901a\u8fc7\u5236\u5b9a\u5ba1\u6279\u4eba\u7684\u65b9\u5f0f\u6765\u6784\u5efa\u5ba1\u6279\u6d41\u7a0b\u4e1a\u52a1,\u5305\u62ec\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4: \u5ba1\u6279\u4eba\u6307\u5b9a \u4e0d\u540c\u7684\u5ba1\u6279\u901a\u8fc7\u52a8\u4f5c\u7684\u8bbe\u5b9a \u6784\u5efa\u5ba1\u6279\u6d41\u7a0b","title":"\u6307\u5b9a\u7279\u5b9a\u7684\u5ba1\u6279\u4eba\u6784\u5efa\u5de5\u4f5c\u6d41\u7684\u81ea\u52a8\u5316\u6d4b\u8bd5"},{"location":"activity_automation/activity_automation_defined_employees/#1","text":"\u901a\u8fc7\u5916\u90e8\u6570\u636e\u6307\u5b9a: employeeIds \u8868\u793a\u7b2c\u4e00\u6279\u9700\u8981\u5ba1\u6279\u7684\u5458\u5de5 financeEmployeeIds \u8868\u8ff0\u8d22\u52a1\u5ba1\u6279\u7684\u5458\u5de5 adminEmployeeIds \u8868\u793a\u884c\u653f\u7684\u5458\u5de5 \u4ee5\u4e0b\u662fdata provider\u7684\u5b9a\u4e49: @DataProvider(name = \"Asset_data\") public Iterator<Object[]> getTestData(Method m) throws Exception{ Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"AssetData\", AssetTestData.class); clazzMap.put(\"Activities\", Activities.class); clazzMap.put(\"TestDescription\", TestDescription.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/AssetApprovalTestCases.xls\", m, clazzMap); return y; } \u6240\u6709\u7684\u8fd9\u4e9b\u5458\u5de5\u53f7\u90fd\u5bf9\u5e94\u5230Activities\u8fd9\u4e2a\u7c7b\u4e86","title":"1. \u5ba1\u6279\u4eba\u6307\u5b9a"},{"location":"activity_automation/activity_automation_defined_employees/#2","text":"\u4ee3\u7801\u5982\u4e0b: @SelfDefinedStep(description = \"\u8d44\u4ea7\u767b\u8bb0\u5ba1\u6279\") public static void approveAssetRegistration(WebDriver driver,AssetTestData d,Activities approvals){ WorkFlowBuilder.build(driver,d) .add(assetRegistrationApprove(driver,d),approvals.approveFrontChain() , approvals.approvalAdminChain()) .add(assetRegistrationApproveByFinance(driver,d) , approvals.approveFinanceChain()) .process(); } \u8fd9\u91cc\u9762\u7531\u4e8e\u524d\u53f0\u5ba1\u6279.\u884c\u653f\u5ba1\u6279\u548c\u8d22\u52a1\u5ba1\u6279\u90fd\u662f\u4e0d\u4e00\u6837\u7684\u52a8\u4f5c,\u6240\u6709\u5206\u522b\u5b9e\u73b0: assetRegistrationApprove assetRegistrationApproveByFinance @SelfDefinedStep(description = \"\u5ba1\u6279\") public static TestAction assetRegistrationApprove(WebDriver driver,AssetTestData d,TestAction...beforeApprove){ return () -> { AssetSearchFilterTestData t = new AssetSearchFilterTestData(); t.setAssetCode(d.getAssetCode()); assetQuery(driver, t, () -> WebDriverHelper.get(driver, EnvironmentHelper.get(AppName.ZICHAN.getName()).getDomainUrl() + \"/asset/checkedlist\")); WebTestActionBuilder.use(AssetsMainPage.class,driver).getApprove().click(); for (TestAction action : beforeApprove) { action.execute(); } WebTestActionBuilder.createTestActionByUIAction(ApprovePage.class,\"\u5ba1\u6279\u901a\u8fc7\",driver,d).execute(); }; } public static TestAction assetRegistrationApproveByFinance(WebDriver driver,AssetTestData d){ return assetRegistrationApprove(driver, d, () -> WebTestActionBuilder.use(AssetDetailPage.class,driver) .process(\"\u8d44\u4ea7\u8d22\u52a1\u4fe1\u606f\u586b\u5199\u5e76\u5ba1\u6279\u901a\u8fc7\",d)); } \u7531\u4e8e\u8fd9\u91cc\u7684\u5b9e\u73b0\u4f7f\u7528\u4e86\u4e00\u4e9bJAVA8 \u7684lambda\u7684\u5199\u6cd5,\u53ef\u80fd\u4e00\u4e0b\u5b50\u770b\u4e0d\u592a\u6e05\u695a,\u6240\u4ee5\u6709\u5174\u8da3\u53ef\u4ee5\u4e86\u89e3\u4e00\u4e0b.","title":"2. \u6784\u5efa\u5ba1\u6279\u6d41"},{"location":"activity_automation/activity_automation_defined_employees/#3","text":"@Test(dataProvider = \"Asset_data\",description = \"\u767b\u8bb0\u7533\u8bf7\u8d44\u4ea7\") public void test_asset_registration(Activities approvals,AssetTestData data, TestDescription td){ WebDriver driver = loginAndReturnDriver(approvals.startEmployee()); AssetsFlows.addAsset(driver, data); DomainLoginHelper.logout(driver); AssetsFlows.approveAssetRegistration(driver, data, approvals); SoftAssertion sa = new SoftAssertion(); sa.assertEquals(SpringJdbcTemplateUtils.useDataBase(AppName.ZICHAN.getName()).getAllRawResult(\"select * from T_ASSETS_REGISTER_TASK where assetId=?\" , data.getId()).size(),0,\"\u5ba1\u6279\u4efb\u52a1\u5df2\u7ecf\u5168\u90e8\u5b8c\u6210\"); sa.getFinalResult(); }","title":"3. \u5b9e\u73b0\u6d4b\u8bd5\u7528\u4f8b"},{"location":"activity_automation/activity_automation_dynamic/","text":"\u6784\u5efa\u5de5\u4f5c\u6d41\u7684\u81ea\u52a8\u5316\u6d4b\u8bd5 \u4ee5\u62a5\u5e9f\u6d41\u7a0b\u4e3a\u4f8b,\u4ecb\u7ecd\u5982\u4f55\u6784\u5efa\u52a8\u6001\u7684\u5de5\u4f5c\u6d41\u81ea\u52a8\u5316\u6d4b\u8bd5,\u4ee5\u4e0b\u6784\u5efa\u7684\u6d41\u7a0b\u4e3b\u8981\u5e94\u7528\u5230\u60f3\u81ea\u52a8\u83b7\u53d6\u4e0d\u540c\u8282\u70b9\u5ba1\u6279\u4eba. \u76ee\u524d\u5de5\u4f5c\u6d41\u7684\u4e00\u822c\u5b9e\u73b0\u7684\u903b\u8f91\u5982\u4e0b: \u4e0d\u540c\u7684\u5ba1\u6279\u6d41\u7a0b\u5b9a\u4e49\u4e0d\u540c\u7684\u5ba1\u6279\u8282\u70b9 \u6839\u636e\u4e0d\u540c\u8282\u70b9\u7684\u6743\u9650(\u5ba1\u6279\u6743\u9650)\u6765\u786e\u5b9a\u4e0d\u540c\u7684\u5ba1\u6279\u4eba \u5ba1\u6279\u901a\u8fc7\u548c\u62d2\u7edd\u7684\u5b9e\u73b0 \u7531\u4e8e\u5b8c\u5168\u81ea\u5df1\u5728\u6d4b\u8bd5\u6570\u636e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u597d\u5ba1\u6279\u4eba\u4e4b\u540e,\u5982\u679c\u4e2d\u95f4\u5ba1\u6279\u4eba\u6570\u636e\u8d77\u4e86\u53d8\u5316,\u5219\u9700\u8981\u81ea\u5df1\u7ef4\u62a4\u8fd9\u4e2a\u6d4b\u8bd5\u6570\u636e,\u53ef\u80fd\u6709\u65f6\u6bd4\u8f83\u7e41\u7410; \u5982\u679c\u901a\u8fc7\u4ee5\u4e0b\u5b8c\u6210\u62bd\u8c61\u53d8\u91cf,\u6765\u6839\u636e\u5ba1\u6279\u4e1a\u52a1,\u7533\u8bf7\u4eba\u6765\u5199\u7a0b\u5e8f\u5b8c\u6210\u7684\u8bdd,\u5219\u53ea\u9700\u8981\u7b80\u5355\u7ef4\u62a4\u7533\u8bf7\u4eba\u6570\u636e\u5c31\u53ef\u4ee5,\u4e0d\u8fc7\u9700\u8981\u5199\u4e0d\u5c11\u4ee3\u7801. \u5b9e\u73b0\u7684\u5927\u4f53\u7c7b\u56fe\u5982\u4e0b: \u6240\u4ee5\u5b9e\u9645\u7684\u7f16\u5199\u8fc7\u7a0b\u4e2d\u9700\u8981\u9700\u8981\u5b9e\u73b0: \u9488\u5bf9\u67d0\u4e2a\u5de5\u4f5c\u6d41\u7684\u6743\u9650 \u4e0d\u540c\u5ba1\u6279\u8282\u70b9\u7684\u5b9e\u73b0,\u5982\u679c\u6709\u9ed8\u8ba4\u5b9e\u73b0\u53ef\u4ee5\u6ee1\u8db3\u5219\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u7684\u5b9e\u73b0 \u4e0d\u540c\u5ba1\u6279\u8282\u70b9\u7684\u5ba1\u6279\u901a\u8fc7,\u5ba1\u6279\u62d2\u7edd\u6d41\u7a0b \u5ba1\u6279\u7684\u5f00\u59cb\u6d41\u7a0b\u548c\u5ba1\u6279\u62d2\u7edd\u540e\u91cd\u65b0\u5f00\u59cb\u7684\u6d41\u7a0b 0.\u62a5\u5e9f\u5ba1\u6279\u6d41\u6210\u4e3a\u4f8b \u6574\u4e2a\u62a5\u5e9f\u5ba1\u6279\u6d41\u7a0b\u6709: \u524d\u53f0\u6298\u65e7\u62a5\u5e9f \u540e\u53f0\u6298\u65e7\u62a5\u5e9f \u65e0\u6298\u65e7\u62a5\u5e9f \u6bcf\u4e2a\u5ba1\u6279\u6d41\u5305\u62ec: \u7533\u8bf7\u62a5\u5e9f(\u5f00\u59cb\u52a8\u4f5c) \u8d44\u4ea7\u90e8\u95e8\u7ecf\u7406\u5ba1\u6279(\u8282\u70b9\u5ba1\u6279\u4eba\u5b9e\u73b0,\u5ba1\u6279\u901a\u8fc7/\u62d2\u7edd\u52a8\u4f5c\u5b9e\u73b0) \u9a8c\u6536\u90e8\u95e8\u5ba1\u6279(\u8282\u70b9\u5ba1\u6279\u4eba\u5b9e\u73b0,\u5ba1\u6279\u901a\u8fc7/\u62d2\u7edd\u52a8\u4f5c\u5b9e\u73b0) \u884c\u653f\u786e\u8ba4\u5ba1\u6279(\u8282\u70b9\u5ba1\u6279\u4eba\u5b9e\u73b0,\u5ba1\u6279\u901a\u8fc7/\u62d2\u7edd\u52a8\u4f5c\u5b9e\u73b0) \u8d22\u52a1\u5ba1\u6279(\u8282\u70b9\u5ba1\u6279\u4eba\u5b9e\u73b0,\u5ba1\u6279\u901a\u8fc7/\u62d2\u7edd\u52a8\u4f5c\u5b9e\u73b0) \u7531\u4e8e\u67d0\u4e00\u4e2a\u5ba1\u6279\u6d41\u8282\u70b9\u9700\u8981\u7684\u6743\u9650\u4e0d\u4e00\u6837,\u6240\u4ee5\u8fd8\u6709\u63d0\u4f9b\u4e00\u4e2a\u6743\u9650 1. \u6784\u5efa\u5de5\u4f5c\u6d41\u7684\u6743\u9650 \u5728\u76ee\u524d\u7684\u5de5\u4f5c\u6d41\u4e2d\u6709\u4e00\u4e2a\u7528\u6237\u6743\u9650\u7684\u7ba1\u7406,\u6240\u4ee5\u7b2c\u4e00\u6b65\u5148\u5c06\u6b21\u5de5\u4f5c\u6d41\u6240\u6709\u4f7f\u7528\u5230\u7684\u6743\u9650\u6574\u7406\u51fa\u6765,\u6743\u9650\u7528Map\u7684\u65b9\u5f0f\u6765\u63d0\u4f9b ,\u4ee5\u4e0b\u662f\u62a5\u5e9f\u6d41\u7a0b\u4e2d\u7528\u5230\u7684\u6743\u9650,Map\u7684key,\u7528\u6765\u8868\u793a\u5de5\u4f5c\u6d41\u7684\u8282\u70b9,value\u8868\u793a\u6743\u9650\u7684\u6807\u793a,\u6b64\u503c\u4e3b\u8981\u7528\u6765\u67e5\u8be2\u6ee1\u8db3\u6743\u9650\u7684\u5ba1\u6279\u4eba @ActivityProvider(activityName = DefinedActivityName.\u8d44\u4ea7\u62a5\u5e9f,privilege = true) public static Map<String,String> urlMapping(){ Map<String,String> map = Maps.newHashMap(); map.put(NodeName.\u9a8c\u6536\u90e8\u95e8, Constants.SCRAP_CHECKED); map.put(NodeName.\u8d22\u52a1\u5ba1\u6279,Constants.SCRAP_FAPPROVAL); map.put(NodeName.\u884c\u653f\u786e\u8ba4,Constants.SCRAP_ADAPPROVAL); return map; } /** * \u8d44\u4ea7\u62a5\u5e9f - \u9a8c\u6536\u90e8\u95e8\u9a8c\u6536\u6743\u9650 */ public static final String SCRAP_CHECKED = \"scrap_checked\"; /** * \u8d44\u4ea7\u62a5\u5e9f - \u7533\u8bf7\u62a5\u5e9f\u6743\u9650\uff08\u6709\u6570\u636e\u8303\u56f4\uff09 */ public static final String SCRAP_ADD =\"scrap_add\"; /** * \u8d44\u4ea7\u62a5\u5e9f-\u5ba1\u6279\u6743\u9650\uff08\u6709\u6570\u636e\u8303\u56f4\uff0c\u7ecf\u7406\u5ba1\u6279\uff09 */ public static final String SCRAP_APPROVAL = \"scrap_approval\"; /** * \u8d44\u4ea7\u62a5\u5e9f-\u8d22\u52a1\u5ba1\u6279\u6743\u9650 */ public static final String SCRAP_FAPPROVAL= \"scrap_fapproval\"; /** * \u8d44\u4ea7\u62a5\u5e9f-\u884c\u653f\u5ba1\u6279\u6743\u9650 */ public static final String SCRAP_ADAPPROVAL= \"scrap_adapproval\"; 2. \u5ba1\u6279\u8282\u70b9\u8bbe\u7f6e \u76ee\u524d\u5728\u6846\u67b6\u4e2d\u6709\u9ed8\u8ba4\u7684\u8282\u70b9\u5ba1\u6279\u4eba\u7684\u5b9e\u73b0,\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u8282\u70b9: public static final String \u7ecf\u7406\u5ba1\u6279 =\"\u7ecf\u7406\u5ba1\u6279\"; public static final String \u8d22\u52a1\u5ba1\u6279 =\"\u8d22\u52a1\u5ba1\u6279\"; public static final String \u884c\u653f\u5ba1\u6279 =\"\u884c\u653f\u5ba1\u6279\"; public static final String \u884c\u653f\u786e\u8ba4 =\"\u884c\u653f\u786e\u8ba4\"; public static final String \u91c7\u8d2d\u90e8\u95e8\u5ba1\u6279 =\"\u91c7\u8d2d\u90e8\u95e8\u5ba1\u6279\"; public static final String \u52a9\u7406\u786e\u8ba4 =\"\u52a9\u7406\u786e\u8ba4\"; public static final String \u8d22\u52a1\u786e\u8ba4 =\"\u8d22\u52a1\u786e\u8ba4\"; public static final String \u9a8c\u6536\u90e8\u95e8 =\"\u9a8c\u6536\u90e8\u95e8\"; \u6bcf\u4e00\u4e2a\u8282\u70b9\u662f\u9700\u8981\u5b9e\u73b0\u81ea\u5df1\u5982\u4f55\u627e\u5ba1\u6279\u4eba\u7684\u903b\u8f91,\u4ee5\u4e0b\u662f\u9ed8\u8ba4\u67e5\u627e\u5ba1\u6279\u4eba\u7684\u903b\u8f91: \u9700\u8981\u5b9e\u73b0\u7684\u63a5\u53e3: public interface ActivityNode { List<EmployeeTestData> approvals(Map<String,String> urlMapping,ActivityContext context); } /** \u7ecf\u7406\u5ba1\u6279 */ @ActivityProvider(activityName = {AssetActivityNames.\u524d\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f,AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f ,AssetActivityNames.\u65e0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f},activityNodeName = NodeName.\u7ecf\u7406\u5ba1\u6279) public class AssetManagerNode implements ActivityNode{ @Override public List<EmployeeTestData> approvals(Map<String, String> map, ActivityContext activityContext) { return OmsHelper.getManagerByApplyOrdIds(activityContext.get(\"orgIds\").toString()); } } \u5176\u4e2d\u4f7f\u7528\u7684sql\u8bed\u53e5\u662f: select employeeTable.* from v2_manager_final as employeeTable with(nolock) where exists (select 1 from t_oms_employee_baseinfor as a with(nolock) where a.orgId = employeeTable.manageOrgId and a.userCode in (90000)); \u5176\u4ed6\u6240\u6709\u7684\u9ed8\u8ba4\u8282\u70b9\u4e5f\u662f\u4f7f\u7528\u7c7b\u4f3c\u7684\u903b\u8f91\u53bb\u5b9e\u73b0\u4e86\u5f97\u5230\u5ba1\u6279\u4eba\u7684\u903b\u8f91,\u76f8\u5173\u7684SQL\u5982\u4e0b: -- \u8d22\u52a1\u5ba1\u6279/\u884c\u653f\u5ba1\u6279/\u884c\u653f\u786e\u8ba4/\u91c7\u8d2d\u90e8\u95e8\u5ba1\u6279/\u52a9\u7406\u786e\u8ba4/\u9a8c\u6536\u90e8\u95e8,\u6839\u636e\u4ed6\u4e0d\u540c\u7684privilegeUrl\u83b7\u53d6\u4e0d\u540c\u7684\u6743\u9650,\u53ef\u80fd\u8fd8\u548cdatascope\u6709\u5173\u7cfb select eb.orgName,isnull(dp.deptId,eb.orgId) as orgId,eb.userName,eb.positionName from oms..v2_employee_final as eb WITH (NOLOCK) left join v_current_budget_dept dp with (nolock) on dp.orgId=eb.orgId where eb.status in ('\u6b63\u5f0f','\u8bd5\u7528\u671f') AND eb.company in (?) and exists (select 1 from oms..v2_privilege_final as p WITH (NOLOCK) where p.userCode = eb.userCode and p.privilegeUrl = ? and p.appcode = ?) and ( ( eb.orgClass = '\u540e\u53f0' and dp.deptId is not null) or (eb.orgClass != '\u540e\u53f0') ) \u5173\u4e8e\u6ce8\u89e3\u7684\u8bf4\u660e:activityName \u8868\u793a\u54ea\u4e2a\u5de5\u4f5c\u6d41,\u53ef\u4ee5\u591a\u4e2a\u5ba1\u6279\u6d41,activityNodeName,\u8868\u793a\u4f60\u7684\u8282\u70b9\u540d\u79f0,\u53ef\u4ee5\u591a\u4e2a\u8282\u70b9 @ActivityProvider(activityName = DefinedActivityName.\u8d44\u4ea7\u62a5\u5e9f ,activityNodeName = NodeName.\u7ecf\u7406\u5ba1\u6279) \u5982\u679c\u4ee5\u4e0a\u5b9e\u73b0\u7684\u8282\u70b9\u4eba\u6ee1\u8db3\u4e86\u4f60\u7684\u9700\u8981,\u5219\u4e0d\u9700\u8981\u518d\u5b9e\u73b0\u65b0\u7684\u8282\u70b9 3. \u5ba1\u6279\u901a\u8fc7\u7684\u6d41\u7a0b \u6bcf\u4e2a\u5ba1\u6279\u6d41\u90fd\u53ef\u80fd\u6709\u5ba1\u6279\u901a\u8fc7,\u6240\u4ee5\u9700\u8981\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u5b9e\u73b0,\u4ee3\u7801\u53ef\u4ee5\u653e\u5728\u6d4b\u8bd5\u6d41\u7a0b\u7684\u6587\u4ef6\u4e2d: @ActivityProvider(activityName = {AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f, AssetActivityNames.\u524d\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f,AssetActivityNames.\u65e0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f} , approveActionFor = {NodeName.\u9a8c\u6536\u90e8\u95e8 , NodeName.\u8d22\u52a1\u5ba1\u6279, NodeName.\u884c\u653f\u786e\u8ba4,NodeName.\u7ecf\u7406\u5ba1\u6279}) public static void approveScrapAsset(WebDriver driver, AssetScrapTestData d) { \u8d44\u4ea7\u62a5\u5e9f\u5ba1\u6279\u9884\u5904\u7406(driver, d); WebTestActionBuilder.createTestActionByUIAction(ApprovePage.class, \"\u5ba1\u6279\u901a\u8fc7\", driver, d).execute(); } \u5173\u4e8e\u6ce8\u89e3\u7684\u8bf4\u660e: activityName \u8868\u793a\u90a3\u4e2a\u5de5\u4f5c\u6d41,\u53ef\u4ee5\u591a\u4e2a\u5ba1\u6279\u6d41 approveActionFor,\u8868\u793a\u4f60\u901a\u8fc7\u7ed9\u54ea\u4e9b\u8282\u70b9\u7528,\u53ef\u4ee5\u591a\u4e2a\u8282\u70b9 4. \u5ba1\u6279\u62d2\u7edd\u7684\u6d41\u7a0b \u6bcf\u4e2a\u5ba1\u6279\u6d41\u90fd\u53ef\u80fd\u6709\u62d2\u7edd\u901a\u8fc7,\u6240\u4ee5\u9700\u8981\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u5b9e\u73b0,\u4ee3\u7801\u53ef\u4ee5\u653e\u5728\u6d4b\u8bd5\u6d41\u7a0b\u7684\u6587\u4ef6\u4e2d: @ActivityProvider(activityName = {AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f, AssetActivityNames.\u524d\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f,AssetActivityNames.\u65e0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f} , rejectActionFor= {NodeName.\u9a8c\u6536\u90e8\u95e8 , NodeName.\u8d22\u52a1\u5ba1\u6279, NodeName.\u884c\u653f\u786e\u8ba4,NodeName.\u7ecf\u7406\u5ba1\u6279}) public static void rejectScrapAsset(WebDriver driver, AssetScrapTestData d) { \u8d44\u4ea7\u62a5\u5e9f\u5ba1\u6279\u9884\u5904\u7406(driver, d); WebTestActionBuilder.createTestActionByUIAction(ApprovePage.class, \"\u5ba1\u6279\u6253\u56de\", driver, d).execute(); } \u5173\u4e8e\u6ce8\u89e3\u7684\u8bf4\u660e: activityName \u8868\u793a\u90a3\u4e2a\u5de5\u4f5c\u6d41,\u53ef\u4ee5\u591a\u4e2a\u5ba1\u6279\u6d41 rejectActionFor,\u8868\u793a\u4f60\u901a\u8fc7\u7ed9\u54ea\u4e9b\u8282\u70b9\u7528,\u53ef\u4ee5\u591a\u4e2a\u8282\u70b9 5. \u5ba1\u6279\u5f00\u59cb\u7684\u6d41\u7a0b \u6bcf\u4e2a\u5ba1\u6279\u90fd\u6709\u5f00\u59cb\u7684\u6d41\u7a0b: @ActivityProvider(activityName = AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f,startAction = true) public static void bgScrapAsset(WebDriver driver, AssetScrapTestData d) { AssetsFlows.goToAssetInfoPage(driver, d); WebTestActionBuilder.use(AssetApplyDetailPage.class, driver).getApplyScrap().click(); WebTestActionBuilder.use(ApplyScrapPage.class, driver).processUIAction(\"\u62a5\u5e9f\u540e\u53f0\u5206\u644a\", d); } \u5173\u4e8e\u6ce8\u89e3\u7684\u8bf4\u660e: activityName \u8868\u793a\u90a3\u4e2a\u5de5\u4f5c\u6d41,\u53ef\u4ee5\u591a\u4e2a\u5ba1\u6279\u6d41 startAction,\u8868\u793a\u662f\u4e2a\u5f00\u59cb\u52a8\u4f5c 5. \u5ba1\u6279\u62d2\u7edd\u540e\u91cd\u65b0\u5f00\u59cb\u7684\u6d41\u7a0b \u6bcf\u4e2a\u5ba1\u6279\u90fd\u6709\u91cd\u65b0\u5f00\u59cb\u7684\u7684\u6d41\u7a0b: @ActivityProvider(activityName = AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f,restartAction = true) public static void bgScrapAsset(WebDriver driver, AssetScrapTestData d) { AssetsFlows.goToAssetInfoPage(driver, d); WebTestActionBuilder.use(AssetApplyDetailPage.class, driver).getApplyScrap().click(); WebTestActionBuilder.use(ApplyScrapPage.class, driver).processUIAction(\"\u62a5\u5e9f\u540e\u53f0\u5206\u644a\", d); } \u5173\u4e8e\u6ce8\u89e3\u7684\u8bf4\u660e: activityName \u8868\u793a\u90a3\u4e2a\u5de5\u4f5c\u6d41,\u53ef\u4ee5\u591a\u4e2a\u5ba1\u6279\u6d41 restartAction,\u8868\u793a\u662f\u4e2a\u5f00\u59cb\u52a8\u4f5c \u81f3\u6b64\u6574\u4e2a\u5ba1\u6279\u6d41\u7a0b\u4e00\u5b9a\u5b9a\u4e49\u597d\u4e86,\u7136\u540e\u5c31\u8003\u8651\u5982\u4f55\u6267\u884c\u8fd9\u4e2a\u5ba1\u6279\u6d41 6. \u6839\u636e\u5916\u90e8\u6570\u636e\u6267\u884c\u5ba1\u6279\u6d41 \u5ba1\u6279\u6d41\u7684\u6267\u884c\u4ee3\u7801\u5f88\u7b80\u5355: public static void approveScrapWorkFlow(WebDriver driver,AssetTestData d,ActivityContext context){ ActivityFlow flow = ActivityFlow.build(driver, d, new ActivityProviders(context)); flow.process(); } \u8fd9\u4e2a\u4ee3\u7801\u53ea\u662f\u6839\u636eActivityContext\u6765\u6267\u884c,\u5305\u62ec\u91cc\u9762\u7684\u767b\u9646\u767b\u51fa,\u90fd\u5df2\u7ecf\u5305\u542b\u5728\u91cc\u9762\u4e86. \u7531\u4e8e\u90fd\u662f\u901a\u8fc7ActivityContext\u6765\u9a71\u52a8\u5ba1\u6279\u6d41,\u6240\u4ee5\u6211\u4eec\u9700\u8981\u521b\u5efa\u8fd9\u4e2aActivityContext: ActivityContext context = ActivityContext.build(AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f); context.appendActivity(NodeName.\u7ecf\u7406\u5ba1\u6279, ActivityNodeMode.APPROVE) .appendActivity(NodeName.\u9a8c\u6536\u90e8\u95e8,ActivityNodeMode.APPROVE) .appendActivity(NodeName.\u884c\u653f\u786e\u8ba4,ActivityNodeMode.APPROVE) .appendActivity(NodeName.\u8d22\u52a1\u5ba1\u6279,ActivityNodeMode.APPROVE); context.set(\"orgIds\", d.getAffiliatedOrgId()); context.set(\"applyOrg\", d.getApplyOrg()); context.setStartEmployee(startUserCode); context.setAppCode(\"AssetManager\"); return context; \u8fd9\u6837\u4e00\u4e2a\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f\u6d41\u7a0b\u5c31\u6784\u5efa\u597d\u4e86,\u5728\u6d4b\u8bd5\u7528\u4f8b\u91cc\u9762\u8c03\u7528: @Test public void test_noneDepreciation_scrap(){ AssetScrapTestData d = AssetScrapTestData.getNoneDepreciationScrapableAsset(); AssetsScrapFlows.approveNoneDepreciationScrap(DriverFactory.get(),d,\"98301\"); } \u6574\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u5c31\u53ef\u4ee5\u6267\u884c\u8d77\u6765\u4e86. 7. \u5982\u4f55\u6570\u636e\u9a71\u52a8\u8fd9\u4e2a\u7528\u4f8b\u5462? public class AssetsScrapApprovalTest extends BaseWebCurrencyTest { @DataProvider(name = \"Asset_data\") public Iterator<Object[]> getTestData(Method m) throws Exception{ Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"Context\", ActivityContext.class); clazzMap.put(\"TestDescription\", TestDescription.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/AssetScrapTestCases.xls\", m, clazzMap); return y; } @Test(dataProvider = \"Asset_data\") public void test_noneDepreciation_scrap(ActivityContext context,TestDescription testDescription){ AssetScrapTestData d = AssetScrapTestData.getNoneDepreciationScrapableAsset(); context.set(\"orgIds\", d.getAffiliatedOrgId()); context.set(\"applyOrg\", d.getApplyOrg()); context.setAppCode(\"AssetManager\"); AssetsScrapFlows.approveScrapWorkFlow(DriverFactory.get(), d, context); } } \u6570\u636e\u8bbe\u7f6e:","title":"\u5de5\u4f5c\u6d41\u6d4b\u8bd5\u4e4b\u52a8\u6001\u5ba1\u6279\u8282\u70b9"},{"location":"activity_automation/activity_automation_dynamic/#_1","text":"\u4ee5\u62a5\u5e9f\u6d41\u7a0b\u4e3a\u4f8b,\u4ecb\u7ecd\u5982\u4f55\u6784\u5efa\u52a8\u6001\u7684\u5de5\u4f5c\u6d41\u81ea\u52a8\u5316\u6d4b\u8bd5,\u4ee5\u4e0b\u6784\u5efa\u7684\u6d41\u7a0b\u4e3b\u8981\u5e94\u7528\u5230\u60f3\u81ea\u52a8\u83b7\u53d6\u4e0d\u540c\u8282\u70b9\u5ba1\u6279\u4eba. \u76ee\u524d\u5de5\u4f5c\u6d41\u7684\u4e00\u822c\u5b9e\u73b0\u7684\u903b\u8f91\u5982\u4e0b: \u4e0d\u540c\u7684\u5ba1\u6279\u6d41\u7a0b\u5b9a\u4e49\u4e0d\u540c\u7684\u5ba1\u6279\u8282\u70b9 \u6839\u636e\u4e0d\u540c\u8282\u70b9\u7684\u6743\u9650(\u5ba1\u6279\u6743\u9650)\u6765\u786e\u5b9a\u4e0d\u540c\u7684\u5ba1\u6279\u4eba \u5ba1\u6279\u901a\u8fc7\u548c\u62d2\u7edd\u7684\u5b9e\u73b0 \u7531\u4e8e\u5b8c\u5168\u81ea\u5df1\u5728\u6d4b\u8bd5\u6570\u636e\u6587\u4ef6\u4e2d\u5b9a\u4e49\u597d\u5ba1\u6279\u4eba\u4e4b\u540e,\u5982\u679c\u4e2d\u95f4\u5ba1\u6279\u4eba\u6570\u636e\u8d77\u4e86\u53d8\u5316,\u5219\u9700\u8981\u81ea\u5df1\u7ef4\u62a4\u8fd9\u4e2a\u6d4b\u8bd5\u6570\u636e,\u53ef\u80fd\u6709\u65f6\u6bd4\u8f83\u7e41\u7410; \u5982\u679c\u901a\u8fc7\u4ee5\u4e0b\u5b8c\u6210\u62bd\u8c61\u53d8\u91cf,\u6765\u6839\u636e\u5ba1\u6279\u4e1a\u52a1,\u7533\u8bf7\u4eba\u6765\u5199\u7a0b\u5e8f\u5b8c\u6210\u7684\u8bdd,\u5219\u53ea\u9700\u8981\u7b80\u5355\u7ef4\u62a4\u7533\u8bf7\u4eba\u6570\u636e\u5c31\u53ef\u4ee5,\u4e0d\u8fc7\u9700\u8981\u5199\u4e0d\u5c11\u4ee3\u7801. \u5b9e\u73b0\u7684\u5927\u4f53\u7c7b\u56fe\u5982\u4e0b: \u6240\u4ee5\u5b9e\u9645\u7684\u7f16\u5199\u8fc7\u7a0b\u4e2d\u9700\u8981\u9700\u8981\u5b9e\u73b0: \u9488\u5bf9\u67d0\u4e2a\u5de5\u4f5c\u6d41\u7684\u6743\u9650 \u4e0d\u540c\u5ba1\u6279\u8282\u70b9\u7684\u5b9e\u73b0,\u5982\u679c\u6709\u9ed8\u8ba4\u5b9e\u73b0\u53ef\u4ee5\u6ee1\u8db3\u5219\u53ef\u4ee5\u4f7f\u7528\u9ed8\u8ba4\u7684\u5b9e\u73b0 \u4e0d\u540c\u5ba1\u6279\u8282\u70b9\u7684\u5ba1\u6279\u901a\u8fc7,\u5ba1\u6279\u62d2\u7edd\u6d41\u7a0b \u5ba1\u6279\u7684\u5f00\u59cb\u6d41\u7a0b\u548c\u5ba1\u6279\u62d2\u7edd\u540e\u91cd\u65b0\u5f00\u59cb\u7684\u6d41\u7a0b","title":"\u6784\u5efa\u5de5\u4f5c\u6d41\u7684\u81ea\u52a8\u5316\u6d4b\u8bd5"},{"location":"activity_automation/activity_automation_dynamic/#0","text":"\u6574\u4e2a\u62a5\u5e9f\u5ba1\u6279\u6d41\u7a0b\u6709: \u524d\u53f0\u6298\u65e7\u62a5\u5e9f \u540e\u53f0\u6298\u65e7\u62a5\u5e9f \u65e0\u6298\u65e7\u62a5\u5e9f \u6bcf\u4e2a\u5ba1\u6279\u6d41\u5305\u62ec: \u7533\u8bf7\u62a5\u5e9f(\u5f00\u59cb\u52a8\u4f5c) \u8d44\u4ea7\u90e8\u95e8\u7ecf\u7406\u5ba1\u6279(\u8282\u70b9\u5ba1\u6279\u4eba\u5b9e\u73b0,\u5ba1\u6279\u901a\u8fc7/\u62d2\u7edd\u52a8\u4f5c\u5b9e\u73b0) \u9a8c\u6536\u90e8\u95e8\u5ba1\u6279(\u8282\u70b9\u5ba1\u6279\u4eba\u5b9e\u73b0,\u5ba1\u6279\u901a\u8fc7/\u62d2\u7edd\u52a8\u4f5c\u5b9e\u73b0) \u884c\u653f\u786e\u8ba4\u5ba1\u6279(\u8282\u70b9\u5ba1\u6279\u4eba\u5b9e\u73b0,\u5ba1\u6279\u901a\u8fc7/\u62d2\u7edd\u52a8\u4f5c\u5b9e\u73b0) \u8d22\u52a1\u5ba1\u6279(\u8282\u70b9\u5ba1\u6279\u4eba\u5b9e\u73b0,\u5ba1\u6279\u901a\u8fc7/\u62d2\u7edd\u52a8\u4f5c\u5b9e\u73b0) \u7531\u4e8e\u67d0\u4e00\u4e2a\u5ba1\u6279\u6d41\u8282\u70b9\u9700\u8981\u7684\u6743\u9650\u4e0d\u4e00\u6837,\u6240\u4ee5\u8fd8\u6709\u63d0\u4f9b\u4e00\u4e2a\u6743\u9650","title":"0.\u62a5\u5e9f\u5ba1\u6279\u6d41\u6210\u4e3a\u4f8b"},{"location":"activity_automation/activity_automation_dynamic/#1","text":"\u5728\u76ee\u524d\u7684\u5de5\u4f5c\u6d41\u4e2d\u6709\u4e00\u4e2a\u7528\u6237\u6743\u9650\u7684\u7ba1\u7406,\u6240\u4ee5\u7b2c\u4e00\u6b65\u5148\u5c06\u6b21\u5de5\u4f5c\u6d41\u6240\u6709\u4f7f\u7528\u5230\u7684\u6743\u9650\u6574\u7406\u51fa\u6765,\u6743\u9650\u7528Map\u7684\u65b9\u5f0f\u6765\u63d0\u4f9b ,\u4ee5\u4e0b\u662f\u62a5\u5e9f\u6d41\u7a0b\u4e2d\u7528\u5230\u7684\u6743\u9650,Map\u7684key,\u7528\u6765\u8868\u793a\u5de5\u4f5c\u6d41\u7684\u8282\u70b9,value\u8868\u793a\u6743\u9650\u7684\u6807\u793a,\u6b64\u503c\u4e3b\u8981\u7528\u6765\u67e5\u8be2\u6ee1\u8db3\u6743\u9650\u7684\u5ba1\u6279\u4eba @ActivityProvider(activityName = DefinedActivityName.\u8d44\u4ea7\u62a5\u5e9f,privilege = true) public static Map<String,String> urlMapping(){ Map<String,String> map = Maps.newHashMap(); map.put(NodeName.\u9a8c\u6536\u90e8\u95e8, Constants.SCRAP_CHECKED); map.put(NodeName.\u8d22\u52a1\u5ba1\u6279,Constants.SCRAP_FAPPROVAL); map.put(NodeName.\u884c\u653f\u786e\u8ba4,Constants.SCRAP_ADAPPROVAL); return map; } /** * \u8d44\u4ea7\u62a5\u5e9f - \u9a8c\u6536\u90e8\u95e8\u9a8c\u6536\u6743\u9650 */ public static final String SCRAP_CHECKED = \"scrap_checked\"; /** * \u8d44\u4ea7\u62a5\u5e9f - \u7533\u8bf7\u62a5\u5e9f\u6743\u9650\uff08\u6709\u6570\u636e\u8303\u56f4\uff09 */ public static final String SCRAP_ADD =\"scrap_add\"; /** * \u8d44\u4ea7\u62a5\u5e9f-\u5ba1\u6279\u6743\u9650\uff08\u6709\u6570\u636e\u8303\u56f4\uff0c\u7ecf\u7406\u5ba1\u6279\uff09 */ public static final String SCRAP_APPROVAL = \"scrap_approval\"; /** * \u8d44\u4ea7\u62a5\u5e9f-\u8d22\u52a1\u5ba1\u6279\u6743\u9650 */ public static final String SCRAP_FAPPROVAL= \"scrap_fapproval\"; /** * \u8d44\u4ea7\u62a5\u5e9f-\u884c\u653f\u5ba1\u6279\u6743\u9650 */ public static final String SCRAP_ADAPPROVAL= \"scrap_adapproval\";","title":"1. \u6784\u5efa\u5de5\u4f5c\u6d41\u7684\u6743\u9650"},{"location":"activity_automation/activity_automation_dynamic/#2","text":"\u76ee\u524d\u5728\u6846\u67b6\u4e2d\u6709\u9ed8\u8ba4\u7684\u8282\u70b9\u5ba1\u6279\u4eba\u7684\u5b9e\u73b0,\u4e3b\u8981\u6709\u4ee5\u4e0b\u51e0\u4e2a\u8282\u70b9: public static final String \u7ecf\u7406\u5ba1\u6279 =\"\u7ecf\u7406\u5ba1\u6279\"; public static final String \u8d22\u52a1\u5ba1\u6279 =\"\u8d22\u52a1\u5ba1\u6279\"; public static final String \u884c\u653f\u5ba1\u6279 =\"\u884c\u653f\u5ba1\u6279\"; public static final String \u884c\u653f\u786e\u8ba4 =\"\u884c\u653f\u786e\u8ba4\"; public static final String \u91c7\u8d2d\u90e8\u95e8\u5ba1\u6279 =\"\u91c7\u8d2d\u90e8\u95e8\u5ba1\u6279\"; public static final String \u52a9\u7406\u786e\u8ba4 =\"\u52a9\u7406\u786e\u8ba4\"; public static final String \u8d22\u52a1\u786e\u8ba4 =\"\u8d22\u52a1\u786e\u8ba4\"; public static final String \u9a8c\u6536\u90e8\u95e8 =\"\u9a8c\u6536\u90e8\u95e8\"; \u6bcf\u4e00\u4e2a\u8282\u70b9\u662f\u9700\u8981\u5b9e\u73b0\u81ea\u5df1\u5982\u4f55\u627e\u5ba1\u6279\u4eba\u7684\u903b\u8f91,\u4ee5\u4e0b\u662f\u9ed8\u8ba4\u67e5\u627e\u5ba1\u6279\u4eba\u7684\u903b\u8f91: \u9700\u8981\u5b9e\u73b0\u7684\u63a5\u53e3: public interface ActivityNode { List<EmployeeTestData> approvals(Map<String,String> urlMapping,ActivityContext context); } /** \u7ecf\u7406\u5ba1\u6279 */ @ActivityProvider(activityName = {AssetActivityNames.\u524d\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f,AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f ,AssetActivityNames.\u65e0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f},activityNodeName = NodeName.\u7ecf\u7406\u5ba1\u6279) public class AssetManagerNode implements ActivityNode{ @Override public List<EmployeeTestData> approvals(Map<String, String> map, ActivityContext activityContext) { return OmsHelper.getManagerByApplyOrdIds(activityContext.get(\"orgIds\").toString()); } } \u5176\u4e2d\u4f7f\u7528\u7684sql\u8bed\u53e5\u662f: select employeeTable.* from v2_manager_final as employeeTable with(nolock) where exists (select 1 from t_oms_employee_baseinfor as a with(nolock) where a.orgId = employeeTable.manageOrgId and a.userCode in (90000)); \u5176\u4ed6\u6240\u6709\u7684\u9ed8\u8ba4\u8282\u70b9\u4e5f\u662f\u4f7f\u7528\u7c7b\u4f3c\u7684\u903b\u8f91\u53bb\u5b9e\u73b0\u4e86\u5f97\u5230\u5ba1\u6279\u4eba\u7684\u903b\u8f91,\u76f8\u5173\u7684SQL\u5982\u4e0b: -- \u8d22\u52a1\u5ba1\u6279/\u884c\u653f\u5ba1\u6279/\u884c\u653f\u786e\u8ba4/\u91c7\u8d2d\u90e8\u95e8\u5ba1\u6279/\u52a9\u7406\u786e\u8ba4/\u9a8c\u6536\u90e8\u95e8,\u6839\u636e\u4ed6\u4e0d\u540c\u7684privilegeUrl\u83b7\u53d6\u4e0d\u540c\u7684\u6743\u9650,\u53ef\u80fd\u8fd8\u548cdatascope\u6709\u5173\u7cfb select eb.orgName,isnull(dp.deptId,eb.orgId) as orgId,eb.userName,eb.positionName from oms..v2_employee_final as eb WITH (NOLOCK) left join v_current_budget_dept dp with (nolock) on dp.orgId=eb.orgId where eb.status in ('\u6b63\u5f0f','\u8bd5\u7528\u671f') AND eb.company in (?) and exists (select 1 from oms..v2_privilege_final as p WITH (NOLOCK) where p.userCode = eb.userCode and p.privilegeUrl = ? and p.appcode = ?) and ( ( eb.orgClass = '\u540e\u53f0' and dp.deptId is not null) or (eb.orgClass != '\u540e\u53f0') ) \u5173\u4e8e\u6ce8\u89e3\u7684\u8bf4\u660e:activityName \u8868\u793a\u54ea\u4e2a\u5de5\u4f5c\u6d41,\u53ef\u4ee5\u591a\u4e2a\u5ba1\u6279\u6d41,activityNodeName,\u8868\u793a\u4f60\u7684\u8282\u70b9\u540d\u79f0,\u53ef\u4ee5\u591a\u4e2a\u8282\u70b9 @ActivityProvider(activityName = DefinedActivityName.\u8d44\u4ea7\u62a5\u5e9f ,activityNodeName = NodeName.\u7ecf\u7406\u5ba1\u6279) \u5982\u679c\u4ee5\u4e0a\u5b9e\u73b0\u7684\u8282\u70b9\u4eba\u6ee1\u8db3\u4e86\u4f60\u7684\u9700\u8981,\u5219\u4e0d\u9700\u8981\u518d\u5b9e\u73b0\u65b0\u7684\u8282\u70b9","title":"2. \u5ba1\u6279\u8282\u70b9\u8bbe\u7f6e"},{"location":"activity_automation/activity_automation_dynamic/#3","text":"\u6bcf\u4e2a\u5ba1\u6279\u6d41\u90fd\u53ef\u80fd\u6709\u5ba1\u6279\u901a\u8fc7,\u6240\u4ee5\u9700\u8981\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u5b9e\u73b0,\u4ee3\u7801\u53ef\u4ee5\u653e\u5728\u6d4b\u8bd5\u6d41\u7a0b\u7684\u6587\u4ef6\u4e2d: @ActivityProvider(activityName = {AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f, AssetActivityNames.\u524d\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f,AssetActivityNames.\u65e0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f} , approveActionFor = {NodeName.\u9a8c\u6536\u90e8\u95e8 , NodeName.\u8d22\u52a1\u5ba1\u6279, NodeName.\u884c\u653f\u786e\u8ba4,NodeName.\u7ecf\u7406\u5ba1\u6279}) public static void approveScrapAsset(WebDriver driver, AssetScrapTestData d) { \u8d44\u4ea7\u62a5\u5e9f\u5ba1\u6279\u9884\u5904\u7406(driver, d); WebTestActionBuilder.createTestActionByUIAction(ApprovePage.class, \"\u5ba1\u6279\u901a\u8fc7\", driver, d).execute(); } \u5173\u4e8e\u6ce8\u89e3\u7684\u8bf4\u660e: activityName \u8868\u793a\u90a3\u4e2a\u5de5\u4f5c\u6d41,\u53ef\u4ee5\u591a\u4e2a\u5ba1\u6279\u6d41 approveActionFor,\u8868\u793a\u4f60\u901a\u8fc7\u7ed9\u54ea\u4e9b\u8282\u70b9\u7528,\u53ef\u4ee5\u591a\u4e2a\u8282\u70b9","title":"3. \u5ba1\u6279\u901a\u8fc7\u7684\u6d41\u7a0b"},{"location":"activity_automation/activity_automation_dynamic/#4","text":"\u6bcf\u4e2a\u5ba1\u6279\u6d41\u90fd\u53ef\u80fd\u6709\u62d2\u7edd\u901a\u8fc7,\u6240\u4ee5\u9700\u8981\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u5b9e\u73b0,\u4ee3\u7801\u53ef\u4ee5\u653e\u5728\u6d4b\u8bd5\u6d41\u7a0b\u7684\u6587\u4ef6\u4e2d: @ActivityProvider(activityName = {AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f, AssetActivityNames.\u524d\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f,AssetActivityNames.\u65e0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f} , rejectActionFor= {NodeName.\u9a8c\u6536\u90e8\u95e8 , NodeName.\u8d22\u52a1\u5ba1\u6279, NodeName.\u884c\u653f\u786e\u8ba4,NodeName.\u7ecf\u7406\u5ba1\u6279}) public static void rejectScrapAsset(WebDriver driver, AssetScrapTestData d) { \u8d44\u4ea7\u62a5\u5e9f\u5ba1\u6279\u9884\u5904\u7406(driver, d); WebTestActionBuilder.createTestActionByUIAction(ApprovePage.class, \"\u5ba1\u6279\u6253\u56de\", driver, d).execute(); } \u5173\u4e8e\u6ce8\u89e3\u7684\u8bf4\u660e: activityName \u8868\u793a\u90a3\u4e2a\u5de5\u4f5c\u6d41,\u53ef\u4ee5\u591a\u4e2a\u5ba1\u6279\u6d41 rejectActionFor,\u8868\u793a\u4f60\u901a\u8fc7\u7ed9\u54ea\u4e9b\u8282\u70b9\u7528,\u53ef\u4ee5\u591a\u4e2a\u8282\u70b9","title":"4. \u5ba1\u6279\u62d2\u7edd\u7684\u6d41\u7a0b"},{"location":"activity_automation/activity_automation_dynamic/#5","text":"\u6bcf\u4e2a\u5ba1\u6279\u90fd\u6709\u5f00\u59cb\u7684\u6d41\u7a0b: @ActivityProvider(activityName = AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f,startAction = true) public static void bgScrapAsset(WebDriver driver, AssetScrapTestData d) { AssetsFlows.goToAssetInfoPage(driver, d); WebTestActionBuilder.use(AssetApplyDetailPage.class, driver).getApplyScrap().click(); WebTestActionBuilder.use(ApplyScrapPage.class, driver).processUIAction(\"\u62a5\u5e9f\u540e\u53f0\u5206\u644a\", d); } \u5173\u4e8e\u6ce8\u89e3\u7684\u8bf4\u660e: activityName \u8868\u793a\u90a3\u4e2a\u5de5\u4f5c\u6d41,\u53ef\u4ee5\u591a\u4e2a\u5ba1\u6279\u6d41 startAction,\u8868\u793a\u662f\u4e2a\u5f00\u59cb\u52a8\u4f5c","title":"5. \u5ba1\u6279\u5f00\u59cb\u7684\u6d41\u7a0b"},{"location":"activity_automation/activity_automation_dynamic/#5_1","text":"\u6bcf\u4e2a\u5ba1\u6279\u90fd\u6709\u91cd\u65b0\u5f00\u59cb\u7684\u7684\u6d41\u7a0b: @ActivityProvider(activityName = AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f,restartAction = true) public static void bgScrapAsset(WebDriver driver, AssetScrapTestData d) { AssetsFlows.goToAssetInfoPage(driver, d); WebTestActionBuilder.use(AssetApplyDetailPage.class, driver).getApplyScrap().click(); WebTestActionBuilder.use(ApplyScrapPage.class, driver).processUIAction(\"\u62a5\u5e9f\u540e\u53f0\u5206\u644a\", d); } \u5173\u4e8e\u6ce8\u89e3\u7684\u8bf4\u660e: activityName \u8868\u793a\u90a3\u4e2a\u5de5\u4f5c\u6d41,\u53ef\u4ee5\u591a\u4e2a\u5ba1\u6279\u6d41 restartAction,\u8868\u793a\u662f\u4e2a\u5f00\u59cb\u52a8\u4f5c \u81f3\u6b64\u6574\u4e2a\u5ba1\u6279\u6d41\u7a0b\u4e00\u5b9a\u5b9a\u4e49\u597d\u4e86,\u7136\u540e\u5c31\u8003\u8651\u5982\u4f55\u6267\u884c\u8fd9\u4e2a\u5ba1\u6279\u6d41","title":"5. \u5ba1\u6279\u62d2\u7edd\u540e\u91cd\u65b0\u5f00\u59cb\u7684\u6d41\u7a0b"},{"location":"activity_automation/activity_automation_dynamic/#6","text":"\u5ba1\u6279\u6d41\u7684\u6267\u884c\u4ee3\u7801\u5f88\u7b80\u5355: public static void approveScrapWorkFlow(WebDriver driver,AssetTestData d,ActivityContext context){ ActivityFlow flow = ActivityFlow.build(driver, d, new ActivityProviders(context)); flow.process(); } \u8fd9\u4e2a\u4ee3\u7801\u53ea\u662f\u6839\u636eActivityContext\u6765\u6267\u884c,\u5305\u62ec\u91cc\u9762\u7684\u767b\u9646\u767b\u51fa,\u90fd\u5df2\u7ecf\u5305\u542b\u5728\u91cc\u9762\u4e86. \u7531\u4e8e\u90fd\u662f\u901a\u8fc7ActivityContext\u6765\u9a71\u52a8\u5ba1\u6279\u6d41,\u6240\u4ee5\u6211\u4eec\u9700\u8981\u521b\u5efa\u8fd9\u4e2aActivityContext: ActivityContext context = ActivityContext.build(AssetActivityNames.\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f); context.appendActivity(NodeName.\u7ecf\u7406\u5ba1\u6279, ActivityNodeMode.APPROVE) .appendActivity(NodeName.\u9a8c\u6536\u90e8\u95e8,ActivityNodeMode.APPROVE) .appendActivity(NodeName.\u884c\u653f\u786e\u8ba4,ActivityNodeMode.APPROVE) .appendActivity(NodeName.\u8d22\u52a1\u5ba1\u6279,ActivityNodeMode.APPROVE); context.set(\"orgIds\", d.getAffiliatedOrgId()); context.set(\"applyOrg\", d.getApplyOrg()); context.setStartEmployee(startUserCode); context.setAppCode(\"AssetManager\"); return context; \u8fd9\u6837\u4e00\u4e2a\u540e\u53f0\u6298\u65e7\u8d44\u4ea7\u62a5\u5e9f\u6d41\u7a0b\u5c31\u6784\u5efa\u597d\u4e86,\u5728\u6d4b\u8bd5\u7528\u4f8b\u91cc\u9762\u8c03\u7528: @Test public void test_noneDepreciation_scrap(){ AssetScrapTestData d = AssetScrapTestData.getNoneDepreciationScrapableAsset(); AssetsScrapFlows.approveNoneDepreciationScrap(DriverFactory.get(),d,\"98301\"); } \u6574\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u5c31\u53ef\u4ee5\u6267\u884c\u8d77\u6765\u4e86.","title":"6. \u6839\u636e\u5916\u90e8\u6570\u636e\u6267\u884c\u5ba1\u6279\u6d41"},{"location":"activity_automation/activity_automation_dynamic/#7","text":"public class AssetsScrapApprovalTest extends BaseWebCurrencyTest { @DataProvider(name = \"Asset_data\") public Iterator<Object[]> getTestData(Method m) throws Exception{ Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"Context\", ActivityContext.class); clazzMap.put(\"TestDescription\", TestDescription.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/AssetScrapTestCases.xls\", m, clazzMap); return y; } @Test(dataProvider = \"Asset_data\") public void test_noneDepreciation_scrap(ActivityContext context,TestDescription testDescription){ AssetScrapTestData d = AssetScrapTestData.getNoneDepreciationScrapableAsset(); context.set(\"orgIds\", d.getAffiliatedOrgId()); context.set(\"applyOrg\", d.getApplyOrg()); context.setAppCode(\"AssetManager\"); AssetsScrapFlows.approveScrapWorkFlow(DriverFactory.get(), d, context); } } \u6570\u636e\u8bbe\u7f6e:","title":"7. \u5982\u4f55\u6570\u636e\u9a71\u52a8\u8fd9\u4e2a\u7528\u4f8b\u5462?"},{"location":"api_automation/APIAutomation/","text":"API \u81ea\u52a8\u5316\u6d4b\u8bd5 \u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u5982\u4f55\u8fdb\u884cAPI\u81ea\u52a8\u5316\u6d4b\u8bd5,\u5305\u62ec\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4: API\u6d4b\u8bd5\u57fa\u7840\u4ee3\u7801\u81ea\u52a8\u751f\u6210 API\u6d4b\u8bd5\u7528\u4f8b\u7f16\u5199 API \u81ea\u52a8\u5316\u6d4b\u8bd5\u4ee3\u7801\u751f\u6210 API\u6d4b\u8bd5\u5b9e\u9645\u4e0a\u4e8b\u9762\u5411\u63a5\u53e3\u7684,\u5982\u679c\u63a5\u53e3\u5b9a\u4e49\u5b8c\u6210,\u90a3\u4e48\u8c03\u7528\u63a5\u53e3\u7684\u4ee3\u7801\u5b9e\u9645\u4e0a\u4e5f\u5c31\u662f\u662f\u5b8c\u6210.\u6240\u4ee5\u8fd9\u90e8\u5206\u4ee3\u7801\u5c31\u53ef\u4ee5\u901a\u8fc7\u81ea\u52a8\u751f\u6210\u6765\u5b8c\u6210. \u6240\u4ee5\u5173\u952e\u95ee\u9898\u5c31\u662f\u5982\u4f55\u83b7\u53d6\u63a5\u53e3\u5b9a\u4e49,\u76ee\u524d\u652f\u6301\u901a\u8fc7\u4e09\u79cd\u63a5\u53e3\u5b9a\u4e49\u8fd8\u81ea\u52a8\u751f\u6210\u4ee3\u7801: OPEN API \u63cf\u8ff0 HAR \u6587\u4ef6 \u624b\u5de5\u7f16\u5199API\u63a5\u53e3\u6587\u6863 \u4e0b\u9762\u5c31\u4ece\u5982\u4f55\u81ea\u52a8\u751f\u6210API\u6d4b\u8bd5\u4ee3\u7801\u7684\u4e0d\u540c\u65b9\u5f0f\u9010\u4e2a\u8bf4\u8d77: OPEN API\u63cf\u8ff0 \u8bbf\u95eeOpenAPI\u7f51\u7ad9,\u627e\u5230\u9700\u8981\u6d4b\u8bd5\u7684API\u5730\u5740 \u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u751f\u6210\u6d4b\u8bd5\u7528\u4f8b: APICodesGenerator.nameAPIName(\"FindByPhoneNumberAPI\") .nameAPICategory(\"keyuan/inquiry\") .openAPIURL(\"http://open.Domain.org/rest/docs?\" + \"module=%E5%AE%A2%E6%BA%90API&api=%E5%AE%A2%E6%BA%90-\" + \"%E6%A0%B9%E6%8D%AE%E5%8F%B7%E7%A0%81%E5%8C%B9%E9%85%8D%E5\" + \"%AE%A2%E6%BA%90%E4%BF%A1%E6%81%AF&version=v4\") .generateAllCodes(); \u8bf4\u660e: nameAPIName: \u7ed9API\u8d77\u4e2a\u540d\u5b57 nameAPICategory: \u7ed9API\u5f52\u5404\u7c7b, keyuan/inquiry \u4e0d\u662f\u5728keyuan\u7684inquiry\u76ee\u5f55\u4e0b\u9762 openAPIUrl: \u5c31\u662fAPI\u5728OPEN API\u4e2d\u7684\u5730\u5740 \u4ee3\u7801\u751f\u6210\u597d\u4e4b\u540e,\u4f1a\u5728: main\u7684API\u76ee\u5f55\u91cc\u9762\u751f\u6210API Client\u7684\u4ee3\u7801 test\u7684API\u76ee\u5f55\u4e0b\u9762\u751f\u6210\u6d4b\u8bd5\u7528\u4f8b\u4ee3\u7801 servicedescription\u4e0b\u9762\u751f\u6210API \u63cf\u8ff0\u7684JSON\u6587\u4ef6 testcase\u76ee\u5f55\u4e0b\u9762\u6d4b\u8bd5\u7528\u4f8b\u6587\u4ef6 HAR \u6587\u4ef6 \u6bcf\u4e2a\u9875\u9762\u7684\u8bbf\u95ee\u90fd\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2aHAR\u6587\u4ef6,\u5982\u56fe\u6240\u793a, HAR\u6587\u4ef6\u4e2d\u6709\u5f88\u591a\u5173\u4e8e\u8bf7\u6c42\u7684\u4fe1\u606f,\u4e0b\u9762\u662f\u4ecb\u7ecd\u5982\u4f55\u6839\u636eHAR\u6587\u4ef6\u6765\u751f\u6210API\u6d4b\u8bd5\u4ee3\u7801\u7684\u5b9e\u4f8b: \u64cd\u4f5c\u4f60\u8981\u6d4b\u8bd5\u7684\u529f\u80fd,\u5982\u8fd9\u91cc\u5de5\u8d44\u91cc\u9762\u7684\u66f4\u65b0\u57fa\u672c\u5de5\u8d44: \u590d\u5236\u51faHAR\u6587\u4ef6,\u540c\u65f6\u786e\u5b9a\u4f60\u8981\u6d4b\u8bd5\u7684API\u8d44\u6e90\u8def\u5f84 \u901a\u8fc7HAR\u6587\u4ef6\u751f\u6210API\u6d4b\u8bd5\u4ee3\u7801 \u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u901a\u8fc7\u4f60\u590d\u5236\u51fa\u7684har\u6587\u4ef6\u751f\u6210api\u6d4b\u8bd5\u4ee3\u7801: APICodesGenerator .nameAPIName(\"FindLevelSalary\") .nameAPICategory(\"levelsalary\").nameAPIDomainName(\"salary\") .useHarFile(\"har.json\", \"levelsalary/findLevelSalary\") .generateAllCodes(); \u65b9\u6cd5\u8bf4\u660e: nameAPIName: \u7ed9API\u8d77\u4e2a\u540d\u5b57 nameAPICategory: \u7ed9API\u5f52\u5404\u7c7b,\u4e0b\u9762\u4ee3\u7801\u4e2d\u6807\u5fd7\u4f1a\u653e\u5728levelsalary\u76ee\u5f55\u4e0b\u9762 nameAPIDomainName: \u8868\u793a\u5f53\u524d\u5e94\u7528\u540d\u79f0,\u548c\u914d\u7f6e\u6587\u4ef6\u73af\u5883\u4e2d\u7684\u88ab\u6d4b\u5e94\u7528\u4e00\u6837 useHarFile: har.json\u5c31\u662f\u590d\u5236\u51fa\u6765\u7684har\u5185\u5bb9,levelsalary/findLevelSalary \u8868\u793a\u9700\u8981\u8bbf\u95ee\u7684\u8d44\u6e90\u5728\u5f53\u524d\u5e94\u7528\u4e0b\u9762\u7684\u76f8\u5bf9\u8def\u5f84 \u8fd9\u6837API\u6d4b\u8bd5\u7684\u76f8\u5173\u6587\u4ef6\u4e5f\u53ef\u4ee5\u751f\u6210,\u751f\u6210\u51fa\u6765\u7684\u6587\u4ef6\u548c\u901a\u8fc7openapi\u751f\u6210\u51fa\u6765\u7684\u4e00\u6837 JSON\u63cf\u8ff0\u6587\u4ef6 \u586b\u5199json\u63cf\u8ff0\u6587\u4ef6,\u53ef\u4ee5\u548c\u5f00\u53d1\u4e00\u8d77\u4e86\u89e3\u6e05\u695a \u4ee5\u4e0b\u662f\u4e00\u4e2ajson\u63cf\u8ff0\u6587\u4ef6\u6765\u63cf\u8ff0\u88ab\u6d4b\u7684API\u63a5\u53e3, { \"apiDomainName\": \"salary\", \"contentType\": \"application/x-www-form-urlencoded\", \"headers\": { \"Accept\": \"application/json, text/javascript, */*\" }, \"method\": \"POST\", \"pathParameters\": [], \"queryParameters\": [ \"usercode\", \"year\", \"month\", \"transferdays\", \"paiddays\", \"leavehours\", \"illdays\", \"latefreecount\", \"latecostcount\", \"leaveearly\", \"missclockfreecount\", \"missclockcostcount\", \"absentcount\" ], \"resourceURL\": \"/salary/updateAttendance\" } \u9700\u8981\u4e86\u89e3\u7684\u662f: apiDomainName: \u8868\u793a\u5f53\u524d\u5e94\u7528\u540d\u79f0,\u548c\u914d\u7f6e\u6587\u4ef6\u73af\u5883\u4e2d\u7684\u88ab\u6d4b\u5e94\u7528\u4e00\u6837 contentType: \u53d1\u9001\u51fa\u8bf7\u6c42\u7684\u7c7b\u578b,\u9700\u8981\u548c\u4ee3\u7801\u4e2d\u80fd\u63a5\u6536\u5904\u7406\u7684\u4e00\u6837 headers: \u8bf7\u6c42\u5934, \u4e3b\u8981\u9700\u8981\u7684\u662fAccept\u7c7b\u578b,\u5c31\u662f\u63a5\u6536\u8fd4\u56de\u4fe1\u606f\u5305\u4f53\u7684\u683c\u5f0f,\u5176\u4ed6\u7684token,cookie\u4fe1\u606f\u5e94\u4e3a\u662f\u5c5e\u4e8e\u8bf7\u6c42\u7684\u4e0a\u4e0b\u6587\u76f8\u5173,\u5728\u6846\u67b6\u4e2d\u81ea\u52a8\u5b9e\u73b0\u4e86 queryParameters: \u7406\u8bba\u4e0a\u662f\u53ef\u9009\u7684\u53c2\u6570,\u770b\u4ee3\u7801\u5982\u4f55\u5b9e\u73b0 pathParameters: \u53d8\u91cf\u5728URL\u8bf7\u6c42\u8def\u5f84\u4e2d,\u6069\u4e0d\u662f\u5728\u8bf7\u6c42\u4e2d?\u4e4b\u540e \u4ee5\u4e0b\u662f\u5173\u4e8equeryParameters\uff0cpathParameters\u4f8b\u5b50: {takeWatchId} \u5c31\u662fpathParameter http://open.Domain.org/api/v4/universal/ky/deleteTakeWatch/{takeWatchId} q \u8fd9\u91cc\u5c31\u662fqueryParameter http://www.baidu.com?q=test \u5982\u4f55\u901a\u8fc7json\u6587\u4ef6\u751f\u6210\u6d4b\u8bd5\u57fa\u7840\u4ee3\u7801\u5462?\u53c2\u8003\u5982\u4e0b\u4ee3\u7801: APICodesGenerator .nameAPIName(\"FindLevelSalaryAPI\") .nameAPIDomainName(\"salary\").nameAPICategory(\"test\") .useJsonFile(\"servicedescription/levelsalary/FindLevelSalaryAPI.json\") .generateAllCodes(); \u548c\u4e0a\u9762\u7684HAR\u6587\u4ef6\u4e0d\u540c\u7684\u4e00\u70b9\u5c31\u662f,\u8fd9\u91cc\u9700\u8981\u6307\u5b9aJSON \u6587\u4ef6\u5728resources \u76ee\u5f55\u4e0b\u9762\u6240\u5728\u7684\u4f4d\u7f6e \u81f3\u6b64\u76ee\u524d\u652f\u6301\u7684\u4e09\u79cd\u751f\u6210\u65b9\u5f0f\u5df2\u7ecf\u4ecb\u7ecd\u5b8c,\u4e4b\u540e\u53ef\u80fd\u4f1a\u652f\u6301: \u5bfc\u5165POSTMAN\u7684\u5bfc\u51fa\u6587\u4ef6 \u5bfc\u51fa\u6d4b\u8bd5\u7528\u4f8b\u5230POSTMAN API \u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b\u5b9e\u73b0 \u901a\u8fc7\u4ee5\u4e0a\u7684\u65b9\u6cd5\u5df2\u7ecf\u751f\u6210\u4e86\u76f8\u5e94\u7684\u57fa\u7840\u6d4b\u8bd5\u4ee3\u7801,\u90a3\u4e48\u5982\u4f55\u8fdb\u884c\u81ea\u52a8\u5316\u7684\u63a5\u53e3\u6d4b\u8bd5\u5462? \u5927\u4f53\u5206\u4e3a\u4e09\u4e2a\u6b65\u9aa4: \u586b\u5165\u6d4b\u8bd5\u6570\u636e\u548c\u671f\u671b\u7ed3\u679c \u8fd0\u884c\u6d4b\u8bd5,\u5206\u6790\u6bd4\u8f83\u7ed3\u679c,\u770b\u662f\u5426\u9700\u8981\u8c03\u6574\u671f\u671b\u503c \u786e\u8ba4\u9700\u8981\u4fee\u6539\u6d4b\u8bd5\u4ee3\u7801,\u6765\u8fdb\u884c\u66f4\u597d\u7684\u9a8c\u8bc1\u7ed3\u679c \u586b\u5165\u6d4b\u8bd5\u6570\u636e\u548c\u671f\u671b\u7ed3\u679c \u9996\u5148\u6211\u4eec\u770b\u751f\u6210\u7684\u6d4b\u8bd5\u7528\u4f8b\u4ee3\u7801,\u4e0b\u9762\u7528\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u8bf4\u660e,\u6bd4\u5982\u901a\u8fc7\u7535\u8bdd\u53f7\u7801\u67e5\u770b\u5ba2\u6237\u9700\u6c42\u7684\u4e00\u4e2a\u63a5\u53e3: \u751f\u6210\u7684\u6d4b\u8bd5\u7528\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a public class FindByPhoneNumberAPITest { @DataProvider(name = \"FindByPhoneNumberAPI_data\") public Iterator<Object[]> getAPITestData(Method m) throws Exception { Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"RequestData\", RequestData.class); clazzMap.put(\"TestCase\", TestDescription.class); clazzMap.put(\"User\", EmployeeTestData.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/apis/keyuan/inquiry/FindByPhoneNumberAPI_testcase.xls\", m, clazzMap); return y; } @Test(dataProvider = \"FindByPhoneNumberAPI_data\") public void testFindByPhoneNumberAPITest(String statusCode, String expectedBodyResult, RequestData data, TestDescription td, EmployeeTestData user) { RestTemplateClientHelper client = AuthFlows.getLoggedInOpenAPIClient(user.getUserCode()); if (!data.isAuth()) client.removeAuthHeader(); FindByPhoneNumberAPI api = new FindByPhoneNumberAPI(client, data); api.execute(); new SoftAssertion().assertApiResponse(api.getResponse(), statusCode, expectedBodyResult).getFinalResult(); } } \u7531\u4e8e\u9700\u8981\u6d4b\u8bd5API\uff0c\u90a3\u4e48\u4f60\u9700\u8981\u586b\u5165\u4e00\u4e9b\u6d4b\u8bd5\u6570\u636e\u6765\u8fdb\u884c\u6d4b\u8bd5\uff0c\u9700\u8981\u586b\u5165\u7684\u6d4b\u8bd5\u6570\u636e\u5982\u4e0b\uff1a \u901a\u8fc7\u4ee5\u4e0a\u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u5927\u6982\u5c31\u53ef\u4ee5\u8bbe\u8ba1\u51fa\u56db\u6761\u7528\u4f8b\uff0c\u5b9e\u9645\u4e0a\u4e0d\u7ba1\u5f00\u53d1\u5b8c\u6210\u5f00\u53d1\u6ca1\u6709\uff0c\u8fd9\u4e9b\u7528\u4f8b\u90fd\u5f00\u59cb\u5199\u7684\uff0c\u56e0\u4e3a\u76ee\u524d\u8fd9\u4e9b\u5de5\u4f5c\u90fd\u662f\u6309\u7167\u63a5\u53e3\u5185\u5bb9\u5728\u5199\u7684\uff0c \u5f53\u7136\u4ece\u4e0a\u56fe\u6765\u770b\u6709\u4e9b\u5185\u5bb9\u5b9e\u9645\u4e0a\u65f6\u6ca1\u6709\u8bf4\u660e\u7684\uff0c\u6bd4\u5982: \u6ca1\u6709\u5bf9\u5e94\u7684\u4eba\u627e\u5230\uff0c\u5e94\u8be5\u8fd4\u56de\u4ec0\u4e48\u4fe1\u606f \u662f\u5426\u6240\u6709\u5ba2\u6237\u7535\u8bdd\u53f7\u7801\u90fd\u53ef\u4ee5\u67e5 \u6bcf\u5929\u8fd9\u4e2a\u63a5\u53e3\u6bcf\u4e2a\u4eba\u67e5\u8be2\u662f\u5426\u6709\u914d\u989d ...... \u6216\u8bb8\u8fd8\u6709\u66f4\u591a \u4e0d\u8fc7\u65e0\u8bba\u5982\u4f55\uff0c\u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5feb\u901f\u7684\u6784\u5efa\u51e0\u4e2aAPI\u7684\u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b\u51fa\u6765\u4e86. \u5f53\u7136\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u9762\u7684\u9a8c\u8bc1\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u76f4\u63a5\u628a\u671f\u671b\u7684\u8fd4\u56de\u5305\u4f53\u5199\u5728 Excel\u91cc\u9762\u4e86\uff0c\u5728\u6709\u4e9b\u590d\u6742\u6570\u636e\u7684\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u81ea\u5df1\u5199\u4e9b\u4ee3\u7801\u6765\u9a8c\u8bc1\u3002 \u540c\u65f6\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a \u5982\u4e0a\u56fe\u6240\u793a\uff0copenapi\u7684\u63cf\u8ff0\u4e2d\u6ca1\u6709\u660e\u663e\u7684\u8bf4\u660e\u4ed6\u6709\u4e00\u4e2aphone\u7684\u53c2\u6570\uff0c\u8fd9\u65f6\u81ea\u52a8\u751f\u6210\u7684\u5de5\u5177\u4e5f\u65e0\u6cd5\u751f\u6210\uff0c\u9700\u8981\u624b\u52a8\u6dfb\u52a0\u5230json\u6587\u4ef6\u4e2d API\u81ea\u52a8\u5316\u6d4b\u8bd5\u548cPOSTMAN\u6bd4\u8f83 \u53ef\u80fd\u5f88\u591a\u4eba\u90fd\u4f7f\u7528\u8fc7POSTMAN\u6765\u505a\u4e00\u4e9b\u6d4b\u8bd5\uff0c\u90a3\u4e48\u6211\u4eec\u6765\u770b\u770b\u8fd9\u4e24\u4e2a\u6709\u4ec0\u4e48\u76f8\u4f3c\u7684\u5730\u65b9\uff0c\u672c\u8d28\u4e0a\u5176\u5b9e\u662f\u4e24\u8005\u662f\u4e00\u6837\u7684\uff1a \u5728POSTMAN\u91cc\u9762\u586b\u5199\u76f8\u5173\u7684\u5185\u5bb9\u53ef\u4ee5\u7406\u89e3\u4e3a\u4f60\u5728\u6784\u5efaAPI \u7684\u63cf\u8ff0JSON\u6587\u4ef6, \u4fee\u6539POSTMAN\u7684\u63d0\u4ea4\u6570\u636e\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u5728\u4fee\u6539Excel\u91cc\u9762\u7684\u6570\u636e","title":"API \u81ea\u52a8\u5316\u6d4b\u8bd5"},{"location":"api_automation/APIAutomation/#api","text":"\u672c\u6587\u4e3b\u8981\u4ecb\u7ecd\u5982\u4f55\u8fdb\u884cAPI\u81ea\u52a8\u5316\u6d4b\u8bd5,\u5305\u62ec\u4e86\u4ee5\u4e0b\u51e0\u4e2a\u6b65\u9aa4: API\u6d4b\u8bd5\u57fa\u7840\u4ee3\u7801\u81ea\u52a8\u751f\u6210 API\u6d4b\u8bd5\u7528\u4f8b\u7f16\u5199","title":"API \u81ea\u52a8\u5316\u6d4b\u8bd5"},{"location":"api_automation/APIAutomation/#api_1","text":"API\u6d4b\u8bd5\u5b9e\u9645\u4e0a\u4e8b\u9762\u5411\u63a5\u53e3\u7684,\u5982\u679c\u63a5\u53e3\u5b9a\u4e49\u5b8c\u6210,\u90a3\u4e48\u8c03\u7528\u63a5\u53e3\u7684\u4ee3\u7801\u5b9e\u9645\u4e0a\u4e5f\u5c31\u662f\u662f\u5b8c\u6210.\u6240\u4ee5\u8fd9\u90e8\u5206\u4ee3\u7801\u5c31\u53ef\u4ee5\u901a\u8fc7\u81ea\u52a8\u751f\u6210\u6765\u5b8c\u6210. \u6240\u4ee5\u5173\u952e\u95ee\u9898\u5c31\u662f\u5982\u4f55\u83b7\u53d6\u63a5\u53e3\u5b9a\u4e49,\u76ee\u524d\u652f\u6301\u901a\u8fc7\u4e09\u79cd\u63a5\u53e3\u5b9a\u4e49\u8fd8\u81ea\u52a8\u751f\u6210\u4ee3\u7801: OPEN API \u63cf\u8ff0 HAR \u6587\u4ef6 \u624b\u5de5\u7f16\u5199API\u63a5\u53e3\u6587\u6863 \u4e0b\u9762\u5c31\u4ece\u5982\u4f55\u81ea\u52a8\u751f\u6210API\u6d4b\u8bd5\u4ee3\u7801\u7684\u4e0d\u540c\u65b9\u5f0f\u9010\u4e2a\u8bf4\u8d77:","title":"API \u81ea\u52a8\u5316\u6d4b\u8bd5\u4ee3\u7801\u751f\u6210"},{"location":"api_automation/APIAutomation/#open-api","text":"\u8bbf\u95eeOpenAPI\u7f51\u7ad9,\u627e\u5230\u9700\u8981\u6d4b\u8bd5\u7684API\u5730\u5740 \u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u751f\u6210\u6d4b\u8bd5\u7528\u4f8b: APICodesGenerator.nameAPIName(\"FindByPhoneNumberAPI\") .nameAPICategory(\"keyuan/inquiry\") .openAPIURL(\"http://open.Domain.org/rest/docs?\" + \"module=%E5%AE%A2%E6%BA%90API&api=%E5%AE%A2%E6%BA%90-\" + \"%E6%A0%B9%E6%8D%AE%E5%8F%B7%E7%A0%81%E5%8C%B9%E9%85%8D%E5\" + \"%AE%A2%E6%BA%90%E4%BF%A1%E6%81%AF&version=v4\") .generateAllCodes(); \u8bf4\u660e: nameAPIName: \u7ed9API\u8d77\u4e2a\u540d\u5b57 nameAPICategory: \u7ed9API\u5f52\u5404\u7c7b, keyuan/inquiry \u4e0d\u662f\u5728keyuan\u7684inquiry\u76ee\u5f55\u4e0b\u9762 openAPIUrl: \u5c31\u662fAPI\u5728OPEN API\u4e2d\u7684\u5730\u5740 \u4ee3\u7801\u751f\u6210\u597d\u4e4b\u540e,\u4f1a\u5728: main\u7684API\u76ee\u5f55\u91cc\u9762\u751f\u6210API Client\u7684\u4ee3\u7801 test\u7684API\u76ee\u5f55\u4e0b\u9762\u751f\u6210\u6d4b\u8bd5\u7528\u4f8b\u4ee3\u7801 servicedescription\u4e0b\u9762\u751f\u6210API \u63cf\u8ff0\u7684JSON\u6587\u4ef6 testcase\u76ee\u5f55\u4e0b\u9762\u6d4b\u8bd5\u7528\u4f8b\u6587\u4ef6","title":"OPEN API\u63cf\u8ff0"},{"location":"api_automation/APIAutomation/#har","text":"\u6bcf\u4e2a\u9875\u9762\u7684\u8bbf\u95ee\u90fd\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2aHAR\u6587\u4ef6,\u5982\u56fe\u6240\u793a, HAR\u6587\u4ef6\u4e2d\u6709\u5f88\u591a\u5173\u4e8e\u8bf7\u6c42\u7684\u4fe1\u606f,\u4e0b\u9762\u662f\u4ecb\u7ecd\u5982\u4f55\u6839\u636eHAR\u6587\u4ef6\u6765\u751f\u6210API\u6d4b\u8bd5\u4ee3\u7801\u7684\u5b9e\u4f8b: \u64cd\u4f5c\u4f60\u8981\u6d4b\u8bd5\u7684\u529f\u80fd,\u5982\u8fd9\u91cc\u5de5\u8d44\u91cc\u9762\u7684\u66f4\u65b0\u57fa\u672c\u5de5\u8d44: \u590d\u5236\u51faHAR\u6587\u4ef6,\u540c\u65f6\u786e\u5b9a\u4f60\u8981\u6d4b\u8bd5\u7684API\u8d44\u6e90\u8def\u5f84 \u901a\u8fc7HAR\u6587\u4ef6\u751f\u6210API\u6d4b\u8bd5\u4ee3\u7801 \u901a\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u901a\u8fc7\u4f60\u590d\u5236\u51fa\u7684har\u6587\u4ef6\u751f\u6210api\u6d4b\u8bd5\u4ee3\u7801: APICodesGenerator .nameAPIName(\"FindLevelSalary\") .nameAPICategory(\"levelsalary\").nameAPIDomainName(\"salary\") .useHarFile(\"har.json\", \"levelsalary/findLevelSalary\") .generateAllCodes(); \u65b9\u6cd5\u8bf4\u660e: nameAPIName: \u7ed9API\u8d77\u4e2a\u540d\u5b57 nameAPICategory: \u7ed9API\u5f52\u5404\u7c7b,\u4e0b\u9762\u4ee3\u7801\u4e2d\u6807\u5fd7\u4f1a\u653e\u5728levelsalary\u76ee\u5f55\u4e0b\u9762 nameAPIDomainName: \u8868\u793a\u5f53\u524d\u5e94\u7528\u540d\u79f0,\u548c\u914d\u7f6e\u6587\u4ef6\u73af\u5883\u4e2d\u7684\u88ab\u6d4b\u5e94\u7528\u4e00\u6837 useHarFile: har.json\u5c31\u662f\u590d\u5236\u51fa\u6765\u7684har\u5185\u5bb9,levelsalary/findLevelSalary \u8868\u793a\u9700\u8981\u8bbf\u95ee\u7684\u8d44\u6e90\u5728\u5f53\u524d\u5e94\u7528\u4e0b\u9762\u7684\u76f8\u5bf9\u8def\u5f84 \u8fd9\u6837API\u6d4b\u8bd5\u7684\u76f8\u5173\u6587\u4ef6\u4e5f\u53ef\u4ee5\u751f\u6210,\u751f\u6210\u51fa\u6765\u7684\u6587\u4ef6\u548c\u901a\u8fc7openapi\u751f\u6210\u51fa\u6765\u7684\u4e00\u6837","title":"HAR \u6587\u4ef6"},{"location":"api_automation/APIAutomation/#json","text":"\u586b\u5199json\u63cf\u8ff0\u6587\u4ef6,\u53ef\u4ee5\u548c\u5f00\u53d1\u4e00\u8d77\u4e86\u89e3\u6e05\u695a \u4ee5\u4e0b\u662f\u4e00\u4e2ajson\u63cf\u8ff0\u6587\u4ef6\u6765\u63cf\u8ff0\u88ab\u6d4b\u7684API\u63a5\u53e3, { \"apiDomainName\": \"salary\", \"contentType\": \"application/x-www-form-urlencoded\", \"headers\": { \"Accept\": \"application/json, text/javascript, */*\" }, \"method\": \"POST\", \"pathParameters\": [], \"queryParameters\": [ \"usercode\", \"year\", \"month\", \"transferdays\", \"paiddays\", \"leavehours\", \"illdays\", \"latefreecount\", \"latecostcount\", \"leaveearly\", \"missclockfreecount\", \"missclockcostcount\", \"absentcount\" ], \"resourceURL\": \"/salary/updateAttendance\" } \u9700\u8981\u4e86\u89e3\u7684\u662f: apiDomainName: \u8868\u793a\u5f53\u524d\u5e94\u7528\u540d\u79f0,\u548c\u914d\u7f6e\u6587\u4ef6\u73af\u5883\u4e2d\u7684\u88ab\u6d4b\u5e94\u7528\u4e00\u6837 contentType: \u53d1\u9001\u51fa\u8bf7\u6c42\u7684\u7c7b\u578b,\u9700\u8981\u548c\u4ee3\u7801\u4e2d\u80fd\u63a5\u6536\u5904\u7406\u7684\u4e00\u6837 headers: \u8bf7\u6c42\u5934, \u4e3b\u8981\u9700\u8981\u7684\u662fAccept\u7c7b\u578b,\u5c31\u662f\u63a5\u6536\u8fd4\u56de\u4fe1\u606f\u5305\u4f53\u7684\u683c\u5f0f,\u5176\u4ed6\u7684token,cookie\u4fe1\u606f\u5e94\u4e3a\u662f\u5c5e\u4e8e\u8bf7\u6c42\u7684\u4e0a\u4e0b\u6587\u76f8\u5173,\u5728\u6846\u67b6\u4e2d\u81ea\u52a8\u5b9e\u73b0\u4e86 queryParameters: \u7406\u8bba\u4e0a\u662f\u53ef\u9009\u7684\u53c2\u6570,\u770b\u4ee3\u7801\u5982\u4f55\u5b9e\u73b0 pathParameters: \u53d8\u91cf\u5728URL\u8bf7\u6c42\u8def\u5f84\u4e2d,\u6069\u4e0d\u662f\u5728\u8bf7\u6c42\u4e2d?\u4e4b\u540e \u4ee5\u4e0b\u662f\u5173\u4e8equeryParameters\uff0cpathParameters\u4f8b\u5b50: {takeWatchId} \u5c31\u662fpathParameter http://open.Domain.org/api/v4/universal/ky/deleteTakeWatch/{takeWatchId} q \u8fd9\u91cc\u5c31\u662fqueryParameter http://www.baidu.com?q=test \u5982\u4f55\u901a\u8fc7json\u6587\u4ef6\u751f\u6210\u6d4b\u8bd5\u57fa\u7840\u4ee3\u7801\u5462?\u53c2\u8003\u5982\u4e0b\u4ee3\u7801: APICodesGenerator .nameAPIName(\"FindLevelSalaryAPI\") .nameAPIDomainName(\"salary\").nameAPICategory(\"test\") .useJsonFile(\"servicedescription/levelsalary/FindLevelSalaryAPI.json\") .generateAllCodes(); \u548c\u4e0a\u9762\u7684HAR\u6587\u4ef6\u4e0d\u540c\u7684\u4e00\u70b9\u5c31\u662f,\u8fd9\u91cc\u9700\u8981\u6307\u5b9aJSON \u6587\u4ef6\u5728resources \u76ee\u5f55\u4e0b\u9762\u6240\u5728\u7684\u4f4d\u7f6e \u81f3\u6b64\u76ee\u524d\u652f\u6301\u7684\u4e09\u79cd\u751f\u6210\u65b9\u5f0f\u5df2\u7ecf\u4ecb\u7ecd\u5b8c,\u4e4b\u540e\u53ef\u80fd\u4f1a\u652f\u6301: \u5bfc\u5165POSTMAN\u7684\u5bfc\u51fa\u6587\u4ef6 \u5bfc\u51fa\u6d4b\u8bd5\u7528\u4f8b\u5230POSTMAN","title":"JSON\u63cf\u8ff0\u6587\u4ef6"},{"location":"api_automation/APIAutomation/#api_2","text":"\u901a\u8fc7\u4ee5\u4e0a\u7684\u65b9\u6cd5\u5df2\u7ecf\u751f\u6210\u4e86\u76f8\u5e94\u7684\u57fa\u7840\u6d4b\u8bd5\u4ee3\u7801,\u90a3\u4e48\u5982\u4f55\u8fdb\u884c\u81ea\u52a8\u5316\u7684\u63a5\u53e3\u6d4b\u8bd5\u5462? \u5927\u4f53\u5206\u4e3a\u4e09\u4e2a\u6b65\u9aa4: \u586b\u5165\u6d4b\u8bd5\u6570\u636e\u548c\u671f\u671b\u7ed3\u679c \u8fd0\u884c\u6d4b\u8bd5,\u5206\u6790\u6bd4\u8f83\u7ed3\u679c,\u770b\u662f\u5426\u9700\u8981\u8c03\u6574\u671f\u671b\u503c \u786e\u8ba4\u9700\u8981\u4fee\u6539\u6d4b\u8bd5\u4ee3\u7801,\u6765\u8fdb\u884c\u66f4\u597d\u7684\u9a8c\u8bc1\u7ed3\u679c","title":"API \u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b\u5b9e\u73b0"},{"location":"api_automation/APIAutomation/#_1","text":"\u9996\u5148\u6211\u4eec\u770b\u751f\u6210\u7684\u6d4b\u8bd5\u7528\u4f8b\u4ee3\u7801,\u4e0b\u9762\u7528\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u8bf4\u660e,\u6bd4\u5982\u901a\u8fc7\u7535\u8bdd\u53f7\u7801\u67e5\u770b\u5ba2\u6237\u9700\u6c42\u7684\u4e00\u4e2a\u63a5\u53e3: \u751f\u6210\u7684\u6d4b\u8bd5\u7528\u4f8b\u4ee3\u7801\u5982\u4e0b\uff1a public class FindByPhoneNumberAPITest { @DataProvider(name = \"FindByPhoneNumberAPI_data\") public Iterator<Object[]> getAPITestData(Method m) throws Exception { Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"RequestData\", RequestData.class); clazzMap.put(\"TestCase\", TestDescription.class); clazzMap.put(\"User\", EmployeeTestData.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/apis/keyuan/inquiry/FindByPhoneNumberAPI_testcase.xls\", m, clazzMap); return y; } @Test(dataProvider = \"FindByPhoneNumberAPI_data\") public void testFindByPhoneNumberAPITest(String statusCode, String expectedBodyResult, RequestData data, TestDescription td, EmployeeTestData user) { RestTemplateClientHelper client = AuthFlows.getLoggedInOpenAPIClient(user.getUserCode()); if (!data.isAuth()) client.removeAuthHeader(); FindByPhoneNumberAPI api = new FindByPhoneNumberAPI(client, data); api.execute(); new SoftAssertion().assertApiResponse(api.getResponse(), statusCode, expectedBodyResult).getFinalResult(); } } \u7531\u4e8e\u9700\u8981\u6d4b\u8bd5API\uff0c\u90a3\u4e48\u4f60\u9700\u8981\u586b\u5165\u4e00\u4e9b\u6d4b\u8bd5\u6570\u636e\u6765\u8fdb\u884c\u6d4b\u8bd5\uff0c\u9700\u8981\u586b\u5165\u7684\u6d4b\u8bd5\u6570\u636e\u5982\u4e0b\uff1a \u901a\u8fc7\u4ee5\u4e0a\u4e00\u4e2a\u7b80\u5355\u7684\u65b9\u6cd5\uff0c\u5927\u6982\u5c31\u53ef\u4ee5\u8bbe\u8ba1\u51fa\u56db\u6761\u7528\u4f8b\uff0c\u5b9e\u9645\u4e0a\u4e0d\u7ba1\u5f00\u53d1\u5b8c\u6210\u5f00\u53d1\u6ca1\u6709\uff0c\u8fd9\u4e9b\u7528\u4f8b\u90fd\u5f00\u59cb\u5199\u7684\uff0c\u56e0\u4e3a\u76ee\u524d\u8fd9\u4e9b\u5de5\u4f5c\u90fd\u662f\u6309\u7167\u63a5\u53e3\u5185\u5bb9\u5728\u5199\u7684\uff0c \u5f53\u7136\u4ece\u4e0a\u56fe\u6765\u770b\u6709\u4e9b\u5185\u5bb9\u5b9e\u9645\u4e0a\u65f6\u6ca1\u6709\u8bf4\u660e\u7684\uff0c\u6bd4\u5982: \u6ca1\u6709\u5bf9\u5e94\u7684\u4eba\u627e\u5230\uff0c\u5e94\u8be5\u8fd4\u56de\u4ec0\u4e48\u4fe1\u606f \u662f\u5426\u6240\u6709\u5ba2\u6237\u7535\u8bdd\u53f7\u7801\u90fd\u53ef\u4ee5\u67e5 \u6bcf\u5929\u8fd9\u4e2a\u63a5\u53e3\u6bcf\u4e2a\u4eba\u67e5\u8be2\u662f\u5426\u6709\u914d\u989d ...... \u6216\u8bb8\u8fd8\u6709\u66f4\u591a \u4e0d\u8fc7\u65e0\u8bba\u5982\u4f55\uff0c\u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5feb\u901f\u7684\u6784\u5efa\u51e0\u4e2aAPI\u7684\u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b\u51fa\u6765\u4e86. \u5f53\u7136\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u9762\u7684\u9a8c\u8bc1\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u76f4\u63a5\u628a\u671f\u671b\u7684\u8fd4\u56de\u5305\u4f53\u5199\u5728 Excel\u91cc\u9762\u4e86\uff0c\u5728\u6709\u4e9b\u590d\u6742\u6570\u636e\u7684\u60c5\u51b5\u4e0b\uff0c\u9700\u8981\u81ea\u5df1\u5199\u4e9b\u4ee3\u7801\u6765\u9a8c\u8bc1\u3002 \u540c\u65f6\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a \u5982\u4e0a\u56fe\u6240\u793a\uff0copenapi\u7684\u63cf\u8ff0\u4e2d\u6ca1\u6709\u660e\u663e\u7684\u8bf4\u660e\u4ed6\u6709\u4e00\u4e2aphone\u7684\u53c2\u6570\uff0c\u8fd9\u65f6\u81ea\u52a8\u751f\u6210\u7684\u5de5\u5177\u4e5f\u65e0\u6cd5\u751f\u6210\uff0c\u9700\u8981\u624b\u52a8\u6dfb\u52a0\u5230json\u6587\u4ef6\u4e2d","title":"\u586b\u5165\u6d4b\u8bd5\u6570\u636e\u548c\u671f\u671b\u7ed3\u679c"},{"location":"api_automation/APIAutomation/#apipostman","text":"\u53ef\u80fd\u5f88\u591a\u4eba\u90fd\u4f7f\u7528\u8fc7POSTMAN\u6765\u505a\u4e00\u4e9b\u6d4b\u8bd5\uff0c\u90a3\u4e48\u6211\u4eec\u6765\u770b\u770b\u8fd9\u4e24\u4e2a\u6709\u4ec0\u4e48\u76f8\u4f3c\u7684\u5730\u65b9\uff0c\u672c\u8d28\u4e0a\u5176\u5b9e\u662f\u4e24\u8005\u662f\u4e00\u6837\u7684\uff1a \u5728POSTMAN\u91cc\u9762\u586b\u5199\u76f8\u5173\u7684\u5185\u5bb9\u53ef\u4ee5\u7406\u89e3\u4e3a\u4f60\u5728\u6784\u5efaAPI \u7684\u63cf\u8ff0JSON\u6587\u4ef6, \u4fee\u6539POSTMAN\u7684\u63d0\u4ea4\u6570\u636e\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u5728\u4fee\u6539Excel\u91cc\u9762\u7684\u6570\u636e","title":"API\u81ea\u52a8\u5316\u6d4b\u8bd5\u548cPOSTMAN\u6bd4\u8f83"},{"location":"api_automation/API%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95-%E8%BF%9B%E9%98%B6/","text":"API\u81ea\u52a8\u5316\u6d4b\u8bd5-\u8fdb\u9636 API\u81ea\u52a8\u5316\u6d4b\u8bd5\u57fa\u7840 \u5df2\u7ecf\u4ecb\u7ecd\u4e86\u8fdb\u884cAPI\u6d4b\u8bd5\u57fa\u7840\u5185\u5bb9\u7684\u4ecb\u7ecd,\u91cc\u9762\u4ecb\u7ecd\u4e00\u4e9b\u7a0d\u5fae\u590d\u6742\u4e00\u70b9\u7684API\u6d4b\u8bd5 \u4e3b\u8981\u5305\u62ec: \u6709\u8bf7\u6c42\u5305\u4f53\u7684\u8bf7\u6c42 \u590d\u6742\u8bf7\u6c42\u8fd4\u56de\u503c(\u52a8\u6001\u503c)\u7684\u9a8c\u8bc1 \u6709\u8bf7\u6c42\u5305\u4f53\u7684\u63a5\u53e3\u7684\u6d4b\u8bd5\u7528\u4f8b \u6839\u636e\u63a5\u53e3\u8bf4\u660e\u751f\u6210\u4ee3\u7801 \u4ee5\u4e0b\u662f\u4e00\u4e2aAPI\u7684\u6982\u8981\u8bf4\u660e: \ufffcPOST /oms/v1/login APP SERVER http://appserver.Domain.net http://appserver.Domain.org http://appserver.Domain.com \u8bf7\u6c42\u53c2\u6570: {\"employee\": { \"userCode\":\"108951\", \"password\":\"Domain&!&!\", \"companyId\":1 }, \"behavior\": { \"model\":\"\", \"customModel\":false, \"sdk\":\"Android\", \"release\":\"6.0\", \"simSerialNumber\":\"1241413414314314\", \"appName\":\"dyMobile\", \"appRelease\":\"2.0\", \"lng\":0, \"lat\":0 } } \ufffc\ufffc\ufffc\ufffc\ufffc\ufffc\ufffc\ufffc \u6839\u636e\u4ee5\u4e0a\u5185\u5bb9,\u6211\u4eec\u53ef\u4ee5\u5199\u51fa\u6211\u4eec\u81ea\u5df1\u7684API\u63cf\u8ff0\u6587\u4ef6: { \"apiDomainName\": \"appserver\", \"contentType\": \"application/json\", \"headers\": {}, \"method\": \"post\", \"pathParameters\": [], \"queryParameters\": [], \"resourceURL\": \"/oms/v1/login\" } \u901a\u8fc7\u4ee3\u7801\u751f\u6210\u6d4b\u8bd5\u4ee3\u7801 (\u53c2\u8003 API\u81ea\u52a8\u5316\u6d4b\u8bd5\u57fa\u7840 ) \u6dfb\u52a0\u6d4b\u8bd5\u6570\u636e \u8fd9\u6837\u6574\u4e2a\u4e00\u4e2a\u8bf7\u6c42\u4f7f\u7528body\u7684\u5c31\u505a\u597d\u4e86,\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u6765\u8bbf\u95ee\u8fd9\u4e2a\u63a5\u53e3. \u9a8c\u8bc1\u52a8\u6001\u5185\u5bb9 \u4ee5\u4e0aAPI\u5f97\u5230\u7684\u5982\u4e0b\u5185\u5bb9,\u53ef\u4ee5\u53d1\u73b0\u6709\u4e9b\u5185\u5bb9\u5176\u5b9e\u6709\u53ef\u80fd\u4f1a\u53d1\u751f\u53d8\u5316\u7684,\u4f46\u662f\u8fd9\u4e9b\u6765\u6e90\u90fd\u662f\u6570\u636e\u5e93\u7684\u5185\u5bb9, \u53ef\u4ee5\u548c\u6570\u636e\u5e93\u7684\u5185\u5bb9\u6bd4\u8f83: { \"employee\": { \"orgName\": \"\u623f\u5ba2\u6e90\u5f00\u53d1\u90e8\", \"sex\": \"\u7537\", \"alternatePhone\": \"\", \"latestJoinDate\": 1313942400000, \"userName\": \"KEVIN\", \"userCode\": 908932, \"orgId\": 21467, \"showedPhone\": \"13636505095\", \"positionName\": \"\u8f6f\u4ef6\u5de5\u7a0b\u5e08\", \"password\": \"NothingTOFind\", \"companyId\": 1, \"joinDate\": 1313942400000, \"mobilePhone\": \"13300086101\", \"orgLongCode\": \"12020001/150103155238/12020006/140214094131/140408151141\", \"status\": \"\u6b63\u5f0f\" }, \"token\": { \"token\": 1450949656336086101 } } \u9a8c\u8bc1\u65b9\u5f0f: \u5b9e\u9645\u4e0a\u6211\u4eec\u628a\u9700\u8981\u9a8c\u8bc1\u7684\u5b57\u6bb5\u503c\u653e\u5230\u4e86\u4e00\u4e2aMap\u91cc\u9762,\u7136\u540e\u7528SQL\u628a\u5b9e\u9645\u7684\u671f\u671b\u503c\u653e\u5230\u4e00\u4e2aMap\u91cc\u9762,\u7136\u540e\u518d\u6bd4\u8f83\u8fd9\u4e24\u4e2a\u503c. Map<String, String> employeeInfo = (Map<String, String>) JSONHelper.toBean(api.getResponse(), Map.class).get(\"employee\"); Map<String, Object> employeeDBInfo = SpringJdbcTemplateUtils.useDataBase(AppName.OMS).getAllRawResult(\"select * \" + \"from v_employee where userCode = 12389032\").get(0); SoftAssertion sa = new SoftAssertion(); for (Map.Entry<String,Object> entry : employeeDBInfo.entrySet()) { sa.assertEquals(entry.getValue(),employeeInfo.get(entry.getKey()),\"\u68c0\u67e5\u5b57\u6bb5\"+entry.getKey()); }","title":"API\u81ea\u52a8\u5316\u6d4b\u8bd5-\u8fdb\u9636"},{"location":"api_automation/API%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95-%E8%BF%9B%E9%98%B6/#api-","text":"API\u81ea\u52a8\u5316\u6d4b\u8bd5\u57fa\u7840 \u5df2\u7ecf\u4ecb\u7ecd\u4e86\u8fdb\u884cAPI\u6d4b\u8bd5\u57fa\u7840\u5185\u5bb9\u7684\u4ecb\u7ecd,\u91cc\u9762\u4ecb\u7ecd\u4e00\u4e9b\u7a0d\u5fae\u590d\u6742\u4e00\u70b9\u7684API\u6d4b\u8bd5 \u4e3b\u8981\u5305\u62ec: \u6709\u8bf7\u6c42\u5305\u4f53\u7684\u8bf7\u6c42 \u590d\u6742\u8bf7\u6c42\u8fd4\u56de\u503c(\u52a8\u6001\u503c)\u7684\u9a8c\u8bc1","title":"API\u81ea\u52a8\u5316\u6d4b\u8bd5-\u8fdb\u9636"},{"location":"api_automation/API%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95-%E8%BF%9B%E9%98%B6/#_1","text":"\u6839\u636e\u63a5\u53e3\u8bf4\u660e\u751f\u6210\u4ee3\u7801 \u4ee5\u4e0b\u662f\u4e00\u4e2aAPI\u7684\u6982\u8981\u8bf4\u660e: \ufffcPOST /oms/v1/login APP SERVER http://appserver.Domain.net http://appserver.Domain.org http://appserver.Domain.com \u8bf7\u6c42\u53c2\u6570: {\"employee\": { \"userCode\":\"108951\", \"password\":\"Domain&!&!\", \"companyId\":1 }, \"behavior\": { \"model\":\"\", \"customModel\":false, \"sdk\":\"Android\", \"release\":\"6.0\", \"simSerialNumber\":\"1241413414314314\", \"appName\":\"dyMobile\", \"appRelease\":\"2.0\", \"lng\":0, \"lat\":0 } } \ufffc\ufffc\ufffc\ufffc\ufffc\ufffc\ufffc\ufffc \u6839\u636e\u4ee5\u4e0a\u5185\u5bb9,\u6211\u4eec\u53ef\u4ee5\u5199\u51fa\u6211\u4eec\u81ea\u5df1\u7684API\u63cf\u8ff0\u6587\u4ef6: { \"apiDomainName\": \"appserver\", \"contentType\": \"application/json\", \"headers\": {}, \"method\": \"post\", \"pathParameters\": [], \"queryParameters\": [], \"resourceURL\": \"/oms/v1/login\" } \u901a\u8fc7\u4ee3\u7801\u751f\u6210\u6d4b\u8bd5\u4ee3\u7801 (\u53c2\u8003 API\u81ea\u52a8\u5316\u6d4b\u8bd5\u57fa\u7840 ) \u6dfb\u52a0\u6d4b\u8bd5\u6570\u636e \u8fd9\u6837\u6574\u4e2a\u4e00\u4e2a\u8bf7\u6c42\u4f7f\u7528body\u7684\u5c31\u505a\u597d\u4e86,\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e2a\u6765\u8bbf\u95ee\u8fd9\u4e2a\u63a5\u53e3.","title":"\u6709\u8bf7\u6c42\u5305\u4f53\u7684\u63a5\u53e3\u7684\u6d4b\u8bd5\u7528\u4f8b"},{"location":"api_automation/API%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95-%E8%BF%9B%E9%98%B6/#_2","text":"\u4ee5\u4e0aAPI\u5f97\u5230\u7684\u5982\u4e0b\u5185\u5bb9,\u53ef\u4ee5\u53d1\u73b0\u6709\u4e9b\u5185\u5bb9\u5176\u5b9e\u6709\u53ef\u80fd\u4f1a\u53d1\u751f\u53d8\u5316\u7684,\u4f46\u662f\u8fd9\u4e9b\u6765\u6e90\u90fd\u662f\u6570\u636e\u5e93\u7684\u5185\u5bb9, \u53ef\u4ee5\u548c\u6570\u636e\u5e93\u7684\u5185\u5bb9\u6bd4\u8f83: { \"employee\": { \"orgName\": \"\u623f\u5ba2\u6e90\u5f00\u53d1\u90e8\", \"sex\": \"\u7537\", \"alternatePhone\": \"\", \"latestJoinDate\": 1313942400000, \"userName\": \"KEVIN\", \"userCode\": 908932, \"orgId\": 21467, \"showedPhone\": \"13636505095\", \"positionName\": \"\u8f6f\u4ef6\u5de5\u7a0b\u5e08\", \"password\": \"NothingTOFind\", \"companyId\": 1, \"joinDate\": 1313942400000, \"mobilePhone\": \"13300086101\", \"orgLongCode\": \"12020001/150103155238/12020006/140214094131/140408151141\", \"status\": \"\u6b63\u5f0f\" }, \"token\": { \"token\": 1450949656336086101 } } \u9a8c\u8bc1\u65b9\u5f0f: \u5b9e\u9645\u4e0a\u6211\u4eec\u628a\u9700\u8981\u9a8c\u8bc1\u7684\u5b57\u6bb5\u503c\u653e\u5230\u4e86\u4e00\u4e2aMap\u91cc\u9762,\u7136\u540e\u7528SQL\u628a\u5b9e\u9645\u7684\u671f\u671b\u503c\u653e\u5230\u4e00\u4e2aMap\u91cc\u9762,\u7136\u540e\u518d\u6bd4\u8f83\u8fd9\u4e24\u4e2a\u503c. Map<String, String> employeeInfo = (Map<String, String>) JSONHelper.toBean(api.getResponse(), Map.class).get(\"employee\"); Map<String, Object> employeeDBInfo = SpringJdbcTemplateUtils.useDataBase(AppName.OMS).getAllRawResult(\"select * \" + \"from v_employee where userCode = 12389032\").get(0); SoftAssertion sa = new SoftAssertion(); for (Map.Entry<String,Object> entry : employeeDBInfo.entrySet()) { sa.assertEquals(entry.getValue(),employeeInfo.get(entry.getKey()),\"\u68c0\u67e5\u5b57\u6bb5\"+entry.getKey()); }","title":"\u9a8c\u8bc1\u52a8\u6001\u5185\u5bb9"},{"location":"api_automation/api_testing_qa/","text":"API \u63a5\u53e3\u6d4b\u8bd5\u5e38\u89c1\u95ee\u9898 API \u63a5\u53e3\u6d4b\u8bd5\u5e38\u89c1\u95ee\u9898","title":"API \u81ea\u52a8\u5316\u6d4b\u8bd5\u5e38\u89c1\u95ee\u9898"},{"location":"api_automation/api_testing_qa/#api","text":"API \u63a5\u53e3\u6d4b\u8bd5\u5e38\u89c1\u95ee\u9898","title":"API \u63a5\u53e3\u6d4b\u8bd5\u5e38\u89c1\u95ee\u9898"},{"location":"api_automation/web%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/","text":"web\u63a5\u53e3\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0d\u4e86\u89e3\u63a5\u53e3\u4e00\u822c\u5b9e\u73b0\u65b9\u6cd5 \u5bf9\u4e8e\u4e00\u822c\u7684web\u5e94\u7528\u6765\u8bf4,\u4e00\u4e2a\u63a5\u53e3\u5f80\u5f80\u4ee3\u8868\u4e86\u4e00\u4e2a\u5bf9\u5916\u63d0\u4f9b\u6267\u884c\u4e1a\u52a1\u7684\u670d\u52a1,\u4f7f\u5f97\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u53ef\u4ee5\u8fdb\u884c\u4ea4\u4e92.\u5e38\u89c1\u7684\u6709\u4e24\u5927\u7c7b HTTP/HTTPS \u534f\u8bae\u7684\u63a5\u53e3 WEB SERVICE \u63a5\u53e3\u5982SOAP,RMI,RPC\u7b49\u534f\u8bae \u4ece\u5e7f\u4e49\u4e0a\u8bb2,\u76ee\u524d\u6700\u4e3b\u8981\u4f7f\u7528\u573a\u666f\u4e3b\u8981\u6709\u4e24\u7c7b: \u8bbf\u95eeAPI\u63a5\u53e3(HTTP-based)\u83b7\u53d6JSON\u683c\u5f0f\u7684\u6570\u636e \u8bbf\u95eeAPI\u63a5\u53e3(HTTP-based)\u83b7\u53d6\u670d\u52a1\u7aef\u5df2\u7ecf\u6e32\u67d3\u597d\u7684HTML\u6570\u636e WEB\u63a5\u53e3\u5e38\u89c1\u5b9e\u73b0\u7684\u5206\u6790 \u4e00\u4e0b\u5185\u5bb9\u4e3b\u8981\u662f\u4ecb\u7ecd\u4e00\u4e9b\u5f53\u524d\u7cfb\u7edf\u5e38\u89c1\u7684\u4e00\u4e9b\u5b9e\u73b0\u65b9\u6cd5\uff0c\u4ee5\u4fbf\u6d4b\u8bd5\u5bf9\u4e8e\u7cfb\u7edf\u7ed3\u6784\u6709\u4e2a\u5927\u81f4\u7684\u5370\u8c61. \u4ee5\u4e0b\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u4ece\u5ba2\u6237\u7aef\u8bf7\u6c42\u5230\u670d\u52a1\u7aef\u8fd4\u56de\u8bf7\u6c42\u7684\u8fc7\u7a0b: WEB \u63a5\u53e3\u5e38\u89c1\u7684\u5b9e\u73b0\u4ee3\u7801\u5206\u6790 \u4e86\u89e3\u4e00\u4e0b\u5927\u6982\u7684\u4ee3\u7801\u7ed3\u6784\u53ef\u4ee5\u66f4\u52a0\u6e05\u695a\u88ab\u6d4b\u5bf9\u8c61\uff0c\u629b\u5f00\u6240\u6709\u6846\u67b6\u5c42\u9762\u7684\u4e1c\u897f\uff0c\u5728\u4e00\u4e2aMVC\u67b6\u6784\u7684\u7cfb\u7edf\u4e2d\u53bb\u4e86\u89e3\u67d0\u4e2a\u4e1a\u52a1\u5982\u4f55\u5b9e\u73b0\uff0c\u4e00\u822c\u5c31\u662f\u4eceController\u5f00\u59cb\uff0c controller\u4f1a\u8fde\u63a5\u5ba2\u6237\u8bf7\u6c42\uff0c\u4e1a\u52a1\u903b\u8f91\u5904\u7406\uff0c\u4ee5\u53ca\u5b9e\u9645\u7684\u8fd4\u56de\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684Controller\u5b9e\u73b0\u7684\u8bb2\u89e3: \u5b9e\u4f8b\u4ee3\u7801\uff1a @Controller @RequestMapping(\"/api/fy\") public class ApiForPropertyDescController extends BaseController { @ResponseBody @RequestMapping(value = \"/pictureDesc/show/{propertyId}\", method = RequestMethod.GET) public String showPictureDesc(@PathVariable String propertyId, @RequestParam(required = false,value = \"empNo\") String empNo) throws Exception { Map<String, Object> resultMap = new HashMap<>(); Integer empId = Integer.valueOf(empNo); List<PropertyPictureView> lstPropPic = fyPropertyDescVoteService.getPropertyDescPictureWithoutHouseLayout(empId, propertyId); List<Map<String,Object>> resultListMap = filterPropertyPicture(lstPropPic); resultMap.put(\"descPicturs\", resultListMap); // resultMap.put(\"mediaBase\", ResourceMap.get(\"pic_root\")); return new ObjectMapper().writeValueAsString(resultMap); } } \u4ee5\u4e0a\u7684\u4ee3\u7801\u4f1a\u5904\u7406\u8bf7\u6c42\uff1ahttp://fy.Domain.org/api/fy/pictureDesc/123456643 \u4ece\u4ee3\u7801\u89d2\u5ea6\u6765\u5206\u6790\u4e00\u4e0b\u4ee5\u4e0a\u4ee3\u7801\u6ce8\u89e3\u7684\u4e00\u4e9b\u4f7f\u7528: \u7c7b\u7ea7\u522b\u7684\u8def\u5f84@RequestMapping(\"/api/fy\")\u548c\u65b9\u6cd5\u7ea7\u522b\u7684\u8def\u5f84 \u65b9\u6cd5\u7ea7\u522b\u7684\u8def\u5f84@RequestMapping(value = \"/pictureDesc/show/{propertyId}\" \u7ed3\u5408\uff1a\u8fd9\u4e2a\u63a5\u53e3\u7684\u8def\u5f84\u662f/api/fy/pictureDesc/show/{propertyId} {propertyId}\u5b9e\u9645\u4e0a\u662f\u4e2a\u5360\u4f4d\u7b26\uff0c\u6700\u540e\u4f1a\u88ab\u5b9e\u9645\u7684\u503c\u66ff\u4ee3\uff0c\u4e5f\u5c31\u662f\u4ed6\u5176\u5b9e\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u91cc\u9762JSON\u63cf\u8ff0\u6587\u4ef6\u4e2d\u7684 pathParameter \u4ecemethod=RequestMethod.GET\u5f97\u5230\u8fd9\u662f\u4e2aGET\u7684\u8bf7\u6c42 \u4ece@PathVariable\uff0c\u8bf4\u660e\u8bf7\u6c42\u4e2d\u4f1a\u6709\u4e00\u4e2apropertyId\u7684\u53c2\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u662f\u901a\u8fc7\u66ff\u6362\u6389{propertyId}\u7684\u503c\uff0c\u4f20\u9012\u5230\u51fd\u6570\u7d2f\u4e0d\u7684 \u4ece@RequestParam \u8bf4\u660e\u8bf7\u6c42\u4e2d\u8fd8\u6709\u53c8\u4e00\u4e2a\u662fempNo\u7684\u53c2\u6570\uff0c\u4e5f\u5c31\u662f\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u4e2d\u7684queryParameter\uff0c\u4ed6\u662f\u52a0\u8f7dURL\u540e\u9762\u7684\uff0c\u683c\u5f0f\u5c31\u662f&key=value header\u6ca1\u6709\u7279\u6b8a\u7684\u8bf4\u660e\uff0c\u6240\u4ee5\u8fd9\u4e2a\u8bf7\u6c42\u7684Content-Type\u53ef\u4ee5\u4f7f\u7528application/x-www-form-urlencoded \u5982\u679cheader\u6709\u7279\u6b8a\u8bf4\u660e\u5982\u4e0b: @ResponseBody @RequestMapping(value = \"/pictureDesc/show/{propertyId}\", consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE, method = RequestMethod.GET) public String showPictureDesc(@PathVariable String propertyId, @RequestParam(required = false,value = \"empNo\") String empNo) \u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\u8868\u793a\u8fd9\u4e2a\u63a5\u53e3\uff1a \u53ea\u63a5\u53d7\u5305\u4f53\u6709JSON\u7684\u8bf7\u6c42(consumes = MediaType.APPLICATION_JSON_VALUE) \u751f\u4ea7\u6709JSON\u5305\u4f53\u7684\u8fd4\u56de(produces = MediaType.APPLICATION_JSON_VALUE) \u65b9\u6cd5\u4e0a\u6709@ReponseBody\uff0c\u8868\u793a\u8fd9\u4e2a\u65b9\u6cd5\u7684\u8fd4\u56de\uff0c\u4f1a\u5728response \u7684\u5305\u4f53\u4e2d \u548c\u76ee\u524d\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u7ed3\u5408\u53ef\u4ee5\u5f97\u5230\u5982\u4e0b: \u901a\u8fc7\u8fd9\u4e2a\u63a5\u53e3\u5b9a\u4e49\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u5982\u4e0b\u7684\u63a5\u53e3\u63cf\u8ff0\u6587\u4ef6\uff1a { \"queryParameters\":[\"empNo\" ], \"pathParameters\":[\"propertyId\"], \"method\":\"GET\", \"resourceURL\":\"/api/fy/pictureDesc/show/{propertyId}\", \"contentType\":\"application/x-www-form-urlencoded\", \"headers\":{} \"apiDomain\":\"fy\" } \u5982\u679c\u5bf9\u4e8e\u4ee5\u4e0a\u4ee3\u7801\u7ee7\u7eed\u6316\u6398\u7684\u8bdd\uff0c\u4f60\u53ef\u4ee5\u53d1\u73b0\u4e3b\u8981\u5b9e\u73b0\u7684\u4e1a\u52a1\u903b\u8f91\u7684\u4ee3\u7801\u5982\u4e0b\uff1a List<PropertyPictureView> lstPropPic = fyPropertyDescVoteService.getPropertyDescPictureWithoutHouseLayout(empId, propertyId); List<Map<String,Object>> resultListMap = filterPropertyPicture(lstPropPic); fyPropertyDescVoteService \u662f\u5177\u4f53\u5904\u7406\u4e1a\u52a1\u903b\u8f91\u7684\u5730\u65b9\uff0c\u800c\u4e14\u4e00\u822c\u90fd\u4f1a\u548c\u6570\u636e\u5e93\u6216\u8005\u7f13\u5b58\u6253\u4ea4\u9053.\u901a\u8fc7\u518d\u5f80\u4e0b\u9762\u8ffd\u67e5\uff0c\u5176\u5b9e\u6211\u4eec\u5176\u5b9e\u53ef\u4ee5\u53d1\u73b0\u6709\u4e9b\u63a5\u53e3\u7684\u903b\u8f91\u5176\u5b9e\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u6709\u4e9b\u4f1a\u590d\u6742\u4e00\u70b9. \u6240\u4ee5\u901a\u8fc7\u4e00\u4e9b\u4ee3\u7801\u8d70\u67e5\uff0c\u5927\u6982\u4e5f\u53ef\u4ee5\u4e86\u89e3\u5927\u6982\u7684\u4e1a\u52a1\u590d\u6742\u5ea6\uff0c\u540c\u65f6\u4e5f\u80fd\u4e86\u89e3\u6709\u5173\u7cfb\u7684\u4e00\u4e9b\u6570\u636e\u5e93\u7684\u8868,\u4ece\u800c\u53ef\u4ee5\u5bf9\u6574\u4e2a\u529f\u80fd\u6709\u66f4\u5168\u9762\u7684\u4e00\u4e9b\u4e86\u89e3. \u4e00\u822c\u60c5\u51b5\u4e0b\u5728service\u7c7b\u91cc\u9762\u6709\u4f1a\u8c03\u7528DAO(Data Access Object)\u7684\u65b9\u6cd5\uff0c\u800c\u4e00\u822c\u4e00\u4e2aDAO\u7684\u65b9\u6cd5\u4f1a\u6709\u4e00\u4e2a\u5b58\u653esql\u7684XML\u5bf9\u5e94\uff0c\u6bd4\u5982\u4e0b\u4f8b: @Repository public class PropertyDescVoteDao extends BaseDao{ public void update(PropertyDescVote propertyDescVote){ sqlSession.update(\"PropertyDescVoteMapper.update\" , propertyDescVote); } } \u5176\u4e2dPropertyDescVoteMapper.xml\u5c31\u662f\u8fd9\u4e2aDAO\u5bf9\u5e94\u5b58\u653esql\u7684\u4f4d\u7f6e,update \u5c31\u662f\u5bf9\u5e94\u5230xml\u6587\u4ef6\u7684id\uff0c\u5982\u4e0b\u4f8b: <update id=\"update\" parameterType=\"PropertyDescVote\"> update PropertyDescVote <set> <if test=\"empNo!=null\"> empNo= #{empNo} , </if> <if test=\"score!=null\"> score= #{score}, </if> <if test=\"voteEmpNo!=null\"> voteEmpNo= #{voteEmpNo}, </if> <if test=\"status!=null\"> status= #{status}, </if> <if test=\"flag!=null\"> flag= #{flag}, </if> <if test=\"remark!=null\"> remark= #{remark}, </if> <if test=\"votedAt!=null\"> votedAt= #{votedAt}, </if> <if test=\"completedAt!=null\"> completedAt= #{completedAt}, </if> <if test=\"votingEmpNo!=null\"> votingEmpNo= #{votingEmpNo}, </if> <if test=\"isPhotographer!=null\"> isPhotographer= #{isPhotographer}, </if> updatedAt= getDate(), </set> where id = #{id} </update> \u76f4\u63a5\u8fd4\u56de\u9875\u9762\u7684\u5b9e\u73b0 \u6709\u4e9b\u5b9e\u73b0\u6bd4\u5982: @Controller @RequestMapping(value = \"/fy/zrManagerForEstate\") public class ZrManagerForEstateController extends BaseController { @Autowired private ZrManagerForEstateService zrManagerForEstateService; @Autowired private FyPropertyService fyPropertyService; @RequestMapping(method = RequestMethod.GET) public String showView(HttpServletRequest request) throws Exception { PortalEmployee portalEmployee = super.getSessionUser(request); //\u9a8c\u8bc1\u6743\u9650 if(!AuthFunctions2.hasFuncAuth(portalEmployee, IAuth.\u529f\u80fd\u6743\u9650_\u81ea\u5982\u7ba1\u5bb6\u914d\u76d8)){ return \"fy/common/no_access\"; } return \"fy/zrManager/index\"; } } \u8fd9\u4e9b\u4ee3\u7801\u91cc\u9762\u57fa\u672c\u4e0a\u548c\u4e4b\u524d\u7684\u4ee3\u7801\u4e00\u6837\uff0c\u4e0d\u540c\u7684\u662f\u6700\u540e\u8fd4\u56de: return \"fy/zrManager/index\"; \u8fd9\u6837\u7684\u8fd4\u56de\u8868\u793a\u8fd4\u56de\u4e86\u4e00\u4e2a\u9875\u9762\uff0c\u4e5f\u5c31\u662fhtml \u800c\u4e0d\u662fjson\uff0c \u8fd9\u4e2ahtml\u7684\u6a21\u7248\u6240\u5728\u4f4d\u7f6e\u4e00\u822c\u662f\u5728webapp/WEB-INF/jsp/fy/zrManager/index.jsp \u81f3\u6b64\u6211\u4eec\u5e38\u89c1\u7684HTTP\u63a5\u53e3\u4ee3\u7801\u5b9e\u73b0\u5c31\u4ecb\u7ecd\u5b8c\u4e86,\u540e\u9762\u4f1a\u9488\u5bf9\u5982\u4f55\u8fdb\u884c\u6b64\u7c7bAPI\u6d4b\u8bd5\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd,\u4e0d\u8fc7\u6211\u4eec\u603b\u7ed3\u4ee5\u4e0a\u7684\u4ee3\u7801\u5b9e\u73b0\u7684\u8bdd\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u63a5\u53e3\u6d4b\u8bd5\u9700\u8981\u6d4b\u8bd5\u7684\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e: - \u63a5\u53e3(contract)\u662f\u5426\u6309\u7167\u9700\u6c42\u6587\u4ef6\u6765\u5b9e\u73b0\u7684 - \u5177\u4f53\u7684\u4e1a\u52a1\u903b\u8f91\u4e00\u822c\u90fd\u4f1a\u6d89\u53ca\u5230\u6570\u636e\u5e93\u64cd\u4f5c\uff0c\u6570\u636e\u5e93\u5185\u5bb9\u5982\u4f55\u662f\u5426\u6821\u9a8c - \u8fd4\u56de\u503c\u662f\u5426\u6309\u7167\u63a5\u53e3\u9700\u6c42\u6587\u6863\u5b9e\u73b0\u7684 - ....... \u601d\u8003\u95ee\u9898:\u90a3\u4e48\u5982\u679c\u6bcf\u4e00\u4e2a\u63a5\u53e3\u90fd\u9700\u8981\u767b\u5f55\u9a8c\u8bc1\u4f1a\u600e\u4e48\u529e\u5462\uff1f HTTP\u53c2\u8003- \u53ef\u4ee5\u8ba9\u4f60\u66f4\u591a\u7684\u4e86\u89e3\u4e00\u4e0b\u5173\u4e8e\u63a5\u53e3\u5b9a\u4e49\u7684\u4e00\u4e9b\u7ec6\u8282 HTTP \u534f\u8bae\u6d45\u6790 HTTP \u8bf7\u6c42\u62a5\u6587\u89e3\u6790 HTTP Headers","title":"\u63a5\u53e3\u6d4b\u8bd5\uff0dWEB\u63a5\u53e3\u5e38\u89c1\u7684\u5b9e\u73b0\u65b9\u6cd5"},{"location":"api_automation/web%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/#web-","text":"\u5bf9\u4e8e\u4e00\u822c\u7684web\u5e94\u7528\u6765\u8bf4,\u4e00\u4e2a\u63a5\u53e3\u5f80\u5f80\u4ee3\u8868\u4e86\u4e00\u4e2a\u5bf9\u5916\u63d0\u4f9b\u6267\u884c\u4e1a\u52a1\u7684\u670d\u52a1,\u4f7f\u5f97\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u53ef\u4ee5\u8fdb\u884c\u4ea4\u4e92.\u5e38\u89c1\u7684\u6709\u4e24\u5927\u7c7b HTTP/HTTPS \u534f\u8bae\u7684\u63a5\u53e3 WEB SERVICE \u63a5\u53e3\u5982SOAP,RMI,RPC\u7b49\u534f\u8bae \u4ece\u5e7f\u4e49\u4e0a\u8bb2,\u76ee\u524d\u6700\u4e3b\u8981\u4f7f\u7528\u573a\u666f\u4e3b\u8981\u6709\u4e24\u7c7b: \u8bbf\u95eeAPI\u63a5\u53e3(HTTP-based)\u83b7\u53d6JSON\u683c\u5f0f\u7684\u6570\u636e \u8bbf\u95eeAPI\u63a5\u53e3(HTTP-based)\u83b7\u53d6\u670d\u52a1\u7aef\u5df2\u7ecf\u6e32\u67d3\u597d\u7684HTML\u6570\u636e","title":"web\u63a5\u53e3\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0d\u4e86\u89e3\u63a5\u53e3\u4e00\u822c\u5b9e\u73b0\u65b9\u6cd5"},{"location":"api_automation/web%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/#web","text":"\u4e00\u4e0b\u5185\u5bb9\u4e3b\u8981\u662f\u4ecb\u7ecd\u4e00\u4e9b\u5f53\u524d\u7cfb\u7edf\u5e38\u89c1\u7684\u4e00\u4e9b\u5b9e\u73b0\u65b9\u6cd5\uff0c\u4ee5\u4fbf\u6d4b\u8bd5\u5bf9\u4e8e\u7cfb\u7edf\u7ed3\u6784\u6709\u4e2a\u5927\u81f4\u7684\u5370\u8c61. \u4ee5\u4e0b\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u4ece\u5ba2\u6237\u7aef\u8bf7\u6c42\u5230\u670d\u52a1\u7aef\u8fd4\u56de\u8bf7\u6c42\u7684\u8fc7\u7a0b:","title":"WEB\u63a5\u53e3\u5e38\u89c1\u5b9e\u73b0\u7684\u5206\u6790"},{"location":"api_automation/web%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/#web_1","text":"\u4e86\u89e3\u4e00\u4e0b\u5927\u6982\u7684\u4ee3\u7801\u7ed3\u6784\u53ef\u4ee5\u66f4\u52a0\u6e05\u695a\u88ab\u6d4b\u5bf9\u8c61\uff0c\u629b\u5f00\u6240\u6709\u6846\u67b6\u5c42\u9762\u7684\u4e1c\u897f\uff0c\u5728\u4e00\u4e2aMVC\u67b6\u6784\u7684\u7cfb\u7edf\u4e2d\u53bb\u4e86\u89e3\u67d0\u4e2a\u4e1a\u52a1\u5982\u4f55\u5b9e\u73b0\uff0c\u4e00\u822c\u5c31\u662f\u4eceController\u5f00\u59cb\uff0c controller\u4f1a\u8fde\u63a5\u5ba2\u6237\u8bf7\u6c42\uff0c\u4e1a\u52a1\u903b\u8f91\u5904\u7406\uff0c\u4ee5\u53ca\u5b9e\u9645\u7684\u8fd4\u56de\u3002 \u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684Controller\u5b9e\u73b0\u7684\u8bb2\u89e3: \u5b9e\u4f8b\u4ee3\u7801\uff1a @Controller @RequestMapping(\"/api/fy\") public class ApiForPropertyDescController extends BaseController { @ResponseBody @RequestMapping(value = \"/pictureDesc/show/{propertyId}\", method = RequestMethod.GET) public String showPictureDesc(@PathVariable String propertyId, @RequestParam(required = false,value = \"empNo\") String empNo) throws Exception { Map<String, Object> resultMap = new HashMap<>(); Integer empId = Integer.valueOf(empNo); List<PropertyPictureView> lstPropPic = fyPropertyDescVoteService.getPropertyDescPictureWithoutHouseLayout(empId, propertyId); List<Map<String,Object>> resultListMap = filterPropertyPicture(lstPropPic); resultMap.put(\"descPicturs\", resultListMap); // resultMap.put(\"mediaBase\", ResourceMap.get(\"pic_root\")); return new ObjectMapper().writeValueAsString(resultMap); } } \u4ee5\u4e0a\u7684\u4ee3\u7801\u4f1a\u5904\u7406\u8bf7\u6c42\uff1ahttp://fy.Domain.org/api/fy/pictureDesc/123456643 \u4ece\u4ee3\u7801\u89d2\u5ea6\u6765\u5206\u6790\u4e00\u4e0b\u4ee5\u4e0a\u4ee3\u7801\u6ce8\u89e3\u7684\u4e00\u4e9b\u4f7f\u7528: \u7c7b\u7ea7\u522b\u7684\u8def\u5f84@RequestMapping(\"/api/fy\")\u548c\u65b9\u6cd5\u7ea7\u522b\u7684\u8def\u5f84 \u65b9\u6cd5\u7ea7\u522b\u7684\u8def\u5f84@RequestMapping(value = \"/pictureDesc/show/{propertyId}\" \u7ed3\u5408\uff1a\u8fd9\u4e2a\u63a5\u53e3\u7684\u8def\u5f84\u662f/api/fy/pictureDesc/show/{propertyId} {propertyId}\u5b9e\u9645\u4e0a\u662f\u4e2a\u5360\u4f4d\u7b26\uff0c\u6700\u540e\u4f1a\u88ab\u5b9e\u9645\u7684\u503c\u66ff\u4ee3\uff0c\u4e5f\u5c31\u662f\u4ed6\u5176\u5b9e\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u91cc\u9762JSON\u63cf\u8ff0\u6587\u4ef6\u4e2d\u7684 pathParameter \u4ecemethod=RequestMethod.GET\u5f97\u5230\u8fd9\u662f\u4e2aGET\u7684\u8bf7\u6c42 \u4ece@PathVariable\uff0c\u8bf4\u660e\u8bf7\u6c42\u4e2d\u4f1a\u6709\u4e00\u4e2apropertyId\u7684\u53c2\u6570\uff0c\u8fd9\u4e2a\u53c2\u6570\u662f\u901a\u8fc7\u66ff\u6362\u6389{propertyId}\u7684\u503c\uff0c\u4f20\u9012\u5230\u51fd\u6570\u7d2f\u4e0d\u7684 \u4ece@RequestParam \u8bf4\u660e\u8bf7\u6c42\u4e2d\u8fd8\u6709\u53c8\u4e00\u4e2a\u662fempNo\u7684\u53c2\u6570\uff0c\u4e5f\u5c31\u662f\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u4e2d\u7684queryParameter\uff0c\u4ed6\u662f\u52a0\u8f7dURL\u540e\u9762\u7684\uff0c\u683c\u5f0f\u5c31\u662f&key=value header\u6ca1\u6709\u7279\u6b8a\u7684\u8bf4\u660e\uff0c\u6240\u4ee5\u8fd9\u4e2a\u8bf7\u6c42\u7684Content-Type\u53ef\u4ee5\u4f7f\u7528application/x-www-form-urlencoded \u5982\u679cheader\u6709\u7279\u6b8a\u8bf4\u660e\u5982\u4e0b: @ResponseBody @RequestMapping(value = \"/pictureDesc/show/{propertyId}\", consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE, method = RequestMethod.GET) public String showPictureDesc(@PathVariable String propertyId, @RequestParam(required = false,value = \"empNo\") String empNo) \u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\u8868\u793a\u8fd9\u4e2a\u63a5\u53e3\uff1a \u53ea\u63a5\u53d7\u5305\u4f53\u6709JSON\u7684\u8bf7\u6c42(consumes = MediaType.APPLICATION_JSON_VALUE) \u751f\u4ea7\u6709JSON\u5305\u4f53\u7684\u8fd4\u56de(produces = MediaType.APPLICATION_JSON_VALUE) \u65b9\u6cd5\u4e0a\u6709@ReponseBody\uff0c\u8868\u793a\u8fd9\u4e2a\u65b9\u6cd5\u7684\u8fd4\u56de\uff0c\u4f1a\u5728response \u7684\u5305\u4f53\u4e2d \u548c\u76ee\u524d\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u7ed3\u5408\u53ef\u4ee5\u5f97\u5230\u5982\u4e0b: \u901a\u8fc7\u8fd9\u4e2a\u63a5\u53e3\u5b9a\u4e49\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u5982\u4e0b\u7684\u63a5\u53e3\u63cf\u8ff0\u6587\u4ef6\uff1a { \"queryParameters\":[\"empNo\" ], \"pathParameters\":[\"propertyId\"], \"method\":\"GET\", \"resourceURL\":\"/api/fy/pictureDesc/show/{propertyId}\", \"contentType\":\"application/x-www-form-urlencoded\", \"headers\":{} \"apiDomain\":\"fy\" } \u5982\u679c\u5bf9\u4e8e\u4ee5\u4e0a\u4ee3\u7801\u7ee7\u7eed\u6316\u6398\u7684\u8bdd\uff0c\u4f60\u53ef\u4ee5\u53d1\u73b0\u4e3b\u8981\u5b9e\u73b0\u7684\u4e1a\u52a1\u903b\u8f91\u7684\u4ee3\u7801\u5982\u4e0b\uff1a List<PropertyPictureView> lstPropPic = fyPropertyDescVoteService.getPropertyDescPictureWithoutHouseLayout(empId, propertyId); List<Map<String,Object>> resultListMap = filterPropertyPicture(lstPropPic); fyPropertyDescVoteService \u662f\u5177\u4f53\u5904\u7406\u4e1a\u52a1\u903b\u8f91\u7684\u5730\u65b9\uff0c\u800c\u4e14\u4e00\u822c\u90fd\u4f1a\u548c\u6570\u636e\u5e93\u6216\u8005\u7f13\u5b58\u6253\u4ea4\u9053.\u901a\u8fc7\u518d\u5f80\u4e0b\u9762\u8ffd\u67e5\uff0c\u5176\u5b9e\u6211\u4eec\u5176\u5b9e\u53ef\u4ee5\u53d1\u73b0\u6709\u4e9b\u63a5\u53e3\u7684\u903b\u8f91\u5176\u5b9e\u662f\u6bd4\u8f83\u7b80\u5355\u7684\uff0c\u6709\u4e9b\u4f1a\u590d\u6742\u4e00\u70b9. \u6240\u4ee5\u901a\u8fc7\u4e00\u4e9b\u4ee3\u7801\u8d70\u67e5\uff0c\u5927\u6982\u4e5f\u53ef\u4ee5\u4e86\u89e3\u5927\u6982\u7684\u4e1a\u52a1\u590d\u6742\u5ea6\uff0c\u540c\u65f6\u4e5f\u80fd\u4e86\u89e3\u6709\u5173\u7cfb\u7684\u4e00\u4e9b\u6570\u636e\u5e93\u7684\u8868,\u4ece\u800c\u53ef\u4ee5\u5bf9\u6574\u4e2a\u529f\u80fd\u6709\u66f4\u5168\u9762\u7684\u4e00\u4e9b\u4e86\u89e3. \u4e00\u822c\u60c5\u51b5\u4e0b\u5728service\u7c7b\u91cc\u9762\u6709\u4f1a\u8c03\u7528DAO(Data Access Object)\u7684\u65b9\u6cd5\uff0c\u800c\u4e00\u822c\u4e00\u4e2aDAO\u7684\u65b9\u6cd5\u4f1a\u6709\u4e00\u4e2a\u5b58\u653esql\u7684XML\u5bf9\u5e94\uff0c\u6bd4\u5982\u4e0b\u4f8b: @Repository public class PropertyDescVoteDao extends BaseDao{ public void update(PropertyDescVote propertyDescVote){ sqlSession.update(\"PropertyDescVoteMapper.update\" , propertyDescVote); } } \u5176\u4e2dPropertyDescVoteMapper.xml\u5c31\u662f\u8fd9\u4e2aDAO\u5bf9\u5e94\u5b58\u653esql\u7684\u4f4d\u7f6e,update \u5c31\u662f\u5bf9\u5e94\u5230xml\u6587\u4ef6\u7684id\uff0c\u5982\u4e0b\u4f8b: <update id=\"update\" parameterType=\"PropertyDescVote\"> update PropertyDescVote <set> <if test=\"empNo!=null\"> empNo= #{empNo} , </if> <if test=\"score!=null\"> score= #{score}, </if> <if test=\"voteEmpNo!=null\"> voteEmpNo= #{voteEmpNo}, </if> <if test=\"status!=null\"> status= #{status}, </if> <if test=\"flag!=null\"> flag= #{flag}, </if> <if test=\"remark!=null\"> remark= #{remark}, </if> <if test=\"votedAt!=null\"> votedAt= #{votedAt}, </if> <if test=\"completedAt!=null\"> completedAt= #{completedAt}, </if> <if test=\"votingEmpNo!=null\"> votingEmpNo= #{votingEmpNo}, </if> <if test=\"isPhotographer!=null\"> isPhotographer= #{isPhotographer}, </if> updatedAt= getDate(), </set> where id = #{id} </update> \u76f4\u63a5\u8fd4\u56de\u9875\u9762\u7684\u5b9e\u73b0 \u6709\u4e9b\u5b9e\u73b0\u6bd4\u5982: @Controller @RequestMapping(value = \"/fy/zrManagerForEstate\") public class ZrManagerForEstateController extends BaseController { @Autowired private ZrManagerForEstateService zrManagerForEstateService; @Autowired private FyPropertyService fyPropertyService; @RequestMapping(method = RequestMethod.GET) public String showView(HttpServletRequest request) throws Exception { PortalEmployee portalEmployee = super.getSessionUser(request); //\u9a8c\u8bc1\u6743\u9650 if(!AuthFunctions2.hasFuncAuth(portalEmployee, IAuth.\u529f\u80fd\u6743\u9650_\u81ea\u5982\u7ba1\u5bb6\u914d\u76d8)){ return \"fy/common/no_access\"; } return \"fy/zrManager/index\"; } } \u8fd9\u4e9b\u4ee3\u7801\u91cc\u9762\u57fa\u672c\u4e0a\u548c\u4e4b\u524d\u7684\u4ee3\u7801\u4e00\u6837\uff0c\u4e0d\u540c\u7684\u662f\u6700\u540e\u8fd4\u56de: return \"fy/zrManager/index\"; \u8fd9\u6837\u7684\u8fd4\u56de\u8868\u793a\u8fd4\u56de\u4e86\u4e00\u4e2a\u9875\u9762\uff0c\u4e5f\u5c31\u662fhtml \u800c\u4e0d\u662fjson\uff0c \u8fd9\u4e2ahtml\u7684\u6a21\u7248\u6240\u5728\u4f4d\u7f6e\u4e00\u822c\u662f\u5728webapp/WEB-INF/jsp/fy/zrManager/index.jsp \u81f3\u6b64\u6211\u4eec\u5e38\u89c1\u7684HTTP\u63a5\u53e3\u4ee3\u7801\u5b9e\u73b0\u5c31\u4ecb\u7ecd\u5b8c\u4e86,\u540e\u9762\u4f1a\u9488\u5bf9\u5982\u4f55\u8fdb\u884c\u6b64\u7c7bAPI\u6d4b\u8bd5\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd,\u4e0d\u8fc7\u6211\u4eec\u603b\u7ed3\u4ee5\u4e0a\u7684\u4ee3\u7801\u5b9e\u73b0\u7684\u8bdd\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u63a5\u53e3\u6d4b\u8bd5\u9700\u8981\u6d4b\u8bd5\u7684\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e: - \u63a5\u53e3(contract)\u662f\u5426\u6309\u7167\u9700\u6c42\u6587\u4ef6\u6765\u5b9e\u73b0\u7684 - \u5177\u4f53\u7684\u4e1a\u52a1\u903b\u8f91\u4e00\u822c\u90fd\u4f1a\u6d89\u53ca\u5230\u6570\u636e\u5e93\u64cd\u4f5c\uff0c\u6570\u636e\u5e93\u5185\u5bb9\u5982\u4f55\u662f\u5426\u6821\u9a8c - \u8fd4\u56de\u503c\u662f\u5426\u6309\u7167\u63a5\u53e3\u9700\u6c42\u6587\u6863\u5b9e\u73b0\u7684 - ....... \u601d\u8003\u95ee\u9898:\u90a3\u4e48\u5982\u679c\u6bcf\u4e00\u4e2a\u63a5\u53e3\u90fd\u9700\u8981\u767b\u5f55\u9a8c\u8bc1\u4f1a\u600e\u4e48\u529e\u5462\uff1f","title":"WEB \u63a5\u53e3\u5e38\u89c1\u7684\u5b9e\u73b0\u4ee3\u7801\u5206\u6790"},{"location":"api_automation/web%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/#http-","text":"HTTP \u534f\u8bae\u6d45\u6790 HTTP \u8bf7\u6c42\u62a5\u6587\u89e3\u6790 HTTP Headers","title":"HTTP\u53c2\u8003- \u53ef\u4ee5\u8ba9\u4f60\u66f4\u591a\u7684\u4e86\u89e3\u4e00\u4e0b\u5173\u4e8e\u63a5\u53e3\u5b9a\u4e49\u7684\u4e00\u4e9b\u7ec6\u8282"},{"location":"best_practice/code_style/","text":"\u81ea\u52a8\u5316\u6d4b\u8bd5\u4ee3\u7801\u57fa\u672c\u89c4\u8303 \u547d\u540d JAVA \u4e3b\u8981\u662f\u91c7\u7528\u9a7c\u5cf0\u547d\u540d\u7684\u65b9\u5f0f\uff0c\u6bcf\u4e2a\u5355\u8bcd\u7684\u5f00\u59cb\u5b57\u6bcd\u5927\u5199. \u6240\u6709\u7684\u547d\u540d\u5c3d\u91cf\u7528\u82f1\u6587\u540d. * \u7c7b\u547d\u540d\uff1a \u9996\u5b57\u6bcd\u5927\u5199\uff0c\u5176\u4ed6\u6309\u7167\u9a7c\u5cf0\u547d\u540d\u7684\u65b9\u5f0f HomePage -> OK homePage -> \u4e0d\u63a8\u8350 * \u65b9\u6cd5\u540d\uff1a \u9996\u5b57\u6bcd\u5c0f\u5199\uff0c\u5176\u4ed6\u6309\u7167\u9a7c\u5cf0\u547d\u540d\u7684\u65b9\u5f0f addProperties() -> OK AddProperties() -> \u4e0d\u63a8\u8350 * \u6210\u5458\u53d8\u91cf\uff1a \u9996\u5b57\u6bcd\u5c0f\u5199\uff0c\u5176\u4ed6\u6309\u7167\u9a7c\u5cf0\u547d\u540d\u7684\u65b9\u5f0f addedProperties -> OK AddedProperties -> \u4e0d\u63a8\u8350 * \u9759\u6001\u7684final\u53d8\u91cf\uff1a \u53ef\u4ee5\u5168\u90e8\u5927\u5199 \u4e0d\u540c\u7c7b\u7684\u7ec4\u7ec7 main\uff1a - data: \u6570\u636e\u7c7b - flows: \u4e1a\u52a1\u6d41\u7a0b\u7c7b - pages: \u9875\u9762\u7c7b - api: api \u8bbf\u95ee\u5ba2\u6237\u7aef\u4ee3\u7801 - resources: \u8d44\u6e90\u6587\u4ef6\uff0c\u5982\u9700\u8981\u4e0a\u4f20\u7684\u6587\u4ef6 test\uff1a - flows: \u4e1a\u52a1\u6d41\u7a0b\u6d4b\u8bd5\u7c7b - api: api\u6d4b\u8bd5\u7c7b - resources: \u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u6570\u636e\uff0c\u9700\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u5b50\u76ee\u5f55\u7684\u65b9\u5f0f\u6765\u5f52\u7c7b\u4e0d\u540c\u7684\u6587\u4ef6 \u4ee3\u7801\u5206\u652f: Trunk/Master \u4fdd\u8bc1SVN\u7684Trunk\u548cMaster\u5206\u652f\u4e0a\u7684\u4ee3\u7801\u6ca1\u6709\u7f16\u8bd1\u9519\u8bef","title":"JAVA \u81ea\u52a8\u5316\u6d4b\u8bd5\u4ee3\u7801\u89c4\u8303"},{"location":"best_practice/code_style/#_1","text":"\u547d\u540d JAVA \u4e3b\u8981\u662f\u91c7\u7528\u9a7c\u5cf0\u547d\u540d\u7684\u65b9\u5f0f\uff0c\u6bcf\u4e2a\u5355\u8bcd\u7684\u5f00\u59cb\u5b57\u6bcd\u5927\u5199. \u6240\u6709\u7684\u547d\u540d\u5c3d\u91cf\u7528\u82f1\u6587\u540d. * \u7c7b\u547d\u540d\uff1a \u9996\u5b57\u6bcd\u5927\u5199\uff0c\u5176\u4ed6\u6309\u7167\u9a7c\u5cf0\u547d\u540d\u7684\u65b9\u5f0f HomePage -> OK homePage -> \u4e0d\u63a8\u8350 * \u65b9\u6cd5\u540d\uff1a \u9996\u5b57\u6bcd\u5c0f\u5199\uff0c\u5176\u4ed6\u6309\u7167\u9a7c\u5cf0\u547d\u540d\u7684\u65b9\u5f0f addProperties() -> OK AddProperties() -> \u4e0d\u63a8\u8350 * \u6210\u5458\u53d8\u91cf\uff1a \u9996\u5b57\u6bcd\u5c0f\u5199\uff0c\u5176\u4ed6\u6309\u7167\u9a7c\u5cf0\u547d\u540d\u7684\u65b9\u5f0f addedProperties -> OK AddedProperties -> \u4e0d\u63a8\u8350 * \u9759\u6001\u7684final\u53d8\u91cf\uff1a \u53ef\u4ee5\u5168\u90e8\u5927\u5199 \u4e0d\u540c\u7c7b\u7684\u7ec4\u7ec7 main\uff1a - data: \u6570\u636e\u7c7b - flows: \u4e1a\u52a1\u6d41\u7a0b\u7c7b - pages: \u9875\u9762\u7c7b - api: api \u8bbf\u95ee\u5ba2\u6237\u7aef\u4ee3\u7801 - resources: \u8d44\u6e90\u6587\u4ef6\uff0c\u5982\u9700\u8981\u4e0a\u4f20\u7684\u6587\u4ef6 test\uff1a - flows: \u4e1a\u52a1\u6d41\u7a0b\u6d4b\u8bd5\u7c7b - api: api\u6d4b\u8bd5\u7c7b - resources: \u6d4b\u8bd5\u7528\u4f8b\uff0c\u6d4b\u8bd5\u6570\u636e\uff0c\u9700\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u5b50\u76ee\u5f55\u7684\u65b9\u5f0f\u6765\u5f52\u7c7b\u4e0d\u540c\u7684\u6587\u4ef6 \u4ee3\u7801\u5206\u652f: Trunk/Master \u4fdd\u8bc1SVN\u7684Trunk\u548cMaster\u5206\u652f\u4e0a\u7684\u4ee3\u7801\u6ca1\u6709\u7f16\u8bd1\u9519\u8bef","title":"\u81ea\u52a8\u5316\u6d4b\u8bd5\u4ee3\u7801\u57fa\u672c\u89c4\u8303"},{"location":"best_practice/simple_ui_case/","text":"Test Case To UI Automation Case - A Simple Scenario Tour \u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u5c31\u662f\u8bb2\u8ff0\u5982\u4f55\u4ece\u9700\u6c42\u5230\u6d4b\u8bd5\u7528\u4f8b\u8bbe\u8ba1\uff0c\u7136\u540e\u5b9e\u73b0UI\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u8fc7\u7a0b. \u8fd9\u4e2a\u4f8b\u5b50\u6765\u81ea\u4e00\u4e2a\u5c0f\u7684\u9700\u6c42\uff1a\u4e1a\u4e3b\u4f1a\u5458\u4e2d\u5fc3\uff0c\u4e1a\u4e3b\u63d0\u4ea4\u81ea\u5df1\u7684\u623f\u6e90\u7684\u4ecb\u7ecd \u9700\u6c42\u5177\u4f53\u5316-\u6d4b\u8bd5\u7528\u4f8b\u8bbe\u8ba1 \u9762\u5bf9\u4e1a\u4e3b\u4f1a\u5458\u4e2d\u5fc3\uff0c\u4e1a\u4e3b\u63d0\u4ea4\u81ea\u5df1\u7684\u623f\u6e90\u7684\u4ecb\u7ecd\u8fd9\u6837\u4e00\u4e2a\u9700\u6c42\u4ee5\u53ca\u76f8\u5173\u7684\u6587\u6863\uff0c\u4e00\u822c\u60c5\u51b5\u80af\u5b9a\u5148\u53bb\u4e86\u89e3\u8fd9\u4e2a\u9700\u6c42\u7684\u4e1a\u52a1\u6d41\u7a0b\uff1a \u4e1a\u4e3b -> \u81ea\u5df1\u623f\u6e90 -> \u8f93\u5165\u623f\u6e90\u4ecb\u7ecd\u6807\u9898 -> \u8f93\u5165\u623f\u6e90\u5185\u5bb9\u4ecb\u7ecd -> \u4fdd\u5b58\u8f93\u5165\u5185\u5bb9 \u4ece\u8f93\u5165\u548c\u8f93\u51fa\u7684\u89d2\u5ea6\u770b\uff1a \u8f93\u5165\uff1a \u6307\u5b9a\u623f\u6e90 \u623f\u6e90\u4ecb\u7ecd\u7684\u6807\u9898 \u623f\u6e90\u4ecb\u7ecd\u7684\u8be6\u7ec6\u63cf\u8ff0 \u8f93\u51fa\uff1a \u623f\u6e90\u63cf\u8ff0\u88ab\u4fdd\u5b58\u6210\u529f\uff0c\u8fd4\u56de\u63d0\u793a\u4fe1\u606f \u623f\u6e90\u63cf\u8ff0\u6ca1\u6709\u901a\u8fc7\u9a8c\u8bc1\uff0c\u8fd4\u56de\u76f8\u5173\u51fa\u9519\u7684\u4fe1\u606f \u6240\u6709\u6211\u4eec\u7684\u6d4b\u8bd5\u7528\u4f8b\u7684\u8111\u56fe\u53ef\u80fd\u662f\u8fd9\u6837\u7684: \u7531\u4e8e\u6700\u540e\u5728\u6267\u884c\u6d4b\u8bd5\u7528\u4f8b\u7684\u65f6\u5019\uff0c\u90fd\u4f1a\u628a\u8fd9\u4e9b\u62bd\u8c61\u7684\u8f93\u5165\u8f93\u51fa\u63cf\u8ff0\u90fd\u4f1a\u8f6c\u5316\u4e3a\u5177\u4f53\u7684\u503c\uff0c\u90a3\u4e48\u5b9e\u9645\u4e0a\u6839\u636e\u7684\u6d4b\u8bd5\u7528\u4f8b\u662f\u8fd9\u6837\u7684\uff1a \u8f93\u5165-propertyId \u8f93\u5165-title \u8f93\u5165-content \u8f93\u51fa-\u4fdd\u5b58\u6210\u529f\u4fe1\u606f \u8f93\u51fa- title\u9a8c\u8bc1\u5931\u8d25\u4fe1\u606f \u8f93\u51fa-content\u9a8c\u8bc1\u5931\u8d25\u4fe1\u606f 1234564 introduction introduction \u4fdd\u5b58\u6210\u529f 1234564 introduction \u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a 1234564 introduction \u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a \u5b9e\u9645\u6d4b\u8bd5\u7528\u4f8b - \u5916\u90e8\u6d4b\u8bd5\u6570\u636e \u6839\u636e\u4e0a\u9762\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5b9e\u9645\u4e0a\u5728\u81ea\u52a8\u5316\u6d4b\u8bd5\u6570\u636e\u51c6\u5907\u91cc\u9762\u5c31\u5982\u4e0b\u56fe\uff1a \u6211\u4eec\u6bd4\u8f83\u4e00\u4e0b\u8fd9\u4e24\u4e2a\u6570\u636e\u96c6\u5408\uff0c\u5176\u5b9e\u57fa\u672c\u4e0a\u662f\u7c7b\u4f3c\u7684\uff0c\u6240\u4ee5\u9047\u5230\u4e00\u4e9b\u6bd4\u8f83\u597d\u8868\u8fbe\u4e3a\u8f93\u5165\u8f93\u51fa\u7684\u60c5\u51b5\u7684\u573a\u666f\uff0c\u53ef\u4ee5\u5728\u7f16\u5199\u6d4b\u8bd5\u7528\u4f8b\u7684\u65f6\u5019\u4e5f\u4e00\u8d77\u628a\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u6570\u636e\u4e5f\u51c6\u5907\u597d\u4e86 \u6784\u5efa\u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b \u7531\u4e8e\u76ee\u524d\u529f\u80fd\u8fd8\u6ca1\u6709\u5b9e\u73b0\uff0c\u6240\u4ee5\u6ca1\u6cd5\u5b9e\u73b0\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0c\u4e0d\u8fc7\u81ea\u52a8\u5316\u6d4b\u8bd5\u4ee3\u7801\u5176\u5b9e\u53ef\u4ee5\u5148\u5199\u8d77\u6765\u4e86\uff0c\u53ef\u4ee5\u5148\u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u7684\u811a\u672c\uff0c\u5728\u4e30\u5bcc\u4e1a\u52a1\u6d41\u7a0b\uff0c\u9875\u9762\u7684\u4ee3\u7801, \u5982\u8fd9\u4e2a\u4f8b\u5b50\uff1a \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u4ee3\u7801\uff1a @DataProvider(name = \"ownercenter_data\") public Iterator<Object[]> getTestData(Method m) throws Exception { Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"TestData\", OwnerCenterData.class); clazzMap.put(\"TestCase\", TestDescription.class); clazzMap.put(\"ExpectedResult\", ExpectedResultSpec.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/HouseIntroductionTestCases.xls\", m, clazzMap); return y; } @Test(dataProvider = \"ownercenter_data\") public void houseIntroduction(OwnerCenterData testData, TestDescription td, ExpectedResultSpec result) { VipOwnerCenterFlows.houseIntroduction(driver, testData); String alertMessage = DriverFactory.getThreadLevelTestContext().getAlertMessage(); //todo \u4e0d\u77e5\u9053\u5177\u4f53\u7684\u4f4d\u7f6e\u5728\u4ec0\u4e48\u5730\u65b9 // String title = WebDriverHelper.findElement(driver, By.xpath(\"/html/body/ng-view/div/div[2]/section/p[2]\")).getText(); // String content = WebDriverHelper.findElement(driver, By.xpath(\"/html/body/ng-view/div/div[2]/section/p[4]\")).getText(); String sql = \"select top(1) * from houseIntroduction order by updatedat desc\"; Map<String, String> expectedResult = testData.getAsMap(\"title\", \"content\"); new SoftAssertion() .addTestResult(DriverFactory.getThreadLevelTestContext().getWebTestResult()) // .assertDBValues(\"vip\", sql, expectedResult) .assertThat(title, is(expectedResult.get(\"title\")), \"\u68c0\u67e5\u6807\u9898\") .assertThat(content, is(expectedResult.get(\"content\")), \"\u68c0\u67e5\u5185\u5bb9\") .assertThat(alertMessage, is(result.get(\"alertMessage\")), \"\u68c0\u67e5\u5f39\u51fa\u83dc\u5355\u6309\u94ae\") .getFinalResult(); } @Test(dataProvider = \"ownercenter_data\") public void houseIntroduction_negtivecase(OwnerCenterData testData, TestDescription td, ExpectedResultSpec result) { VipOwnerCenterFlows.houseIntroduction(driver, testData); //\u4e0d\u77e5\u9053\u5177\u4f53\u7684\u4f4d\u7f6e\u5728\u54ea\u91cc // WebElement titleAlert = CollectionsHelper.filter( // WebDriverHelper.findElements(driver, By.xpath(\"//form[@name='describeForm']/div[1]/span\")), // webElement -> { // return webElement.isDisplayed(); // }); // WebElement contentAlert = CollectionsHelper.filter(WebDriverHelper.findElements(driver, By.xpath(\"//form[@name='describeForm']/div[2]/span\")), // webElement -> { // return webElement.isDisplayed(); // }); SoftAssertion sa = new SoftAssertion(); if (titleAlert != null) { sa.assertEquals(titleAlert.getText(), result.get(\"titleAlert\"), \"\u68c0\u67e5title\u7684\u9519\u8bef\u4fe1\u606f\"); } else { sa.assertTrue(StringHelper.isNoneContentString(result.get(\"titleAlert\")), \"\u6ca1\u6709\u9519\u8bef\u4fe1\u606f\u8fd4\u56de\"); } if (contentAlert != null) { sa.assertEquals(contentAlert.getText(), result.get(\"contentAlert\"), \"\u68c0\u67e5content\u9519\u8bef\u4fe1\u606f\"); } else { sa.assertTrue(StringHelper.isNoneContentString(result.get(\"contentAlert\")), \"\u6ca1\u6709\u9519\u8bef\u4fe1\u606f\u8fd4\u56de\"); } } \u4e30\u5bcc\u4e1a\u52a1\u6d41\u7a0b\u4ee3\u7801\uff1a \u4e1a\u52a1\u6d41\u7a0b\u7684\u4ee3\u7801\uff0c\u7531\u4e8e\u662f\u6839\u636e\u4ee5\u540e\u4ee3\u7801\u548c\u9875\u9762\u6765\u7ec4\u5408\u7684\uff0c\u6240\u4ee5\u5728\u4ee3\u7801\u8fd8\u6ca1\u6709\u5b8c\u6210\u7684\u65f6\u5019\uff0c\u5927\u81f4\u4e5f\u53ef\u4ee5\u5199\u51fa\u5982\u4e0b\u7684\u4e1a\u52a1\u6d41\u7a0b //\u8f93\u5165\u201c\u6211\u6765\u4ecb\u7ecd\u6211\u5bb6\u201d\u5185\u5bb9\u5e76\u63d0\u4ea4 public static void houseIntroduction(WebDriver driver, TestData data) { goToindex(driver, data); goToHousePage(driver, data); WebTestActionBuilder.execute(Lists.newArrayList(MyHousePage.class, IntroductionPage.class) , \"houseIntroduction\", driver, data); } \u4e30\u5bcc\u9875\u9762\u6d41\u7a0b \u7b49\u5f85\u9875\u9762\u5b8c\u6210\u4e4b\u540e\uff0c\u53ef\u4ee5\u5b9a\u4e49\u76f8\u5e94\u7684\u9875\u9762\u5143\u7d20\u5b9a\u4f4d\uff0c\u7136\u540e\u5b8c\u5584\u6574\u4e2a\u81ea\u52a8\u5316\u6d4b\u8bd5\u4ee3\u7801\uff0c\u540c\u65f6\u8fdb\u884c\u8c03\u8bd5","title":"\u4e00\u4e2a\u7b80\u5355\u6d4b\u8bd5\u7528\u4f8b\u7684\u81ea\u52a8\u5316\u5b9e\u4f8b"},{"location":"best_practice/simple_ui_case/#test-case-to-ui-automation-case-a-simple-scenario-tour","text":"\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u5c31\u662f\u8bb2\u8ff0\u5982\u4f55\u4ece\u9700\u6c42\u5230\u6d4b\u8bd5\u7528\u4f8b\u8bbe\u8ba1\uff0c\u7136\u540e\u5b9e\u73b0UI\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u8fc7\u7a0b. \u8fd9\u4e2a\u4f8b\u5b50\u6765\u81ea\u4e00\u4e2a\u5c0f\u7684\u9700\u6c42\uff1a\u4e1a\u4e3b\u4f1a\u5458\u4e2d\u5fc3\uff0c\u4e1a\u4e3b\u63d0\u4ea4\u81ea\u5df1\u7684\u623f\u6e90\u7684\u4ecb\u7ecd","title":"Test Case To UI Automation Case - A Simple Scenario Tour"},{"location":"best_practice/simple_ui_case/#-","text":"\u9762\u5bf9\u4e1a\u4e3b\u4f1a\u5458\u4e2d\u5fc3\uff0c\u4e1a\u4e3b\u63d0\u4ea4\u81ea\u5df1\u7684\u623f\u6e90\u7684\u4ecb\u7ecd\u8fd9\u6837\u4e00\u4e2a\u9700\u6c42\u4ee5\u53ca\u76f8\u5173\u7684\u6587\u6863\uff0c\u4e00\u822c\u60c5\u51b5\u80af\u5b9a\u5148\u53bb\u4e86\u89e3\u8fd9\u4e2a\u9700\u6c42\u7684\u4e1a\u52a1\u6d41\u7a0b\uff1a \u4e1a\u4e3b -> \u81ea\u5df1\u623f\u6e90 -> \u8f93\u5165\u623f\u6e90\u4ecb\u7ecd\u6807\u9898 -> \u8f93\u5165\u623f\u6e90\u5185\u5bb9\u4ecb\u7ecd -> \u4fdd\u5b58\u8f93\u5165\u5185\u5bb9 \u4ece\u8f93\u5165\u548c\u8f93\u51fa\u7684\u89d2\u5ea6\u770b\uff1a \u8f93\u5165\uff1a \u6307\u5b9a\u623f\u6e90 \u623f\u6e90\u4ecb\u7ecd\u7684\u6807\u9898 \u623f\u6e90\u4ecb\u7ecd\u7684\u8be6\u7ec6\u63cf\u8ff0 \u8f93\u51fa\uff1a \u623f\u6e90\u63cf\u8ff0\u88ab\u4fdd\u5b58\u6210\u529f\uff0c\u8fd4\u56de\u63d0\u793a\u4fe1\u606f \u623f\u6e90\u63cf\u8ff0\u6ca1\u6709\u901a\u8fc7\u9a8c\u8bc1\uff0c\u8fd4\u56de\u76f8\u5173\u51fa\u9519\u7684\u4fe1\u606f \u6240\u6709\u6211\u4eec\u7684\u6d4b\u8bd5\u7528\u4f8b\u7684\u8111\u56fe\u53ef\u80fd\u662f\u8fd9\u6837\u7684: \u7531\u4e8e\u6700\u540e\u5728\u6267\u884c\u6d4b\u8bd5\u7528\u4f8b\u7684\u65f6\u5019\uff0c\u90fd\u4f1a\u628a\u8fd9\u4e9b\u62bd\u8c61\u7684\u8f93\u5165\u8f93\u51fa\u63cf\u8ff0\u90fd\u4f1a\u8f6c\u5316\u4e3a\u5177\u4f53\u7684\u503c\uff0c\u90a3\u4e48\u5b9e\u9645\u4e0a\u6839\u636e\u7684\u6d4b\u8bd5\u7528\u4f8b\u662f\u8fd9\u6837\u7684\uff1a \u8f93\u5165-propertyId \u8f93\u5165-title \u8f93\u5165-content \u8f93\u51fa-\u4fdd\u5b58\u6210\u529f\u4fe1\u606f \u8f93\u51fa- title\u9a8c\u8bc1\u5931\u8d25\u4fe1\u606f \u8f93\u51fa-content\u9a8c\u8bc1\u5931\u8d25\u4fe1\u606f 1234564 introduction introduction \u4fdd\u5b58\u6210\u529f 1234564 introduction \u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a 1234564 introduction \u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a","title":"\u9700\u6c42\u5177\u4f53\u5316-\u6d4b\u8bd5\u7528\u4f8b\u8bbe\u8ba1"},{"location":"best_practice/simple_ui_case/#-_1","text":"\u6839\u636e\u4e0a\u9762\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u5b9e\u9645\u4e0a\u5728\u81ea\u52a8\u5316\u6d4b\u8bd5\u6570\u636e\u51c6\u5907\u91cc\u9762\u5c31\u5982\u4e0b\u56fe\uff1a \u6211\u4eec\u6bd4\u8f83\u4e00\u4e0b\u8fd9\u4e24\u4e2a\u6570\u636e\u96c6\u5408\uff0c\u5176\u5b9e\u57fa\u672c\u4e0a\u662f\u7c7b\u4f3c\u7684\uff0c\u6240\u4ee5\u9047\u5230\u4e00\u4e9b\u6bd4\u8f83\u597d\u8868\u8fbe\u4e3a\u8f93\u5165\u8f93\u51fa\u7684\u60c5\u51b5\u7684\u573a\u666f\uff0c\u53ef\u4ee5\u5728\u7f16\u5199\u6d4b\u8bd5\u7528\u4f8b\u7684\u65f6\u5019\u4e5f\u4e00\u8d77\u628a\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u6570\u636e\u4e5f\u51c6\u5907\u597d\u4e86","title":"\u5b9e\u9645\u6d4b\u8bd5\u7528\u4f8b - \u5916\u90e8\u6d4b\u8bd5\u6570\u636e"},{"location":"best_practice/simple_ui_case/#_1","text":"\u7531\u4e8e\u76ee\u524d\u529f\u80fd\u8fd8\u6ca1\u6709\u5b9e\u73b0\uff0c\u6240\u4ee5\u6ca1\u6cd5\u5b9e\u73b0\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0c\u4e0d\u8fc7\u81ea\u52a8\u5316\u6d4b\u8bd5\u4ee3\u7801\u5176\u5b9e\u53ef\u4ee5\u5148\u5199\u8d77\u6765\u4e86\uff0c\u53ef\u4ee5\u5148\u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u7684\u811a\u672c\uff0c\u5728\u4e30\u5bcc\u4e1a\u52a1\u6d41\u7a0b\uff0c\u9875\u9762\u7684\u4ee3\u7801, \u5982\u8fd9\u4e2a\u4f8b\u5b50\uff1a \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u4ee3\u7801\uff1a @DataProvider(name = \"ownercenter_data\") public Iterator<Object[]> getTestData(Method m) throws Exception { Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"TestData\", OwnerCenterData.class); clazzMap.put(\"TestCase\", TestDescription.class); clazzMap.put(\"ExpectedResult\", ExpectedResultSpec.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/HouseIntroductionTestCases.xls\", m, clazzMap); return y; } @Test(dataProvider = \"ownercenter_data\") public void houseIntroduction(OwnerCenterData testData, TestDescription td, ExpectedResultSpec result) { VipOwnerCenterFlows.houseIntroduction(driver, testData); String alertMessage = DriverFactory.getThreadLevelTestContext().getAlertMessage(); //todo \u4e0d\u77e5\u9053\u5177\u4f53\u7684\u4f4d\u7f6e\u5728\u4ec0\u4e48\u5730\u65b9 // String title = WebDriverHelper.findElement(driver, By.xpath(\"/html/body/ng-view/div/div[2]/section/p[2]\")).getText(); // String content = WebDriverHelper.findElement(driver, By.xpath(\"/html/body/ng-view/div/div[2]/section/p[4]\")).getText(); String sql = \"select top(1) * from houseIntroduction order by updatedat desc\"; Map<String, String> expectedResult = testData.getAsMap(\"title\", \"content\"); new SoftAssertion() .addTestResult(DriverFactory.getThreadLevelTestContext().getWebTestResult()) // .assertDBValues(\"vip\", sql, expectedResult) .assertThat(title, is(expectedResult.get(\"title\")), \"\u68c0\u67e5\u6807\u9898\") .assertThat(content, is(expectedResult.get(\"content\")), \"\u68c0\u67e5\u5185\u5bb9\") .assertThat(alertMessage, is(result.get(\"alertMessage\")), \"\u68c0\u67e5\u5f39\u51fa\u83dc\u5355\u6309\u94ae\") .getFinalResult(); } @Test(dataProvider = \"ownercenter_data\") public void houseIntroduction_negtivecase(OwnerCenterData testData, TestDescription td, ExpectedResultSpec result) { VipOwnerCenterFlows.houseIntroduction(driver, testData); //\u4e0d\u77e5\u9053\u5177\u4f53\u7684\u4f4d\u7f6e\u5728\u54ea\u91cc // WebElement titleAlert = CollectionsHelper.filter( // WebDriverHelper.findElements(driver, By.xpath(\"//form[@name='describeForm']/div[1]/span\")), // webElement -> { // return webElement.isDisplayed(); // }); // WebElement contentAlert = CollectionsHelper.filter(WebDriverHelper.findElements(driver, By.xpath(\"//form[@name='describeForm']/div[2]/span\")), // webElement -> { // return webElement.isDisplayed(); // }); SoftAssertion sa = new SoftAssertion(); if (titleAlert != null) { sa.assertEquals(titleAlert.getText(), result.get(\"titleAlert\"), \"\u68c0\u67e5title\u7684\u9519\u8bef\u4fe1\u606f\"); } else { sa.assertTrue(StringHelper.isNoneContentString(result.get(\"titleAlert\")), \"\u6ca1\u6709\u9519\u8bef\u4fe1\u606f\u8fd4\u56de\"); } if (contentAlert != null) { sa.assertEquals(contentAlert.getText(), result.get(\"contentAlert\"), \"\u68c0\u67e5content\u9519\u8bef\u4fe1\u606f\"); } else { sa.assertTrue(StringHelper.isNoneContentString(result.get(\"contentAlert\")), \"\u6ca1\u6709\u9519\u8bef\u4fe1\u606f\u8fd4\u56de\"); } } \u4e30\u5bcc\u4e1a\u52a1\u6d41\u7a0b\u4ee3\u7801\uff1a \u4e1a\u52a1\u6d41\u7a0b\u7684\u4ee3\u7801\uff0c\u7531\u4e8e\u662f\u6839\u636e\u4ee5\u540e\u4ee3\u7801\u548c\u9875\u9762\u6765\u7ec4\u5408\u7684\uff0c\u6240\u4ee5\u5728\u4ee3\u7801\u8fd8\u6ca1\u6709\u5b8c\u6210\u7684\u65f6\u5019\uff0c\u5927\u81f4\u4e5f\u53ef\u4ee5\u5199\u51fa\u5982\u4e0b\u7684\u4e1a\u52a1\u6d41\u7a0b //\u8f93\u5165\u201c\u6211\u6765\u4ecb\u7ecd\u6211\u5bb6\u201d\u5185\u5bb9\u5e76\u63d0\u4ea4 public static void houseIntroduction(WebDriver driver, TestData data) { goToindex(driver, data); goToHousePage(driver, data); WebTestActionBuilder.execute(Lists.newArrayList(MyHousePage.class, IntroductionPage.class) , \"houseIntroduction\", driver, data); } \u4e30\u5bcc\u9875\u9762\u6d41\u7a0b \u7b49\u5f85\u9875\u9762\u5b8c\u6210\u4e4b\u540e\uff0c\u53ef\u4ee5\u5b9a\u4e49\u76f8\u5e94\u7684\u9875\u9762\u5143\u7d20\u5b9a\u4f4d\uff0c\u7136\u540e\u5b8c\u5584\u6574\u4e2a\u81ea\u52a8\u5316\u6d4b\u8bd5\u4ee3\u7801\uff0c\u540c\u65f6\u8fdb\u884c\u8c03\u8bd5","title":"\u6784\u5efa\u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b"},{"location":"best_practice/verification_annotation/","text":"Verification Annotation \u4f7f\u7528 \u65b0\u5f15\u5165\u4e00\u4e2averification\u6ce8\u89e3\uff0c \u4e3b\u8981\u7528\u6765\u68c0\u67e5\u4e00\u4e9b\u9759\u6001\u5c5e\u6027\uff0c\u5982\u9875\u9762\u6807\u9898\uff0c\u9875\u9762url\uff0c\u5143\u7d20\u7684\u67d0\u4e2a\u5c5e\u6027\u7b49. \u5177\u4f53\u4f7f\u7528\u65b9\u6cd5 Page \u5c5e\u6027(\u5982\u6807\u9898)\u7684\u68c0\u67e5 \u5982\u4e0b\u4ee3\u7801\u8868\u793a\uff0c\u5728\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u7a0b\u5e8f\u4f1a\u68c0\u67e5\u9875\u9762\u7684\u6807\u9898\u662f\u5426\u662f\u57fa\u7840\u4fe1\u606f @Verification(whatProperty = \"title\", expected = \"\u57fa\u7840\u4fe1\u606f\") public class BaseInfoPage extends ExecutablePageObject { public BaseInfoPage(WebDriver driver) { super(driver); } @FindBy(linkText = \"\u7ea0\u9519\") @ElementName(elementName = \"\u7ea0\u9519\") private Link correct; } HtmlElement\u5c5e\u6027\u7684\u68c0\u67e5 \u5982\u4e0b\u4ee3\u7801\uff0c\u8868\u793a\u7a0b\u5e8f\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u4f1a\u68c0\u67e5\u8fd9\u4e2a\u5143\u7d20\u7684placeholder\u7684\u5c5e\u6027\uff0c\u548c\u671f\u671b\u503c\u4e00\u6837 @Verification(whatProperty = \"placeholder\",expected = \"\u5bf9\u7ecf\u7eaa\u4eba\u7684\u670d\u52a1\u4e0d\u6ee1\u610f\uff1f\u89c9\u5f97\u623f\u6e90\u63cf\u8ff0\u4e0d\u51c6\u786e\uff1f\" + \"\u5bf9\u94fe\u5bb6\u6709\u4e00\u4e9b\u5efa\u8bae\uff1f\u5728\u8fd9\u91cc\u5199\u4e0b\u4e00\u5207\u60a8\u60f3\u8bf4\u7684\u8bdd\u5427\uff0c\u6211\u4eec\u7684\u5ba2\u670d\u4f1a\u5728\u7b2c\u4e00\u65f6\u95f4\u8ddf\u60a8\u8054\u7cfb\uff0c\u4e3a\u60a8\u89e3\u51b3\u95ee\u9898\u5466\uff01\") private InputBox suggest; \u5982\u4f55\u83b7\u53d6\u6240\u6709\u7684verification\u68c0\u67e5\u7ed3\u679c new SoftAssertion() .addTestResult(DriverFactory.getThreadLevelTestContext().getWebTestResult()) DriverFactory.getThreadLevelTestContext().getWebTestResult() \u4f1a\u628a\u6240\u6709\u6267\u884c\u8fc7\u7a0b\u7684\u6821\u9a8c\u90fd\u4f1a\u8bfb\u51fa\u6765\uff0c\u7136\u540e\u5728\u6d4b\u8bd5\u7528\u91cc\u9762\u4e00\u8d77\u9a8c\u8bc1.","title":"verification \u6ce8\u89e3\u4f7f\u7528"},{"location":"best_practice/verification_annotation/#verification-annotation","text":"\u65b0\u5f15\u5165\u4e00\u4e2averification\u6ce8\u89e3\uff0c \u4e3b\u8981\u7528\u6765\u68c0\u67e5\u4e00\u4e9b\u9759\u6001\u5c5e\u6027\uff0c\u5982\u9875\u9762\u6807\u9898\uff0c\u9875\u9762url\uff0c\u5143\u7d20\u7684\u67d0\u4e2a\u5c5e\u6027\u7b49.","title":"Verification Annotation \u4f7f\u7528"},{"location":"best_practice/verification_annotation/#_1","text":"Page \u5c5e\u6027(\u5982\u6807\u9898)\u7684\u68c0\u67e5 \u5982\u4e0b\u4ee3\u7801\u8868\u793a\uff0c\u5728\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u7a0b\u5e8f\u4f1a\u68c0\u67e5\u9875\u9762\u7684\u6807\u9898\u662f\u5426\u662f\u57fa\u7840\u4fe1\u606f @Verification(whatProperty = \"title\", expected = \"\u57fa\u7840\u4fe1\u606f\") public class BaseInfoPage extends ExecutablePageObject { public BaseInfoPage(WebDriver driver) { super(driver); } @FindBy(linkText = \"\u7ea0\u9519\") @ElementName(elementName = \"\u7ea0\u9519\") private Link correct; } HtmlElement\u5c5e\u6027\u7684\u68c0\u67e5 \u5982\u4e0b\u4ee3\u7801\uff0c\u8868\u793a\u7a0b\u5e8f\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\u4f1a\u68c0\u67e5\u8fd9\u4e2a\u5143\u7d20\u7684placeholder\u7684\u5c5e\u6027\uff0c\u548c\u671f\u671b\u503c\u4e00\u6837 @Verification(whatProperty = \"placeholder\",expected = \"\u5bf9\u7ecf\u7eaa\u4eba\u7684\u670d\u52a1\u4e0d\u6ee1\u610f\uff1f\u89c9\u5f97\u623f\u6e90\u63cf\u8ff0\u4e0d\u51c6\u786e\uff1f\" + \"\u5bf9\u94fe\u5bb6\u6709\u4e00\u4e9b\u5efa\u8bae\uff1f\u5728\u8fd9\u91cc\u5199\u4e0b\u4e00\u5207\u60a8\u60f3\u8bf4\u7684\u8bdd\u5427\uff0c\u6211\u4eec\u7684\u5ba2\u670d\u4f1a\u5728\u7b2c\u4e00\u65f6\u95f4\u8ddf\u60a8\u8054\u7cfb\uff0c\u4e3a\u60a8\u89e3\u51b3\u95ee\u9898\u5466\uff01\") private InputBox suggest;","title":"\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5"},{"location":"best_practice/verification_annotation/#verification","text":"new SoftAssertion() .addTestResult(DriverFactory.getThreadLevelTestContext().getWebTestResult()) DriverFactory.getThreadLevelTestContext().getWebTestResult() \u4f1a\u628a\u6240\u6709\u6267\u884c\u8fc7\u7a0b\u7684\u6821\u9a8c\u90fd\u4f1a\u8bfb\u51fa\u6765\uff0c\u7136\u540e\u5728\u6d4b\u8bd5\u7528\u91cc\u9762\u4e00\u8d77\u9a8c\u8bc1.","title":"\u5982\u4f55\u83b7\u53d6\u6240\u6709\u7684verification\u68c0\u67e5\u7ed3\u679c"},{"location":"database/Database/","text":"\u6570\u636e\u5e93\u64cd\u4f5c\u65b9\u6cd5 \u6570\u636e\u5e93\u64cd\u4f5c\u65b9\u6cd5","title":"\u6570\u636e\u5e93\u64cd\u4f5c"},{"location":"database/Database/#_1","text":"\u6570\u636e\u5e93\u64cd\u4f5c\u65b9\u6cd5","title":"\u6570\u636e\u5e93\u64cd\u4f5c\u65b9\u6cd5"},{"location":"git/git_basic/","text":"Git \u4f7f\u7528\u57fa\u7840 git\u662f\u4e2a\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u6240\u8c13\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u5c31\u662f\u4efb\u4f55\u4e00\u4e2a\u5728\u81ea\u5df1\u5176\u5b9e\u4e0a\u5c31\u53ef\u4ee5\u8fdb\u884c\u7248\u672c\u63a7\u5236\u7ba1\u7406\u800c\u65e0\u9700\u8fde\u63a5\u4e2d\u592e\u670d\u52a1\u5668\uff0c\u8fd9\u6837\u63d0\u4ea4\u4ee3\u7801\u5c31\u65e0\u9700\u6536\u5230\u8054\u7f51\u7684\u9650\u5236\u3002\u540c\u65f6GIT\u63d0\u4f9b\u4e86\u66f4\u597d\u7684branch\u7b49\u529f\u80fd\uff0c\u4e5f\u662f\u76ee\u524d\u6700\u6d41\u884c\u7684\u5de5\u5177. Git \u914d\u7f6e \u5168\u5c40\u53d8\u91cf\u8bbe\u7f6e\uff1a git config --global user.name \"Your name\" git config --global user.email \"emailname@example.com\" \u521b\u5efa\u7248\u672c\u5e93 //\u4e0d\u662f\u5fc5\u987b\u5728\u7a7a\u76ee\u5f55\u4e2d\u4f7f\u7528git init\u547d\u4ee4 git init \u5efa\u7acb\u6210\u529f\u4e4b\u540e\uff0c\u5f53\u524d\u76ee\u5f55\u4f1a\u591a\u4e00\u4e2a.git\u76ee\u5f55\uff0c\u6709\u4e9b\u4ee3\u7801\u5e93\u5f88\u5927\uff0c\u5176\u5b9e\u5927\u7684\u5c31\u662f\u8fd9\u4e2a.git\u6587\u4ef6\u5939 \u63d0\u4ea4\u6539\u52a8 git add . git commit . -m \"add new changes\" \u67e5\u770b\u5f53\u524d\u4ed3\u5e93\u72b6\u6001 \u67e5\u770b\u5f53\u524d\u4ed3\u5e93\u72b6\u6001\u7684\u547d\u4ee4\uff1a git status \u67e5\u770bgit \u65e5\u5fd7 git log git log --pretty=oneline \u56de\u6edagit\u7684\u63d0\u4ea4 git rest --hard git rest --hard XXXXX-changeId git workspace\uff0cstage\uff0chead git\u91cc\u9762\u53c8\u5de5\u4f5c\u533a\uff0c\u7248\u672c\u5e93\uff08stage\uff09\uff0chead\uff0cgit add\u547d\u4ee4\u5c06\u6539\u52a8\u653e\u5230stage\uff0c\u6700\u540e\u63d0\u4ea4\u5219\u63d0\u4ea4\u5230head git checkout git checkout --file git checkout \u8fdc\u7a0b\u4ed3\u5e93 \u521b\u5efa\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u4ee5github\u4e3a\u4f8b\uff0c\u4e00\u822c\u6b65\u9aa4\u662f\uff1a github\u6ce8\u518c\u7528\u6237 github\u521b\u5efa\u4e00\u4e2a\u4ed3\u5e93 ssh-keygen -t rsa -C \"emailaddrss\" git remote add origin <github addrss> git push -u origin master //\u5173\u8054\u8fdc\u7a0b\u4ed3\u5e93\u548c\u672c\u5730\u4ed3\u5e93 \u591a\u4eba\u5408\u4f5c\u6a21\u5f0f\uff0c\u4e00\u822c\u7684\u5de5\u4f5c\u6d41\u7a0b\u5982\u4e0b\uff1a clone git Repository \u521b\u5efa\u672c\u5730\u5206\u652f \u63d0\u4ea4\u6539\u52a8\u5230\u8fdc\u7a0b\u76f8\u5bf9\u5e94\u7684\u5206\u652f \u89e3\u51b3\u51b2\u7a81 \u5efa\u7acb\u5206\u652f\u5173\u7cfb(\u5982\u679c\u51fa\u73b0 no tracking information\u5c31\u9700\u8981\u6b64\u6b65\u9aa4) \u4ee5\u4e0b\u662f\u5bf9\u5e94\u7684\u547d\u4ee4\uff1a git clone <branch-path> git checkout -b branch_name git push origin branch-name git branch --set-upstream branch-name origin/branch-name \u5206\u652f\u7ba1\u7406 \u5206\u652f\u7684\u5b9e\u9645\u4f5c\u7528\uff0c\u5047\u8bbe\u9700\u8981\u5f00\u53d1\u4e00\u4e2a\u65b0\u7684\u7248\u672c\uff0c\u9700\u8981\u4e24\u5468\u5b8c\u6210\uff0c\u90a3\u4e48\u4e2d\u95f4\u53ef\u80fd\u4f1a\u63d0\u4ea4\u4e0d\u5de5\u4f5c\u7684\u4ee3\u7801\uff0c\u4e3a\u4e86\u907f\u514d\u5f71\u54cd\u5176\u4ed6\u4eba\uff0c\u6240\u4ee5\u5c31\u5f00\u4e00\u4e2a\u5206\u652f. \u4e0d\u8fc7\u73b0\u5728\u6709\u4e9b\u516c\u53f8\u63d0\u5021\u4e3b\u5e72\u5f00\u53d1\uff0c\u76f4\u63a5\u5728\u4e3b\u5e72\u4e0a\u5f00\u53d1\uff0c\u901a\u8fc7\u5355\u5143\u6d4b\u8bd5\u7b49\u7b49\u4fdd\u8bc1\u529f\u80fd\u4e0d\u4f1a\u51fa\u73b0\u5927\u95ee\u9898\u3002 \u521b\u5efa\u5206\u652f\uff0c\u521b\u5efa\u5206\u652f\u65f6\uff0c\u4e5f\u5c31\u662f\u5c06\u5f53\u524dhead\u6307\u5411\u4e86\u65b0\u5206\u652f //-b \u5c31\u662f\u521b\u5efa\u4e00\u4e2a\u65b0\u5206\u652f git checkout -b dev //\u521b\u5efa\u5206\u652f\u4f46\u662f\u4e0dcheckout git branch dev //\u67e5\u770bbranch \u5217\u8868 git branch \u5408\u5e76\u5206\u652f //\u5207\u6362\u5230\u4e3b\u5e72 git checkout master //\u5408\u5e76\u5206\u652f git merge dev //\u5220\u9664dev \u5206\u652f git branch -d dev \u89e3\u51b3\u51b2\u7a81 \u63d0\u4ea4\u65f6\u53d1\u751f\u51b2\u7a81\uff0c\u9700\u8981\u624b\u52a8\u4fee\u6b63 git log --graph //\u67e5\u770b\u5206\u652f\u5408\u5e76\u56fe \u5408\u5e76\u5206\u652f- \u4e0d\u4f7f\u7528fastforward git merge --no-ff -m \"merge with no-ff\" bug \u5206\u652f,\u53ef\u80fd\u67d0\u65f6\u9700\u8981\u7d27\u6025\u4fee\u6539\u4e00\u4e2abug\uff0c\u4f46\u662f\u5f53\u524d\u53c8\u6709\u6ca1\u6709\u6d4b\u8bd5 \u8fd9\u662f\u53ef\u4ee5\u4f7f\u7528git stash \u4fdd\u5b58\u5f53\u524d\u5de5\u4f5c\u60c5\u51b5 git stash \u5f53\u4fee\u6539\u5b8c\u6bd5\u4e4b\u540e\uff0c\u6062\u590d\u4fdd\u5b58\u7684\u5185\u5bb9,\u4e22\u5f03\u4e4b\u524d\u7684\u5185\u5bb9\u90fd\u53ef\u4ee5\u4ee5\u4e0b\u547d\u4ee4\u505a\u5230\uff1a # list all stash info git stash list # \u4f60\u4e5f\u53ef\u4ee5\u8fd0\u884c git stash pop \u6765\u91cd\u65b0\u5e94\u7528\u50a8\u85cf\uff0c\u540c\u65f6\u7acb\u523b\u5c06\u5176\u4ece\u5806\u6808\u4e2d\u79fb\u8d70 git stash pop # \u5e94\u7528\u5b58\u50a8\u7684\u5185\u5bb9 git stash apply stash@{0} # \u4e22\u5f03\u5b58\u50a8\u7684\u5185\u5bb9 git stash drop Git Tag\u6807\u7b7e\u7ba1\u7406 git tag v1.0 git tag git tag v0.6 change_id git show v0.6 git tag -s v0.2 //\u91c7\u7528PGP\u7b7e\u540d Git \u914d\u7f6e git config --global alias.lg \"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit\" git cheat-sheet configuration git config --global user.name \"\" git config --global user.email \"\" git config --global color.ui auto create repositories git init [project-name] git clone [url] make changes git status # list all new or modified files to be commited git diff # show file differences not yet staged git add [file_name] #snapshots the file in preperation of versioning git diff --staged # show files dofferences between staging files and the last file version git reset [file] # unstages the files but preserve it content git commit -m \"descriptive comments\" #records the snapshot file permanently into version history group changes git branch ## list all branches in local repository git branch [branch-name] # create new branch git checkout [branch-name] #switches to the specified branch git branch -d [branch-name] # delete the branch refactor filenames git rm [file] # remove file git rm --cached [file] # remove the files from version control but preservers the file locally git mv [original-file] [file-renamed] suppress tracking git ls-files --other --ignore --exclude-standard #list all ignored fiels in this project save fragment git statsh # temporily stores all modified tracked files git stash pop # restores the most recently stashed files git stash list # list all stashed changesets git stash drop #discards the most recently stashed changeset review history git log #list version hsitory for the current branch git log --follow [file] # list version history for a file, include renames gut diff [first-branch]...[second branch] git show [commit] redo commits git reset # undoes all commits after commit git reset --hard # discard all history and changes back to specified commit # synchronize changes git fetch [bookmark] #downloads all history from the repository bookmark git merge [bookmark]/[branch] # combine into one git push [alias] [branch] # upload all local branch commits to github git pull # download bookmark history and incorporated changes","title":"Git \u57fa\u7840"},{"location":"git/git_basic/#git","text":"git\u662f\u4e2a\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u6240\u8c13\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u5c31\u662f\u4efb\u4f55\u4e00\u4e2a\u5728\u81ea\u5df1\u5176\u5b9e\u4e0a\u5c31\u53ef\u4ee5\u8fdb\u884c\u7248\u672c\u63a7\u5236\u7ba1\u7406\u800c\u65e0\u9700\u8fde\u63a5\u4e2d\u592e\u670d\u52a1\u5668\uff0c\u8fd9\u6837\u63d0\u4ea4\u4ee3\u7801\u5c31\u65e0\u9700\u6536\u5230\u8054\u7f51\u7684\u9650\u5236\u3002\u540c\u65f6GIT\u63d0\u4f9b\u4e86\u66f4\u597d\u7684branch\u7b49\u529f\u80fd\uff0c\u4e5f\u662f\u76ee\u524d\u6700\u6d41\u884c\u7684\u5de5\u5177.","title":"Git \u4f7f\u7528\u57fa\u7840"},{"location":"git/git_basic/#git_1","text":"\u5168\u5c40\u53d8\u91cf\u8bbe\u7f6e\uff1a git config --global user.name \"Your name\" git config --global user.email \"emailname@example.com\"","title":"Git \u914d\u7f6e"},{"location":"git/git_basic/#_1","text":"//\u4e0d\u662f\u5fc5\u987b\u5728\u7a7a\u76ee\u5f55\u4e2d\u4f7f\u7528git init\u547d\u4ee4 git init \u5efa\u7acb\u6210\u529f\u4e4b\u540e\uff0c\u5f53\u524d\u76ee\u5f55\u4f1a\u591a\u4e00\u4e2a.git\u76ee\u5f55\uff0c\u6709\u4e9b\u4ee3\u7801\u5e93\u5f88\u5927\uff0c\u5176\u5b9e\u5927\u7684\u5c31\u662f\u8fd9\u4e2a.git\u6587\u4ef6\u5939","title":"\u521b\u5efa\u7248\u672c\u5e93"},{"location":"git/git_basic/#_2","text":"git add . git commit . -m \"add new changes\"","title":"\u63d0\u4ea4\u6539\u52a8"},{"location":"git/git_basic/#_3","text":"\u67e5\u770b\u5f53\u524d\u4ed3\u5e93\u72b6\u6001\u7684\u547d\u4ee4\uff1a git status","title":"\u67e5\u770b\u5f53\u524d\u4ed3\u5e93\u72b6\u6001"},{"location":"git/git_basic/#git_2","text":"git log git log --pretty=oneline","title":"\u67e5\u770bgit \u65e5\u5fd7"},{"location":"git/git_basic/#git_3","text":"git rest --hard git rest --hard XXXXX-changeId","title":"\u56de\u6edagit\u7684\u63d0\u4ea4"},{"location":"git/git_basic/#git-workspacestagehead","text":"git\u91cc\u9762\u53c8\u5de5\u4f5c\u533a\uff0c\u7248\u672c\u5e93\uff08stage\uff09\uff0chead\uff0cgit add\u547d\u4ee4\u5c06\u6539\u52a8\u653e\u5230stage\uff0c\u6700\u540e\u63d0\u4ea4\u5219\u63d0\u4ea4\u5230head","title":"git workspace\uff0cstage\uff0chead"},{"location":"git/git_basic/#git-checkout","text":"git checkout --file git checkout","title":"git checkout"},{"location":"git/git_basic/#_4","text":"\u521b\u5efa\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u4ee5github\u4e3a\u4f8b\uff0c\u4e00\u822c\u6b65\u9aa4\u662f\uff1a github\u6ce8\u518c\u7528\u6237 github\u521b\u5efa\u4e00\u4e2a\u4ed3\u5e93 ssh-keygen -t rsa -C \"emailaddrss\" git remote add origin <github addrss> git push -u origin master //\u5173\u8054\u8fdc\u7a0b\u4ed3\u5e93\u548c\u672c\u5730\u4ed3\u5e93 \u591a\u4eba\u5408\u4f5c\u6a21\u5f0f\uff0c\u4e00\u822c\u7684\u5de5\u4f5c\u6d41\u7a0b\u5982\u4e0b\uff1a clone git Repository \u521b\u5efa\u672c\u5730\u5206\u652f \u63d0\u4ea4\u6539\u52a8\u5230\u8fdc\u7a0b\u76f8\u5bf9\u5e94\u7684\u5206\u652f \u89e3\u51b3\u51b2\u7a81 \u5efa\u7acb\u5206\u652f\u5173\u7cfb(\u5982\u679c\u51fa\u73b0 no tracking information\u5c31\u9700\u8981\u6b64\u6b65\u9aa4) \u4ee5\u4e0b\u662f\u5bf9\u5e94\u7684\u547d\u4ee4\uff1a git clone <branch-path> git checkout -b branch_name git push origin branch-name git branch --set-upstream branch-name origin/branch-name","title":"\u8fdc\u7a0b\u4ed3\u5e93"},{"location":"git/git_basic/#_5","text":"\u5206\u652f\u7684\u5b9e\u9645\u4f5c\u7528\uff0c\u5047\u8bbe\u9700\u8981\u5f00\u53d1\u4e00\u4e2a\u65b0\u7684\u7248\u672c\uff0c\u9700\u8981\u4e24\u5468\u5b8c\u6210\uff0c\u90a3\u4e48\u4e2d\u95f4\u53ef\u80fd\u4f1a\u63d0\u4ea4\u4e0d\u5de5\u4f5c\u7684\u4ee3\u7801\uff0c\u4e3a\u4e86\u907f\u514d\u5f71\u54cd\u5176\u4ed6\u4eba\uff0c\u6240\u4ee5\u5c31\u5f00\u4e00\u4e2a\u5206\u652f. \u4e0d\u8fc7\u73b0\u5728\u6709\u4e9b\u516c\u53f8\u63d0\u5021\u4e3b\u5e72\u5f00\u53d1\uff0c\u76f4\u63a5\u5728\u4e3b\u5e72\u4e0a\u5f00\u53d1\uff0c\u901a\u8fc7\u5355\u5143\u6d4b\u8bd5\u7b49\u7b49\u4fdd\u8bc1\u529f\u80fd\u4e0d\u4f1a\u51fa\u73b0\u5927\u95ee\u9898\u3002 \u521b\u5efa\u5206\u652f\uff0c\u521b\u5efa\u5206\u652f\u65f6\uff0c\u4e5f\u5c31\u662f\u5c06\u5f53\u524dhead\u6307\u5411\u4e86\u65b0\u5206\u652f //-b \u5c31\u662f\u521b\u5efa\u4e00\u4e2a\u65b0\u5206\u652f git checkout -b dev //\u521b\u5efa\u5206\u652f\u4f46\u662f\u4e0dcheckout git branch dev //\u67e5\u770bbranch \u5217\u8868 git branch \u5408\u5e76\u5206\u652f //\u5207\u6362\u5230\u4e3b\u5e72 git checkout master //\u5408\u5e76\u5206\u652f git merge dev //\u5220\u9664dev \u5206\u652f git branch -d dev","title":"\u5206\u652f\u7ba1\u7406"},{"location":"git/git_basic/#_6","text":"\u63d0\u4ea4\u65f6\u53d1\u751f\u51b2\u7a81\uff0c\u9700\u8981\u624b\u52a8\u4fee\u6b63 git log --graph //\u67e5\u770b\u5206\u652f\u5408\u5e76\u56fe","title":"\u89e3\u51b3\u51b2\u7a81"},{"location":"git/git_basic/#-fastforward","text":"git merge --no-ff -m \"merge with no-ff\" bug \u5206\u652f,\u53ef\u80fd\u67d0\u65f6\u9700\u8981\u7d27\u6025\u4fee\u6539\u4e00\u4e2abug\uff0c\u4f46\u662f\u5f53\u524d\u53c8\u6709\u6ca1\u6709\u6d4b\u8bd5 \u8fd9\u662f\u53ef\u4ee5\u4f7f\u7528git stash \u4fdd\u5b58\u5f53\u524d\u5de5\u4f5c\u60c5\u51b5 git stash \u5f53\u4fee\u6539\u5b8c\u6bd5\u4e4b\u540e\uff0c\u6062\u590d\u4fdd\u5b58\u7684\u5185\u5bb9,\u4e22\u5f03\u4e4b\u524d\u7684\u5185\u5bb9\u90fd\u53ef\u4ee5\u4ee5\u4e0b\u547d\u4ee4\u505a\u5230\uff1a # list all stash info git stash list # \u4f60\u4e5f\u53ef\u4ee5\u8fd0\u884c git stash pop \u6765\u91cd\u65b0\u5e94\u7528\u50a8\u85cf\uff0c\u540c\u65f6\u7acb\u523b\u5c06\u5176\u4ece\u5806\u6808\u4e2d\u79fb\u8d70 git stash pop # \u5e94\u7528\u5b58\u50a8\u7684\u5185\u5bb9 git stash apply stash@{0} # \u4e22\u5f03\u5b58\u50a8\u7684\u5185\u5bb9 git stash drop","title":"\u5408\u5e76\u5206\u652f- \u4e0d\u4f7f\u7528fastforward"},{"location":"git/git_basic/#git-tag","text":"git tag v1.0 git tag git tag v0.6 change_id git show v0.6 git tag -s v0.2 //\u91c7\u7528PGP\u7b7e\u540d","title":"Git Tag\u6807\u7b7e\u7ba1\u7406"},{"location":"git/git_basic/#git_4","text":"git config --global alias.lg \"log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit\"","title":"Git \u914d\u7f6e"},{"location":"git/git_basic/#git-cheat-sheet","text":"","title":"git cheat-sheet"},{"location":"git/git_basic/#configuration","text":"git config --global user.name \"\" git config --global user.email \"\" git config --global color.ui auto","title":"configuration"},{"location":"git/git_basic/#create-repositories","text":"git init [project-name] git clone [url]","title":"create repositories"},{"location":"git/git_basic/#make-changes","text":"git status # list all new or modified files to be commited git diff # show file differences not yet staged git add [file_name] #snapshots the file in preperation of versioning git diff --staged # show files dofferences between staging files and the last file version git reset [file] # unstages the files but preserve it content git commit -m \"descriptive comments\" #records the snapshot file permanently into version history","title":"make changes"},{"location":"git/git_basic/#group-changes","text":"git branch ## list all branches in local repository git branch [branch-name] # create new branch git checkout [branch-name] #switches to the specified branch git branch -d [branch-name] # delete the branch","title":"group changes"},{"location":"git/git_basic/#refactor-filenames","text":"git rm [file] # remove file git rm --cached [file] # remove the files from version control but preservers the file locally git mv [original-file] [file-renamed]","title":"refactor filenames"},{"location":"git/git_basic/#suppress-tracking","text":"git ls-files --other --ignore --exclude-standard #list all ignored fiels in this project","title":"suppress tracking"},{"location":"git/git_basic/#save-fragment","text":"git statsh # temporily stores all modified tracked files git stash pop # restores the most recently stashed files git stash list # list all stashed changesets git stash drop #discards the most recently stashed changeset","title":"save fragment"},{"location":"git/git_basic/#review-history","text":"git log #list version hsitory for the current branch git log --follow [file] # list version history for a file, include renames gut diff [first-branch]...[second branch] git show [commit]","title":"review history"},{"location":"git/git_basic/#redo-commits","text":"git reset # undoes all commits after commit git reset --hard # discard all history and changes back to specified commit","title":"redo commits"},{"location":"git/git_basic/#synchronize-changes","text":"git fetch [bookmark] #downloads all history from the repository bookmark git merge [bookmark]/[branch] # combine into one git push [alias] [branch] # upload all local branch commits to github git pull # download bookmark history and incorporated changes","title":"# synchronize changes"},{"location":"intro/automation-framework-impl/","text":"1.2 \u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u7684\u5b9e\u73b0 \u9488\u5bf9\u524d\u6587\u63d0\u5230\u7684\u76ee\u7684\uff0c\u76ee\u524d\u6d4b\u8bd5\u6846\u67b6\u8bbe\u8ba1\u4e2d\u91c7\u7528\u4e86\uff1a \u6570\u636e\u9a71\u52a8(\u540c\u4e00\u4efd\u4ee3\u7801\uff0c\u4e0d\u540c\u6570\u636e\u53ef\u4ee5\u8868\u793a\u4e0d\u540c\u7684\u7528\u4f8b) \u9875\u9762PageObject\u6a21\u5f0f,\u4e0d\u540c\u7684\u4e1a\u52a1\u6d41\u7a0b\u53ef\u4ee5\u590d\u7528\u9875\u9762 \u516c\u7528\u4e1a\u52a1\u6d41\u7a0b\uff0c\u4e0d\u540c\u7684\u4e1a\u52a1\u6d41\u7a0b\u901a\u8fc7\u7ec4\u88c5\u516c\u7528\u4e1a\u52a1\u6d41\u7a0b\u5b8c\u6210 \u53ef\u4ee5\u6ce8\u5165\u7684\u68c0\u67e5\u70b9,\u68c0\u67e5\u70b9\u53ef\u4ee5\u5728\u6d41\u7a0b\u6700\u5916\u7aef\u8bbe\u7f6e,\u51cf\u5c11\u4e3a\u4e86\u68c0\u67e5\u4e00\u4e2a\u4e1c\u897f\u800c\u9700\u8981\u91cd\u5199\u6d41\u7a0b \u6d4b\u8bd5\u6570\u636e\u548c\u9875\u9762\u6a21\u578b\u7ed1\u5b9a \u9875\u9762\u5143\u7d20\u64cd\u4f5c\u548c\u6d4b\u8bd5\u6d41\u7a0b\u5206\u79bb,\u6846\u67b6\u505a\u9875\u9762\u5143\u7d20\u64cd\u4f5c\u7684\u4e8b\u60c5\uff0c\u6d4b\u8bd5\u6d41\u7a0b\u7531\u719f\u6089\u4e1a\u52a1\u7684\u6d4b\u8bd5\u5b8c\u6210 \u4ee3\u7801\u81ea\u52a8\u751f\u6210\u5668,\u5bf9\u4e8e\u4e00\u4e9b\u91cd\u590d\u6027\u4ee3\u7801\u901a\u8fc7\u4ee3\u7801\u751f\u6210\u5b8c\u6210 \u4ee5\u4e0b\u662f\u6846\u67b6\u4e00\u4e9b\u89e3\u51b3\u624b\u6bb5\uff1a \u6846\u67b6\u4e3a\u4e86\u5b8c\u6210\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u6d89\u53ca\u5230\u7684\u4e00\u4e9b\u529f\u80fd\u5757\uff1a 1.2.1 \u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u7ed3\u6784 \u5148\u4ece\u4e00\u4e2a\u81ea\u52a8\u5316\u6d4b\u8bd5\u8fd0\u884c\u7684\u4e00\u4e2a\u8fc7\u7a0b\u8bb2\u8d77: \u4ee5\u4e0b\u662f\u6846\u67b6\u4e3a\u4e86\u652f\u6301\u8fd9\u4e2a\u6d4b\u8bd5\u8fd0\u884c\u505a\u7684\u4e00\u4e9b\u5206\u89e3\u7684\u529f\u80fd\u5757: 1.2.1 TestNG\u76d1\u542c\u5668 TestNG \u76d1\u542c\u5668\u4e3b\u8981\u5b9e\u73b0\u4e86\u4e09\u79cd: \u5931\u8d25\u540e\u91cd\u8bd5 \u6d4b\u8bd5\u7ed3\u679c\u6536\u96c6 \u6d4b\u8bd5\u62a5\u544a\u751f\u6210 1.2.2 \u6d4b\u8bd5\u73af\u5883\u7ba1\u7406 \u73af\u5883\u7ba1\u7406\u4e3b\u8981\u662f\u63d0\u4f9b\u4e86\u73af\u5883\u914d\u7f6e\u529f\u80fd: \u6570\u636e\u5e93 \u4e0d\u540c\u73af\u5883\u6d4b\u8bd5\u5730\u5740 Open API token Chrome Driver\u5730\u5740 \u662f\u5426\u8bb0\u5f55API Response ...... 1.2.3 \u6d4b\u8bd5\u6570\u636e\u7ba1\u7406 \u6d4b\u8bd5\u6570\u636e\u7ba1\u7406\u4e3b\u8981\u5982\u4e0b\u529f\u80fd\uff1a \u81ea\u52a8\u52a0\u8f7dexcel/csv\u6570\u636e\u5230java bean \u4e0d\u540cjava bean\u4e4b\u95f4\u7684\u590d\u5236 1.2.4 Driver Factory Driver Factory\u4e3b\u8981\u7528\u6765\u751f\u4ea7Selenium/WebDriver\u7684\u4e0d\u540c\u5b9e\u4f8b: \u521b\u5efa\u4e0d\u540c\u6d4f\u89c8\u5668\u7684Driver \u6bcf\u4e2a\u5b9e\u4f8b\u5728\u4e0d\u540c\u7684Thread\u91cc\u9762\u4ee5\u4fbf\u652f\u6301\u5e76\u884c\u6267\u884c Selenium Grid \u652f\u6301 1.2.5 \u6d4b\u8bd5\u811a\u624b\u67b6 \u5b9a\u5236\u7684HTML\u5143\u7d20 Modified Page Factory(Proxy\u65b9\u5f0f\u521b\u5efa\u9875\u9762\u548c\u9875\u9762\u5143\u7d20) \u9875\u9762\u6d4b\u8bd5\u6267\u884c\u5668 API\u6d4b\u8bd5\u5ba2\u6237\u7aef \u6b64\u90e8\u5206\u662f\u6846\u67b6\u7684\u6838\u5fc3\u6a21\u5757,\u4e3b\u8981\u53c2\u8003\u4e86: Selenium Page Factory\u7684\u5b9e\u73b0 yandex-qatools (Yandex is Russian Company which is Russian's Baidu) HtmlElement\u9879\u76ee \u6b64\u90e8\u5206\u4f1a\u5728\u540e\u9762\u7ae0\u8282\u8be6\u7ec6\u4ecb\u7ecd","title":"\u57fa\u672c\u6a21\u5757\u7684\u4f5c\u7528"},{"location":"intro/automation-framework-impl/#12","text":"\u9488\u5bf9\u524d\u6587\u63d0\u5230\u7684\u76ee\u7684\uff0c\u76ee\u524d\u6d4b\u8bd5\u6846\u67b6\u8bbe\u8ba1\u4e2d\u91c7\u7528\u4e86\uff1a \u6570\u636e\u9a71\u52a8(\u540c\u4e00\u4efd\u4ee3\u7801\uff0c\u4e0d\u540c\u6570\u636e\u53ef\u4ee5\u8868\u793a\u4e0d\u540c\u7684\u7528\u4f8b) \u9875\u9762PageObject\u6a21\u5f0f,\u4e0d\u540c\u7684\u4e1a\u52a1\u6d41\u7a0b\u53ef\u4ee5\u590d\u7528\u9875\u9762 \u516c\u7528\u4e1a\u52a1\u6d41\u7a0b\uff0c\u4e0d\u540c\u7684\u4e1a\u52a1\u6d41\u7a0b\u901a\u8fc7\u7ec4\u88c5\u516c\u7528\u4e1a\u52a1\u6d41\u7a0b\u5b8c\u6210 \u53ef\u4ee5\u6ce8\u5165\u7684\u68c0\u67e5\u70b9,\u68c0\u67e5\u70b9\u53ef\u4ee5\u5728\u6d41\u7a0b\u6700\u5916\u7aef\u8bbe\u7f6e,\u51cf\u5c11\u4e3a\u4e86\u68c0\u67e5\u4e00\u4e2a\u4e1c\u897f\u800c\u9700\u8981\u91cd\u5199\u6d41\u7a0b \u6d4b\u8bd5\u6570\u636e\u548c\u9875\u9762\u6a21\u578b\u7ed1\u5b9a \u9875\u9762\u5143\u7d20\u64cd\u4f5c\u548c\u6d4b\u8bd5\u6d41\u7a0b\u5206\u79bb,\u6846\u67b6\u505a\u9875\u9762\u5143\u7d20\u64cd\u4f5c\u7684\u4e8b\u60c5\uff0c\u6d4b\u8bd5\u6d41\u7a0b\u7531\u719f\u6089\u4e1a\u52a1\u7684\u6d4b\u8bd5\u5b8c\u6210 \u4ee3\u7801\u81ea\u52a8\u751f\u6210\u5668,\u5bf9\u4e8e\u4e00\u4e9b\u91cd\u590d\u6027\u4ee3\u7801\u901a\u8fc7\u4ee3\u7801\u751f\u6210\u5b8c\u6210 \u4ee5\u4e0b\u662f\u6846\u67b6\u4e00\u4e9b\u89e3\u51b3\u624b\u6bb5\uff1a \u6846\u67b6\u4e3a\u4e86\u5b8c\u6210\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u6d89\u53ca\u5230\u7684\u4e00\u4e9b\u529f\u80fd\u5757\uff1a","title":"1.2 \u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u7684\u5b9e\u73b0"},{"location":"intro/automation-framework-impl/#121","text":"\u5148\u4ece\u4e00\u4e2a\u81ea\u52a8\u5316\u6d4b\u8bd5\u8fd0\u884c\u7684\u4e00\u4e2a\u8fc7\u7a0b\u8bb2\u8d77: \u4ee5\u4e0b\u662f\u6846\u67b6\u4e3a\u4e86\u652f\u6301\u8fd9\u4e2a\u6d4b\u8bd5\u8fd0\u884c\u505a\u7684\u4e00\u4e9b\u5206\u89e3\u7684\u529f\u80fd\u5757:","title":"1.2.1 \u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u7ed3\u6784"},{"location":"intro/automation-framework-impl/#121-testng","text":"TestNG \u76d1\u542c\u5668\u4e3b\u8981\u5b9e\u73b0\u4e86\u4e09\u79cd: \u5931\u8d25\u540e\u91cd\u8bd5 \u6d4b\u8bd5\u7ed3\u679c\u6536\u96c6 \u6d4b\u8bd5\u62a5\u544a\u751f\u6210","title":"1.2.1 TestNG\u76d1\u542c\u5668"},{"location":"intro/automation-framework-impl/#122","text":"\u73af\u5883\u7ba1\u7406\u4e3b\u8981\u662f\u63d0\u4f9b\u4e86\u73af\u5883\u914d\u7f6e\u529f\u80fd: \u6570\u636e\u5e93 \u4e0d\u540c\u73af\u5883\u6d4b\u8bd5\u5730\u5740 Open API token Chrome Driver\u5730\u5740 \u662f\u5426\u8bb0\u5f55API Response ......","title":"1.2.2 \u6d4b\u8bd5\u73af\u5883\u7ba1\u7406"},{"location":"intro/automation-framework-impl/#123","text":"\u6d4b\u8bd5\u6570\u636e\u7ba1\u7406\u4e3b\u8981\u5982\u4e0b\u529f\u80fd\uff1a \u81ea\u52a8\u52a0\u8f7dexcel/csv\u6570\u636e\u5230java bean \u4e0d\u540cjava bean\u4e4b\u95f4\u7684\u590d\u5236","title":"1.2.3 \u6d4b\u8bd5\u6570\u636e\u7ba1\u7406"},{"location":"intro/automation-framework-impl/#124-driver-factory","text":"Driver Factory\u4e3b\u8981\u7528\u6765\u751f\u4ea7Selenium/WebDriver\u7684\u4e0d\u540c\u5b9e\u4f8b: \u521b\u5efa\u4e0d\u540c\u6d4f\u89c8\u5668\u7684Driver \u6bcf\u4e2a\u5b9e\u4f8b\u5728\u4e0d\u540c\u7684Thread\u91cc\u9762\u4ee5\u4fbf\u652f\u6301\u5e76\u884c\u6267\u884c Selenium Grid \u652f\u6301","title":"1.2.4 Driver Factory"},{"location":"intro/automation-framework-impl/#125","text":"\u5b9a\u5236\u7684HTML\u5143\u7d20 Modified Page Factory(Proxy\u65b9\u5f0f\u521b\u5efa\u9875\u9762\u548c\u9875\u9762\u5143\u7d20) \u9875\u9762\u6d4b\u8bd5\u6267\u884c\u5668 API\u6d4b\u8bd5\u5ba2\u6237\u7aef \u6b64\u90e8\u5206\u662f\u6846\u67b6\u7684\u6838\u5fc3\u6a21\u5757,\u4e3b\u8981\u53c2\u8003\u4e86: Selenium Page Factory\u7684\u5b9e\u73b0 yandex-qatools (Yandex is Russian Company which is Russian's Baidu) HtmlElement\u9879\u76ee \u6b64\u90e8\u5206\u4f1a\u5728\u540e\u9762\u7ae0\u8282\u8be6\u7ec6\u4ecb\u7ecd","title":"1.2.5 \u6d4b\u8bd5\u811a\u624b\u67b6"},{"location":"intro/automation-purpose/","text":"1.1 \u81ea\u52a8\u5316\u6846\u67b6\u7684\u76ee\u7684 \u5bf9\u4e8e\u81ea\u52a8\u5316\u6d4b\u8bd5\u800c\u8a00\u4e00\u4e2a\u5f88\u660e\u663e\u7684\u76ee\u7684\u5c31\u662f\u4e3a\u4e86\u51cf\u5c11\u624b\u5de5\u6d4b\u8bd5\u7684\u91cd\u590d\u5de5\u4f5c\u7684\u6bd4\u4f8b\uff0c\u63d0\u9ad8\u6d4b\u8bd5\u7684\u6548\u7387\uff0c\u8ba9\u6d4b\u8bd5\u4eba\u5458\u7684\u6709\u66f4\u591a\u7684\u65f6\u95f4\u53bb\u53d1\u6398\u6df1\u5c42\u6b21\u7684\u95ee\u9898\uff1b\u800c\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u7684\u76ee\u7684\uff0c\u5c31\u662f\u63d0\u9ad8\u6d4b\u8bd5\u4eba\u5458\u7f16\u5199\u4ee3\u7801\u7684\u6548\u7387\uff0c\u51cf\u5c11coding\u548c\u8c03\u8bd5\u7684\u65f6\u95f4,\u6240\u4ee5\u4ee5\u4e0b\u662f\u5173\u4e8e\u6846\u67b6\u7684\u4e3b\u8981\u76ee\u7684\uff1a \u63d0\u9ad8\u7f16\u5199\u6d4b\u8bd5\u4ee3\u7801\u7684\u6548\u7387 \u63d0\u9ad8\u6d4b\u8bd5\u4ee3\u7801\u7684\u590d\u7528\u6027 \u6570\u636e\u9a71\u52a8,\u63d0\u9ad8\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u53ef\u8986\u76d6\u7387 \u5c06\u81ea\u52a8\u5316\u6d4b\u8bd5\u878d\u5165\u5230\u6d4b\u8bd5\u7684\u8fc7\u7a0b\u4e2d\u4ee5\u4fbf\u66f4\u597d\u7684\u6ee1\u8db3\u8d8a\u6765\u8d8a\u5feb\u7684\u4ea4\u4ed8\u9700\u6c42 \u4e0d\u540c\u73af\u5883\u901a\u8fc7\u7b80\u5355\u7684\u914d\u7f6e\u5c31\u53ef\u4ee5\u8fd0\u884c\u540c\u4e00\u5957\u6d4b\u8bd5\u811a\u672c \u5206\u800c\u6cbb\u4e4b(separate concerns/divided and conquer) \u63a5\u53e3\u6d4b\u8bd5 UI\u7aef\u5230\u7aef(End to End)\u96c6\u6210 ...... 1.1.1 \u5c06\u81ea\u52a8\u5316\u6d4b\u8bd5\u878d\u5165\u5230\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d \u5728\u4ee5\u4e0a\u7684\u51e0\u70b9\u76ee\u7684\u4e2d,\u5c06\u81ea\u52a8\u5316\u6d4b\u8bd5\u878d\u5165\u7684\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u6709\u70b9\u770b\u4e0d\u89c1\u6478\u4e0d\u7740\u7684\u611f\u89c9\uff0c\u6240\u4ee5\u4e13\u95e8\u6765\u8bf4\u660e\u4e00\u4e0b. \u9996\u5148\u4ece\u4e00\u822c\u7684\u6d4b\u8bd5\u6d41\u7a0b\u5f00\u59cb,\u4e00\u822c\u7684\u6d4b\u8bd5\u6d41\u7a0b\u603b\u662f\u5305\u62ec\u4e86\u4e00\u4e0b\u51e0\u70b9: \u4e86\u89e3\u9700\u6c42 \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b \u6267\u884c\u6d4b\u8bd5(\u9488\u5bf9\u4fee\u6539\u90e8\u5206) \u56de\u5f52\u6d4b\u8bd5(\u9488\u5bf9\u53ef\u80fd\u5f71\u54cd\u7684\u90e8\u5206) \u540c\u65f6\u6d4b\u8bd5\u5f80\u5f80\u53c8\u662f\u6574\u4e2a\u8f6f\u4ef6\u53d1\u5e03\u7684\u6700\u540e\u4e00\u9053\u7a0b\u5e8f,\u5b83\u5f3a\u70c8\u7684\u4f9d\u8d56\u4e8e\u5f00\u53d1\u7684\u4eba\u5458\u7684\u8fdb\u5ea6.\u5f80\u5f80\u5728\u5feb\u901f\u8fed\u4ee3\u4e2d\uff0c\u51fa\u73b0\u524d\u671f\u65f6\u95f4\u4e0d\u7d27\u5f20\uff0c\u540e\u671f\u65f6\u95f4\u975e\u5e38\u7d27\u5f20\u7684\u72b6\u51b5,\u751a\u81f3\u51fa\u73b0\u53ea\u80fd\u901a\u8fc7\u52a0\u73ed\u6765\u89e3\u51b3.\u90a3\u4e48\u5982\u4f55\u89e3\u51b3\u5462\uff1f\u5982\u4f55\u8ba9\u81ea\u5df1\u7684\u65f6\u95f4\u66f4\u597d\u7684\u5229\u7528\u548c\u4f18\u5316\u5462? 1.1.2 \u5982\u679c(What If) \u4e3a\u4e86\u89e3\u51b3\u4e0a\u9762\u63d0\u5230\u7684\u4e00\u4e9b\u95ee\u9898,\u5012\u662f\u53ef\u4ee5\u60f3\u60f3\u5982\u679c\u6211\u4eec\u505a\u5230\u4e86\u4ec0\u4e48\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6765\u89e3\u51b3\u4e0a\u9762\u7684\u95ee\u9898,\u4ee5\u4e0b\u662f\u6211\u60f3\u5230\u7684\u4e00\u4e9b\u5982\u679c: \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u7684\u540c\u65f6\u4e5f\u53ef\u4ee5\u5f00\u59cb\u6784\u5efa\u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b \u5f00\u53d1\u4eba\u5458\u5f00\u53d1\u65f6\u5019,\u6d4b\u8bd5\u4e5f\u53ef\u4ee5\u6784\u5efa\u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b \u5f53\u5f00\u53d1\u5b8c\u6210,\u81ea\u52a8\u5316\u6d4b\u8bd5\u5c31\u53ef\u4ee5\u8fd0\u884c\u8fdb\u884c\u5e38\u89c4\u7684\u68c0\u67e5 \u81ea\u52a8\u5316\u6d4b\u8bd5\u548c\u624b\u5de5\u6d4b\u8bd5\u53ef\u4ee5\u5e76\u884c\u7684\u6267\u884c,\u5404\u81ea\u68c0\u67e5\u4e0d\u540c\u7684\u70b9 \u66f4\u52a0\u957f\u8fdc\u4e00\u70b9\u7684\u95ee\u9898\u662f,\u6d4b\u8bd5\u662f\u5728\u4ea4\u4ed8\u7684\u6700\u5e95\u7aef,\u80fd\u4e0d\u80fd\u627e\u5230\u4e00\u4e9b\u65b9\u6cd5\u6216\u8005\u6846\u67b6\u6027\u7684\u4e1c\u897f,\u53ef\u4ee5\u8ba9\u4e0a\u6e38\u7684\u4ea4\u4ed8\u7269\u4ef6\u53ef\u4ee5\u9a6c\u4e0a\u7ed9\u81ea\u5df1\u7528,\u800c\u81ea\u5df1\u7684\u4ea7\u51fa\u53c8\u53ef\u4ee5\u4f53\u73b0\u4e0a\u6e38\u7684\u9700\u6c42\u6765\u8fbe\u5230\u4e00\u4e2a\u6d41\u6c34\u7ebf\u4ea4\u4ed8\u7684\u6548\u679c? There is no silver bullet.\u4e0d\u8fc7\u6216\u8bb8\u6709\u5462...... 1.1.3 \u5c31\u5f53\u8fd9\u4e9b\u53ef\u4ee5\u5b9e\u73b0\u7684 \u505a\u5230\u4ee5\u4e0a\u4e00\u70b9,\u4e5f\u8bb8\u53ef\u4ee5make tester's life easier. \u6709\u76ee\u6807\u662f\u597d\u4e8b,\u4e0d\u8fc7\u73b0\u5b9e\u4e5f\u662f\u6b8b\u9177\u7684,\u8fbe\u5230\u8fd9\u4e9b\u5982\u679c\u662f\u5982\u6b64\u7684\u4e0d\u5bb9\u6613.\u4e0d\u8fc7\u5047\u8bbe\u4ee5\u4e0a\u7684\u76ee\u6807\u662f\u6b63\u786e\u7684\uff0c\u90a3\u4e48\u5c31\u503c\u5f97\u53bb\u5c1d\u8bd5\u4e00\u6b65\u4e00\u6b65\u53bb\u63a5\u8fd1.\u4e00\u4e0b\u5b50\u9020\u4e0d\u51fa\u4e00\u4e2a\u8dd1\u8f66,\u4f46\u662f\u9020\u8f86\u81ea\u884c\u8f66\u8fd8\u662f\u6709\u53ef\u80fd\u7684. \u5728\u4e86\u89e3\u4e86\u4ee5\u4e0a\u7684\u4e00\u4e9b\u60c5\u51b5\u4e4b\u540e,\u4e0b\u9762\u5c31\u8bb2\u4e00\u8bb2\u81ea\u52a8\u5316\u6846\u67b6\u7684\u5b9e\u73b0,\u4ee5\u53ca\u8fd9\u4e9b\u5b9e\u73b0\u662f\u5982\u4f55\u6765\u89e3\u51b3\u6211\u4eec\u63d0\u5230\u7684\u95ee\u9898.","title":"\u76ee\u7684"},{"location":"intro/automation-purpose/#11","text":"\u5bf9\u4e8e\u81ea\u52a8\u5316\u6d4b\u8bd5\u800c\u8a00\u4e00\u4e2a\u5f88\u660e\u663e\u7684\u76ee\u7684\u5c31\u662f\u4e3a\u4e86\u51cf\u5c11\u624b\u5de5\u6d4b\u8bd5\u7684\u91cd\u590d\u5de5\u4f5c\u7684\u6bd4\u4f8b\uff0c\u63d0\u9ad8\u6d4b\u8bd5\u7684\u6548\u7387\uff0c\u8ba9\u6d4b\u8bd5\u4eba\u5458\u7684\u6709\u66f4\u591a\u7684\u65f6\u95f4\u53bb\u53d1\u6398\u6df1\u5c42\u6b21\u7684\u95ee\u9898\uff1b\u800c\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u7684\u76ee\u7684\uff0c\u5c31\u662f\u63d0\u9ad8\u6d4b\u8bd5\u4eba\u5458\u7f16\u5199\u4ee3\u7801\u7684\u6548\u7387\uff0c\u51cf\u5c11coding\u548c\u8c03\u8bd5\u7684\u65f6\u95f4,\u6240\u4ee5\u4ee5\u4e0b\u662f\u5173\u4e8e\u6846\u67b6\u7684\u4e3b\u8981\u76ee\u7684\uff1a \u63d0\u9ad8\u7f16\u5199\u6d4b\u8bd5\u4ee3\u7801\u7684\u6548\u7387 \u63d0\u9ad8\u6d4b\u8bd5\u4ee3\u7801\u7684\u590d\u7528\u6027 \u6570\u636e\u9a71\u52a8,\u63d0\u9ad8\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u53ef\u8986\u76d6\u7387 \u5c06\u81ea\u52a8\u5316\u6d4b\u8bd5\u878d\u5165\u5230\u6d4b\u8bd5\u7684\u8fc7\u7a0b\u4e2d\u4ee5\u4fbf\u66f4\u597d\u7684\u6ee1\u8db3\u8d8a\u6765\u8d8a\u5feb\u7684\u4ea4\u4ed8\u9700\u6c42 \u4e0d\u540c\u73af\u5883\u901a\u8fc7\u7b80\u5355\u7684\u914d\u7f6e\u5c31\u53ef\u4ee5\u8fd0\u884c\u540c\u4e00\u5957\u6d4b\u8bd5\u811a\u672c \u5206\u800c\u6cbb\u4e4b(separate concerns/divided and conquer) \u63a5\u53e3\u6d4b\u8bd5 UI\u7aef\u5230\u7aef(End to End)\u96c6\u6210 ......","title":"1.1 \u81ea\u52a8\u5316\u6846\u67b6\u7684\u76ee\u7684"},{"location":"intro/automation-purpose/#111","text":"\u5728\u4ee5\u4e0a\u7684\u51e0\u70b9\u76ee\u7684\u4e2d,\u5c06\u81ea\u52a8\u5316\u6d4b\u8bd5\u878d\u5165\u7684\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d\u6709\u70b9\u770b\u4e0d\u89c1\u6478\u4e0d\u7740\u7684\u611f\u89c9\uff0c\u6240\u4ee5\u4e13\u95e8\u6765\u8bf4\u660e\u4e00\u4e0b. \u9996\u5148\u4ece\u4e00\u822c\u7684\u6d4b\u8bd5\u6d41\u7a0b\u5f00\u59cb,\u4e00\u822c\u7684\u6d4b\u8bd5\u6d41\u7a0b\u603b\u662f\u5305\u62ec\u4e86\u4e00\u4e0b\u51e0\u70b9: \u4e86\u89e3\u9700\u6c42 \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b \u6267\u884c\u6d4b\u8bd5(\u9488\u5bf9\u4fee\u6539\u90e8\u5206) \u56de\u5f52\u6d4b\u8bd5(\u9488\u5bf9\u53ef\u80fd\u5f71\u54cd\u7684\u90e8\u5206) \u540c\u65f6\u6d4b\u8bd5\u5f80\u5f80\u53c8\u662f\u6574\u4e2a\u8f6f\u4ef6\u53d1\u5e03\u7684\u6700\u540e\u4e00\u9053\u7a0b\u5e8f,\u5b83\u5f3a\u70c8\u7684\u4f9d\u8d56\u4e8e\u5f00\u53d1\u7684\u4eba\u5458\u7684\u8fdb\u5ea6.\u5f80\u5f80\u5728\u5feb\u901f\u8fed\u4ee3\u4e2d\uff0c\u51fa\u73b0\u524d\u671f\u65f6\u95f4\u4e0d\u7d27\u5f20\uff0c\u540e\u671f\u65f6\u95f4\u975e\u5e38\u7d27\u5f20\u7684\u72b6\u51b5,\u751a\u81f3\u51fa\u73b0\u53ea\u80fd\u901a\u8fc7\u52a0\u73ed\u6765\u89e3\u51b3.\u90a3\u4e48\u5982\u4f55\u89e3\u51b3\u5462\uff1f\u5982\u4f55\u8ba9\u81ea\u5df1\u7684\u65f6\u95f4\u66f4\u597d\u7684\u5229\u7528\u548c\u4f18\u5316\u5462?","title":"1.1.1 \u5c06\u81ea\u52a8\u5316\u6d4b\u8bd5\u878d\u5165\u5230\u6d4b\u8bd5\u8fc7\u7a0b\u4e2d"},{"location":"intro/automation-purpose/#112-what-if","text":"\u4e3a\u4e86\u89e3\u51b3\u4e0a\u9762\u63d0\u5230\u7684\u4e00\u4e9b\u95ee\u9898,\u5012\u662f\u53ef\u4ee5\u60f3\u60f3\u5982\u679c\u6211\u4eec\u505a\u5230\u4e86\u4ec0\u4e48\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6765\u89e3\u51b3\u4e0a\u9762\u7684\u95ee\u9898,\u4ee5\u4e0b\u662f\u6211\u60f3\u5230\u7684\u4e00\u4e9b\u5982\u679c: \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u7684\u540c\u65f6\u4e5f\u53ef\u4ee5\u5f00\u59cb\u6784\u5efa\u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b \u5f00\u53d1\u4eba\u5458\u5f00\u53d1\u65f6\u5019,\u6d4b\u8bd5\u4e5f\u53ef\u4ee5\u6784\u5efa\u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b \u5f53\u5f00\u53d1\u5b8c\u6210,\u81ea\u52a8\u5316\u6d4b\u8bd5\u5c31\u53ef\u4ee5\u8fd0\u884c\u8fdb\u884c\u5e38\u89c4\u7684\u68c0\u67e5 \u81ea\u52a8\u5316\u6d4b\u8bd5\u548c\u624b\u5de5\u6d4b\u8bd5\u53ef\u4ee5\u5e76\u884c\u7684\u6267\u884c,\u5404\u81ea\u68c0\u67e5\u4e0d\u540c\u7684\u70b9 \u66f4\u52a0\u957f\u8fdc\u4e00\u70b9\u7684\u95ee\u9898\u662f,\u6d4b\u8bd5\u662f\u5728\u4ea4\u4ed8\u7684\u6700\u5e95\u7aef,\u80fd\u4e0d\u80fd\u627e\u5230\u4e00\u4e9b\u65b9\u6cd5\u6216\u8005\u6846\u67b6\u6027\u7684\u4e1c\u897f,\u53ef\u4ee5\u8ba9\u4e0a\u6e38\u7684\u4ea4\u4ed8\u7269\u4ef6\u53ef\u4ee5\u9a6c\u4e0a\u7ed9\u81ea\u5df1\u7528,\u800c\u81ea\u5df1\u7684\u4ea7\u51fa\u53c8\u53ef\u4ee5\u4f53\u73b0\u4e0a\u6e38\u7684\u9700\u6c42\u6765\u8fbe\u5230\u4e00\u4e2a\u6d41\u6c34\u7ebf\u4ea4\u4ed8\u7684\u6548\u679c? There is no silver bullet.\u4e0d\u8fc7\u6216\u8bb8\u6709\u5462......","title":"1.1.2 \u5982\u679c(What If)"},{"location":"intro/automation-purpose/#113","text":"\u505a\u5230\u4ee5\u4e0a\u4e00\u70b9,\u4e5f\u8bb8\u53ef\u4ee5make tester's life easier. \u6709\u76ee\u6807\u662f\u597d\u4e8b,\u4e0d\u8fc7\u73b0\u5b9e\u4e5f\u662f\u6b8b\u9177\u7684,\u8fbe\u5230\u8fd9\u4e9b\u5982\u679c\u662f\u5982\u6b64\u7684\u4e0d\u5bb9\u6613.\u4e0d\u8fc7\u5047\u8bbe\u4ee5\u4e0a\u7684\u76ee\u6807\u662f\u6b63\u786e\u7684\uff0c\u90a3\u4e48\u5c31\u503c\u5f97\u53bb\u5c1d\u8bd5\u4e00\u6b65\u4e00\u6b65\u53bb\u63a5\u8fd1.\u4e00\u4e0b\u5b50\u9020\u4e0d\u51fa\u4e00\u4e2a\u8dd1\u8f66,\u4f46\u662f\u9020\u8f86\u81ea\u884c\u8f66\u8fd8\u662f\u6709\u53ef\u80fd\u7684. \u5728\u4e86\u89e3\u4e86\u4ee5\u4e0a\u7684\u4e00\u4e9b\u60c5\u51b5\u4e4b\u540e,\u4e0b\u9762\u5c31\u8bb2\u4e00\u8bb2\u81ea\u52a8\u5316\u6846\u67b6\u7684\u5b9e\u73b0,\u4ee5\u53ca\u8fd9\u4e9b\u5b9e\u73b0\u662f\u5982\u4f55\u6765\u89e3\u51b3\u6211\u4eec\u63d0\u5230\u7684\u95ee\u9898.","title":"1.1.3 \u5c31\u5f53\u8fd9\u4e9b\u53ef\u4ee5\u5b9e\u73b0\u7684"},{"location":"tips/DateHelper/","text":"DateHelper\u4f7f\u7528 DateHelper\u91cc\u9762\u5305\u542b\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u5904\u7406\u65f6\u95f4\u7684\u516c\u7528\u65b9\u6cd5\uff0c\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\u5e38\u7528\u7684\u65b9\u6cd5\u3002 Format Date formatDate, \u901a\u8fc7\u4f20\u5165intervalDays\u751f\u6210\u548c\u53c2\u8003\u65f6\u95f4\u95f4\u9694\u5929\u6570\u7684\u65e5\u671f \u4ee5\u4e0b\u4ee3\u7801\u751f\u6210\u6bd4\u5f53\u524d\u65e5\u671f\u665a30\u5929\u7684\u65e5\u5b50 DateHelper.formatDate(new Date(),30) \u8f93\u51fa\uff1a 2015-07-23 convertFromLong\uff0clong\u503c\u8f6c\u6362\u4e3aDate\u578b isSameDate\uff0c\u662f\u5426\u662f\u540c\u4e00\u5929 \u5e38\u7528\u5904\u7406\u65e5\u671f\u7684\u7b2c\u4e09\u65b9\u5305\uff1a Joda Apache common-langs3 JDK Calendar","title":"DateHelper"},{"location":"tips/DateHelper/#datehelper","text":"DateHelper\u91cc\u9762\u5305\u542b\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u5904\u7406\u65f6\u95f4\u7684\u516c\u7528\u65b9\u6cd5\uff0c\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\u5e38\u7528\u7684\u65b9\u6cd5\u3002","title":"DateHelper\u4f7f\u7528"},{"location":"tips/DateHelper/#format-date","text":"formatDate, \u901a\u8fc7\u4f20\u5165intervalDays\u751f\u6210\u548c\u53c2\u8003\u65f6\u95f4\u95f4\u9694\u5929\u6570\u7684\u65e5\u671f \u4ee5\u4e0b\u4ee3\u7801\u751f\u6210\u6bd4\u5f53\u524d\u65e5\u671f\u665a30\u5929\u7684\u65e5\u5b50 DateHelper.formatDate(new Date(),30) \u8f93\u51fa\uff1a 2015-07-23 convertFromLong\uff0clong\u503c\u8f6c\u6362\u4e3aDate\u578b isSameDate\uff0c\u662f\u5426\u662f\u540c\u4e00\u5929","title":"Format Date"},{"location":"tips/DateHelper/#_1","text":"Joda Apache common-langs3 JDK Calendar","title":"\u5e38\u7528\u5904\u7406\u65e5\u671f\u7684\u7b2c\u4e09\u65b9\u5305\uff1a"},{"location":"tips/JsonHelper/","text":"JSONHelper \u4f7f\u7528 \u8fdb\u884c\u63a5\u53e3\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u96be\u514d\u4f1a\u4f7f\u7528\u5230JSON\uff0c\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\u4f7f\u7528JSONHelper\u6765\u56de\u53bbJSON\u7684\u503c JSONHelper\u4ecb\u7ecd JSONHelper\u501f\u7528\u4e86JSONPath\u548cFASTJSON\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u5b9e\u73b0JSON\u8fd4\u56de\u548cJAVA BEAN\u7684\u8f6c\u6362\u4ee5\u53ca\u83b7\u53d6JSON\u8fd4\u56de\u4e2d\u7684\u67d0\u4e9b\u5b57\u6bb5\u7684\u503c\u3002 JSONHelper\u4f8b\u5b50 \u4e00\u4e0b\u4f8b\u5b50\u662f\u7528\u6765\u89e3\u91ca\u4f7f\u7528\u7c7bxpath/cssselector\u7684\u65b9\u5f0f\u6765\u83b7\u53d6JSON\u7684\u503c \u5982\u679c\u5047\u8bbe\u8fd4\u56de\u7684JSON\u5982\u4e0b\u4f8b\uff1a { \"store\": { \"book\": [ { \"category\": \"reference\", \"author\": \"Nigel Rees\", \"title\": \"Sayings of the Century\", \"price\": 8.95 }, { \"category\": \"fiction\", \"author\": \"Evelyn Waugh\", \"title\": \"Sword of Honour\", \"price\": 12.99 }, { \"category\": \"fiction\", \"author\": \"Herman Melville\", \"title\": \"Moby Dick\", \"isbn\": \"0-553-21311-3\", \"price\": 8.99 }, { \"category\": \"fiction\", \"author\": \"J. R. R. Tolkien\", \"title\": \"The Lord of the Rings\", \"isbn\": \"0-395-19395-8\", \"price\": 22.99 } ], \"bicycle\": { \"color\": \"red\", \"price\": 19.95 } }, \"expensive\": 10 } \u4f7f\u7528\u4ee5\u4e0b\u662fJSONPath\u7684\u8868\u793a\u5f0f,\u6765\u83b7\u53d6\u4e0d\u540c\u7684\u503c JsonPath \u8868\u8fbe\u5f0f Result $.store.book[*].author The authors of all books expensive expensive's value store store's value store.book book in store $..author All authors $.store.* All things, both books and bicycles $.store..price The price of everything $..book[2] The third book $..book[2].category The third book's category value $..book[(@.length-1)] The last book $..book[0,1] The first two books $..book[:2] All books from index 0 (inclusive) until index 2 (exclusive) $..book[1:2] All books from index 1 (inclusive) until index 2 (exclusive) $..book[-2:] Last two books $..book[2:] Book number two from tail $..book[?(@.isbn)] All books with an ISBN number $.store.book[?(@.price < 10)] All books in store cheaper than 10 $..book[?(@.price <= $['expensive'])] All books in store that are not \"expensive\" $..book[?(@.author =~ /.*REES/i)] All books matching regex (ignore case) $..* everything JSON \u503c private String jsonString = \"{\\n\" + \" \\\"store\\\": {\\n\" + \" \\\"book\\\": [\\n\" + \" {\\n\" + \" \\\"category\\\": \\\"reference\\\",\\n\" + \" \\\"author\\\": \\\"Nigel Rees\\\",\\n\" + \" \\\"title\\\": \\\"Sayings of the Century\\\",\\n\" + \" \\\"price\\\": 8.95\\n\" + \" },\\n\" + \" {\\n\" + \" \\\"category\\\": \\\"fiction\\\",\\n\" + \" \\\"author\\\": \\\"Evelyn Waugh\\\",\\n\" + \" \\\"title\\\": \\\"Sword of Honour\\\",\\n\" + \" \\\"price\\\": 12.99\\n\" + \" },\\n\" + \" {\\n\" + \" \\\"category\\\": \\\"fiction\\\",\\n\" + \" \\\"author\\\": \\\"Herman Melville\\\",\\n\" + \" \\\"title\\\": \\\"Moby Dick\\\",\\n\" + \" \\\"isbn\\\": \\\"0-553-21311-3\\\",\\n\" + \" \\\"price\\\": 8.99\\n\" + \" },\\n\" + \" {\\n\" + \" \\\"category\\\": \\\"fiction\\\",\\n\" + \" \\\"author\\\": \\\"J. R. R. Tolkien\\\",\\n\" + \" \\\"title\\\": \\\"The Lord of the Rings\\\",\\n\" + \" \\\"isbn\\\": \\\"0-395-19395-8\\\",\\n\" + \" \\\"price\\\": 22.99\\n\" + \" }\\n\" + \" ],\\n\" + \" \\\"bicycle\\\": {\\n\" + \" \\\"color\\\": \\\"red\\\",\\n\" + \" \\\"price\\\": 19.95\\n\" + \" }\\n\" + \" },\\n\" + \" \\\"expensive\\\": 10\\n\" + \"}\"; \u5c06Json\u8f6c\u5316\u4e3aJava Bean @Test public void testToBean() throws Exception { String test = JSONHelper.toBean(\"{'test':'abcd'}\",String.class); assertNotNull(test); } \u6839\u636eJsonPath\u83b7\u53d6\u76f8\u540c\u5b57\u6bb5\u503c\u5230\u4e00\u4e2aList @Test public void testGetValue_ForList() throws Exception { //getting JSONArray as List List<String> value = (List<String>) JSONHelper.getValue(jsonString,\".store.book[*].author\"); System.out.println(value); assertThat(value.size(), is(4)); } \u6839\u636eJsonPath\u83b7\u53d6\u51fa\u4e00\u4e2aList \u7c7b\u578b\u7684\u503c @Test public void testGetValue_ForListMap() throws Exception { //getting JSONArray as List List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\".store.book[*]\"); System.out.println(value); assertThat(value.size(), is(4)); } @Test public void testGetValue_ForValueMap() throws Exception { //getting JSONArray as List List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\".store.*\"); System.out.println(value); assertThat(value.size(), is(2)); } @Test public void testGetValue_ForValueFromRoot() throws Exception { //getting JSONArray as List List<Map<String,String>> value = (List<Map<String,String>>) JSONHelper.getValue(jsonString,\"$.*\"); System.out.println(value); assertThat(value.size(), is(2)); } @Test public void testGetValue_GetByIndex(){ Map<String,String> value = JSONHelper.getValueToMap(jsonString,\"$..book[2]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetListByIndex(){ List<Map<String,String>> value = (List<Map<String, String>>) JSONHelper.getValue(jsonString,\"$..book[2]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetByIndexSlice(){ HashMap value = (HashMap) JSONHelper.getValue(jsonString,\"$.store.book[1:2]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } \u6839\u636eJsonPath\u83b7\u53d6\u51fa\u4e00\u4e2a\u503c @Test public void testGetValue_GetByPath(){ String value = (String) JSONHelper.getValue(jsonString,\"$.store.book[2].title\"); System.out.println(value); assertThat(value.length(),greaterThan(0)); } \u4ee5\u4e0b\u662f\u6839\u636e\u4e0d\u540cJsonPath\u83b7\u53d6\u4e0d\u540c\u503c\u7684\u65b9\u6cd5 @Test public void testGetValue_GetBySlice(){ HashMap value = (HashMap) JSONHelper.getValue(jsonString,\"$.store.book[-1:]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetBySliceIndex(){ List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\"$.store.book[-2:]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetByAttribute(){ List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\"$.store.book[?(@.price < 10)]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetByExpress(){ List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\"$..book[?(@.price <= $['expensive'])]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetAll(){ List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\"$..*\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } \u5e38\u7528\u5904\u7406JSON\u7684\u7b2c\u4e09\u65b9\u5305 fastjson jackson jsonpath gson","title":"JSON\u5904\u7406"},{"location":"tips/JsonHelper/#jsonhelper","text":"\u8fdb\u884c\u63a5\u53e3\u6d4b\u8bd5\u7684\u65f6\u5019\uff0c\u96be\u514d\u4f1a\u4f7f\u7528\u5230JSON\uff0c\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e0b\u4f7f\u7528JSONHelper\u6765\u56de\u53bbJSON\u7684\u503c","title":"JSONHelper \u4f7f\u7528"},{"location":"tips/JsonHelper/#jsonhelper_1","text":"JSONHelper\u501f\u7528\u4e86JSONPath\u548cFASTJSON\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u5b9e\u73b0JSON\u8fd4\u56de\u548cJAVA BEAN\u7684\u8f6c\u6362\u4ee5\u53ca\u83b7\u53d6JSON\u8fd4\u56de\u4e2d\u7684\u67d0\u4e9b\u5b57\u6bb5\u7684\u503c\u3002","title":"JSONHelper\u4ecb\u7ecd"},{"location":"tips/JsonHelper/#jsonhelper_2","text":"\u4e00\u4e0b\u4f8b\u5b50\u662f\u7528\u6765\u89e3\u91ca\u4f7f\u7528\u7c7bxpath/cssselector\u7684\u65b9\u5f0f\u6765\u83b7\u53d6JSON\u7684\u503c \u5982\u679c\u5047\u8bbe\u8fd4\u56de\u7684JSON\u5982\u4e0b\u4f8b\uff1a { \"store\": { \"book\": [ { \"category\": \"reference\", \"author\": \"Nigel Rees\", \"title\": \"Sayings of the Century\", \"price\": 8.95 }, { \"category\": \"fiction\", \"author\": \"Evelyn Waugh\", \"title\": \"Sword of Honour\", \"price\": 12.99 }, { \"category\": \"fiction\", \"author\": \"Herman Melville\", \"title\": \"Moby Dick\", \"isbn\": \"0-553-21311-3\", \"price\": 8.99 }, { \"category\": \"fiction\", \"author\": \"J. R. R. Tolkien\", \"title\": \"The Lord of the Rings\", \"isbn\": \"0-395-19395-8\", \"price\": 22.99 } ], \"bicycle\": { \"color\": \"red\", \"price\": 19.95 } }, \"expensive\": 10 } \u4f7f\u7528\u4ee5\u4e0b\u662fJSONPath\u7684\u8868\u793a\u5f0f,\u6765\u83b7\u53d6\u4e0d\u540c\u7684\u503c JsonPath \u8868\u8fbe\u5f0f Result $.store.book[*].author The authors of all books expensive expensive's value store store's value store.book book in store $..author All authors $.store.* All things, both books and bicycles $.store..price The price of everything $..book[2] The third book $..book[2].category The third book's category value $..book[(@.length-1)] The last book $..book[0,1] The first two books $..book[:2] All books from index 0 (inclusive) until index 2 (exclusive) $..book[1:2] All books from index 1 (inclusive) until index 2 (exclusive) $..book[-2:] Last two books $..book[2:] Book number two from tail $..book[?(@.isbn)] All books with an ISBN number $.store.book[?(@.price < 10)] All books in store cheaper than 10 $..book[?(@.price <= $['expensive'])] All books in store that are not \"expensive\" $..book[?(@.author =~ /.*REES/i)] All books matching regex (ignore case) $..* everything","title":"JSONHelper\u4f8b\u5b50"},{"location":"tips/JsonHelper/#json","text":"private String jsonString = \"{\\n\" + \" \\\"store\\\": {\\n\" + \" \\\"book\\\": [\\n\" + \" {\\n\" + \" \\\"category\\\": \\\"reference\\\",\\n\" + \" \\\"author\\\": \\\"Nigel Rees\\\",\\n\" + \" \\\"title\\\": \\\"Sayings of the Century\\\",\\n\" + \" \\\"price\\\": 8.95\\n\" + \" },\\n\" + \" {\\n\" + \" \\\"category\\\": \\\"fiction\\\",\\n\" + \" \\\"author\\\": \\\"Evelyn Waugh\\\",\\n\" + \" \\\"title\\\": \\\"Sword of Honour\\\",\\n\" + \" \\\"price\\\": 12.99\\n\" + \" },\\n\" + \" {\\n\" + \" \\\"category\\\": \\\"fiction\\\",\\n\" + \" \\\"author\\\": \\\"Herman Melville\\\",\\n\" + \" \\\"title\\\": \\\"Moby Dick\\\",\\n\" + \" \\\"isbn\\\": \\\"0-553-21311-3\\\",\\n\" + \" \\\"price\\\": 8.99\\n\" + \" },\\n\" + \" {\\n\" + \" \\\"category\\\": \\\"fiction\\\",\\n\" + \" \\\"author\\\": \\\"J. R. R. Tolkien\\\",\\n\" + \" \\\"title\\\": \\\"The Lord of the Rings\\\",\\n\" + \" \\\"isbn\\\": \\\"0-395-19395-8\\\",\\n\" + \" \\\"price\\\": 22.99\\n\" + \" }\\n\" + \" ],\\n\" + \" \\\"bicycle\\\": {\\n\" + \" \\\"color\\\": \\\"red\\\",\\n\" + \" \\\"price\\\": 19.95\\n\" + \" }\\n\" + \" },\\n\" + \" \\\"expensive\\\": 10\\n\" + \"}\";","title":"JSON \u503c"},{"location":"tips/JsonHelper/#jsonjava-bean","text":"@Test public void testToBean() throws Exception { String test = JSONHelper.toBean(\"{'test':'abcd'}\",String.class); assertNotNull(test); }","title":"\u5c06Json\u8f6c\u5316\u4e3aJava Bean"},{"location":"tips/JsonHelper/#jsonpathlist","text":"@Test public void testGetValue_ForList() throws Exception { //getting JSONArray as List List<String> value = (List<String>) JSONHelper.getValue(jsonString,\".store.book[*].author\"); System.out.println(value); assertThat(value.size(), is(4)); }","title":"\u6839\u636eJsonPath\u83b7\u53d6\u76f8\u540c\u5b57\u6bb5\u503c\u5230\u4e00\u4e2aList"},{"location":"tips/JsonHelper/#jsonpathlist_1","text":"@Test public void testGetValue_ForListMap() throws Exception { //getting JSONArray as List List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\".store.book[*]\"); System.out.println(value); assertThat(value.size(), is(4)); } @Test public void testGetValue_ForValueMap() throws Exception { //getting JSONArray as List List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\".store.*\"); System.out.println(value); assertThat(value.size(), is(2)); } @Test public void testGetValue_ForValueFromRoot() throws Exception { //getting JSONArray as List List<Map<String,String>> value = (List<Map<String,String>>) JSONHelper.getValue(jsonString,\"$.*\"); System.out.println(value); assertThat(value.size(), is(2)); } @Test public void testGetValue_GetByIndex(){ Map<String,String> value = JSONHelper.getValueToMap(jsonString,\"$..book[2]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetListByIndex(){ List<Map<String,String>> value = (List<Map<String, String>>) JSONHelper.getValue(jsonString,\"$..book[2]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetByIndexSlice(){ HashMap value = (HashMap) JSONHelper.getValue(jsonString,\"$.store.book[1:2]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); }","title":"\u6839\u636eJsonPath\u83b7\u53d6\u51fa\u4e00\u4e2aList\u7c7b\u578b\u7684\u503c"},{"location":"tips/JsonHelper/#jsonpath","text":"@Test public void testGetValue_GetByPath(){ String value = (String) JSONHelper.getValue(jsonString,\"$.store.book[2].title\"); System.out.println(value); assertThat(value.length(),greaterThan(0)); }","title":"\u6839\u636eJsonPath\u83b7\u53d6\u51fa\u4e00\u4e2a\u503c"},{"location":"tips/JsonHelper/#jsonpath_1","text":"@Test public void testGetValue_GetBySlice(){ HashMap value = (HashMap) JSONHelper.getValue(jsonString,\"$.store.book[-1:]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetBySliceIndex(){ List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\"$.store.book[-2:]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetByAttribute(){ List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\"$.store.book[?(@.price < 10)]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetByExpress(){ List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\"$..book[?(@.price <= $['expensive'])]\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); } @Test public void testGetValue_GetAll(){ List<Map> value = (List<Map>) JSONHelper.getValue(jsonString,\"$..*\"); System.out.println(value); assertThat(value.size(),greaterThan(0)); }","title":"\u4ee5\u4e0b\u662f\u6839\u636e\u4e0d\u540cJsonPath\u83b7\u53d6\u4e0d\u540c\u503c\u7684\u65b9\u6cd5"},{"location":"tips/JsonHelper/#_1","text":"","title":""},{"location":"tips/JsonHelper/#json_1","text":"fastjson jackson jsonpath gson","title":"\u5e38\u7528\u5904\u7406JSON\u7684\u7b2c\u4e09\u65b9\u5305"},{"location":"tips/PageFactory/","text":"Selenium Page Factory \u6a21\u5f0f\u5206\u6790 \u672c\u6587\u4e3b\u8981\u7528\u6765\u5206\u6790Page Factory\u5b9e\u73b0\u7684\u539f\u7406\u4ee5\u53ca\u4e00\u4e9b\u6269\u5c55\u7684\u53ef\u80fd\u6027\u3002 Page Factory \u7684\u4f8b\u5b50 Selenium Page Factory Wiki \u9996\u5148\u89e3\u91ca\u4e00\u4e0b\u8fd9\u4e2a\u4f8b\u5b50\uff1a \u4f7f\u7528\u6ce8\u89e3\u63cf\u8ff0\u5143\u7d20\u5b9a\u4f4d \u4f7f\u7528 PageFactory.initElements(driver, page); public class GoogleSearchPage { // The element is now looked up using the name attribute @FindBy(how = How.NAME, using = \"q\") private WebElement searchBox; public void searchFor(String text) { // We continue using the element just as before searchBox.sendKeys(text); searchBox.submit(); } public void searchFor(String text) { GoogleSearchPage page\uff1d PageFactory.initElements(new ChromeDriver(), GoogleSearchPage.class); } } \u4ee5\u4e0a\u4e00\u4e2a\u663e\u800c\u6613\u89c1\u7684\u597d\u5904\u5c31\u662f\u51cf\u5c11\u4e86\u67e5\u627e\u5143\u7d20\u7684\u4ee3\u7801\u91cf\uff0c\u6bd4\u5982\u7c7b\u4f3c\u4e8e\u4e00\u4e0b\u7684\u4ee3\u7801\uff1a driver.findElement(By.id(\"q\")) \u4f46\u662f\u53ea\u6709\u8fd9\u6837\u7684\u597d\u5904\u5417\uff1f\u6211\u4eec\u5148\u4ece\u5206\u6790Selenium Page Factory\u5b9e\u73b0\u7684\u539f\u7406\u8bf4\u8d77 Page Factory \u5b9e\u73b0\u7684\u539f\u7406 PageFactory \u662f\u4f7f\u7528\u53cd\u5c04(Reflection)\u548c\u52a8\u6001\u4ee3\u7406(dynamic proxies)\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u9875\u9762\u7684\u6bcf \u6bcf\u4e2a\u5143\u7d20: PageFactory: initElements and proxyFields public static void initElements(FieldDecorator decorator, Object page) { for(Class proxyIn = page.getClass(); proxyIn != Object.class; proxyIn = proxyIn.getSuperclass()) { proxyFields(decorator, page, proxyIn); } } private static void proxyFields(FieldDecorator decorator, Object page, Class<?> proxyIn) { Field[] fields = proxyIn.getDeclaredFields(); Field[] arr$ = fields; int len$ = fields.length; for(int i$ = 0; i$ < len$; ++i$) { Field field = arr$[i$]; Object value = decorator.decorate(page.getClass().getClassLoader(), field); if(value != null) { try { field.setAccessible(true); field.set(page, value); } catch (IllegalAccessException var10) { throw new RuntimeException(var10); } } } } FieldDecorator\uff1aDefaultFieldDecorator \u6e90\u7801 \u4eceDefaultFieldDecorator\u7684\u6e90\u7801\u770b: \u5b9e\u73b0decorate\u65b9\u6cd5,WebElement \u548cList \u90fd\u662f\u901a\u8fc7proxy\u7684\u65b9\u5f0f\u521b\u5efa\u7684 \u6bcf\u4e2aProxy\u7684\u65b9\u5f0f\u90fd\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684invocationHandler\u5904\u7406 Selenium\u7684\u6e90\u7801\u6709\u4e24\u4e2ainvocationHandler\uff1a LocatingElementHandler LocatingElementListHandler public Object decorate(ClassLoader loader, Field field) { if(!WebElement.class.isAssignableFrom(field.getType()) && !this.isDecoratableList(field)) { return null; } else { ElementLocator locator = this.factory.createLocator(field); return locator == null?null:(WebElement.class.isAssignableFrom(field.getType())?this.proxyForLocator(loader, locator):(List.class.isAssignableFrom(field.getType())?this.proxyForListLocator(loader, locator):null)); } } private boolean isDecoratableList(Field field) { if(!List.class.isAssignableFrom(field.getType())) { return false; } else { Type genericType = field.getGenericType(); if(!(genericType instanceof ParameterizedType)) { return false; } else { Type listType = ((ParameterizedType)genericType).getActualTypeArguments()[0]; return !WebElement.class.equals(listType)?false:field.getAnnotation(FindBy.class) != null || field.getAnnotation(FindBys.class) != null || field.getAnnotation(FindAll.class) != null; } } } protected WebElement proxyForLocator(ClassLoader loader, ElementLocator locator) { LocatingElementHandler handler = new LocatingElementHandler(locator); WebElement proxy = (WebElement)Proxy.newProxyInstance(loader, new Class[]{WebElement.class, WrapsElement.class, Locatable.class}, handler); return proxy; } protected List<WebElement> proxyForListLocator(ClassLoader loader, ElementLocator locator) { LocatingElementListHandler handler = new LocatingElementListHandler(locator); List proxy = (List)Proxy.newProxyInstance(loader, new Class[]{List.class}, handler); return proxy; } \u6211\u4eec\u518d\u770b\u4e00\u4e0bLocatingElementHandler,\u53ef\u4ee5\u770b\u5230\u5b9e\u9645\u5728\u5f85\u7528PageFactory\u521b\u5efa\u7684\u5143\u7d20\u65f6\u5019 \u90fd\u662f\u901a\u8fc7\u8fd9\u4e2a\u6389\u7528LocatingElementHandler public class LocatingElementHandler implements InvocationHandler { private final ElementLocator locator; public LocatingElementHandler(ElementLocator locator) { this.locator = locator; } public Object invoke(Object object, Method method, Object[] objects) throws Throwable { WebElement element; try { element = this.locator.findElement(); } catch (NoSuchElementException var7) { if(\"toString\".equals(method.getName())) { return \"Proxy element for: \" + this.locator.toString(); } throw var7; } if(\"getWrappedElement\".equals(method.getName())) { return element; } else { try { return method.invoke(element, objects); } catch (InvocationTargetException var6) { throw var6.getCause(); } } } } \u4ee5\u4e0aSelenium PageFactory\u5927\u81f4\u7684\u5b9e\u73b0\uff0c\u4ece\u8fc7\u7a0b\u6765\u770b\uff1a PageFaction-> initElements-> proxyFields Page Factory \u6709\u4ec0\u4e48\u597d\u5904 \u4e2a\u4eba\u7406\u89e3\u7684\u597d\u5904: \u53ef\u4ee5\u901a\u8fc7\u4fee\u6539InvocationHandler\u91cc\u9762\u7684\u5904\u7406,\u6bd4\u5982 java element = this.locator.findElement(); \u5982\u679c\u90fd\u4f7f\u7528wait().util\u7684\u65b9\u5f0f,\u8fd9\u6837\u53ef\u4ee5\u4f7f\u6240\u6709\u67e5\u627e\u7684\u5143\u7d20\u66f4\u52a0\u7a33\u5b9a \u4f7f\u7528\u4e86proxy\u7684\u65b9\u5f0f,\u5728\u5b9e\u4f8b\u5316WebElement\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u4e0d\u7ba1WebElement\u5b58\u5728\u4e0d\u5b58\u5728\u90fd\u53ef\u4ee5\u521b\u5efa \u800c\u5b9e\u9645findElement\u90fd\u4f1a\u5ef6\u8fdf\u5230\u771f\u7684\u8c03\u7528\u8fd9\u4e2a\u5143\u7d20\u65f6\u6267\u884c,\u8fd9\u5e26\u6765\u4e00\u4e2a\u597d\u5904\u5c31\u662f\u5982\u679cWebElement\u7684\u5b9e\u4f8b\u521b\u5efa\u540e \u9875\u9762DOM\u5237\u65b0\u540e,\u9700\u8981\u91cd\u65b0\u67e5\u627eWebElement,\u5426\u5219\u53ef\u80fd\u629b\u51faStaleElementReferenceException,\u800cProxy\u4e4b\u540e\u6bcf\u6b21\u90fd\u4f1a\u81ea\u52a8 \u67e5\u627e,\u8fd9\u6837\u5c31\u51cf\u5c11\u4e86\u4ee3\u7801\u5904\u7406 \u5de5\u5382\u7684\u8bbe\u8ba1\u6a21\u5f0f\u540c\u65f6\u4e5f\u5e26\u4e86\u4e86\u7075\u6d3b\u7a0b\u5ea6,\u5728\u521b\u5efa\u9875\u9762\u6216\u8005\u9875\u9762\u5143\u7d20\u7684\u65f6\u5019,\u53ef\u4ee5\u5f00\u59cb\u6dfb\u52a0\u7edf\u4e00\u7684\u524d\u7f6e\u6216\u8005\u540e\u7f6e\u7684\u5904\u7406 \u4f46\u662f\u53ef\u60dc\u7684\u662fSelenium\u5e76\u6ca1\u6709\u63d0\u4f9b\u5f00\u53d1\u7684\u63a5\u53e3\u6765\u8ba9\u7528\u6237\u5b9a\u5236,\u6240\u4ee5\u5982\u679c\u81ea\u5df1\u5b9a\u5236PageFactory\u6a21\u5f0f,\u5219\u9700\u8981\u81ea\u5df1\u53bb\u5b9e\u73b0Selenium\u8fd9 \u4e00\u5957\u65b9\u6cd5,\u540c\u65f6\u52a0\u5165\u81ea\u5df1\u7279\u6b8a\u7684\u5b9e\u73b0","title":"Page Factory \u6a21\u5f0f\u539f\u7406"},{"location":"tips/PageFactory/#selenium-page-factory","text":"\u672c\u6587\u4e3b\u8981\u7528\u6765\u5206\u6790Page Factory\u5b9e\u73b0\u7684\u539f\u7406\u4ee5\u53ca\u4e00\u4e9b\u6269\u5c55\u7684\u53ef\u80fd\u6027\u3002","title":"Selenium Page Factory \u6a21\u5f0f\u5206\u6790"},{"location":"tips/PageFactory/#page-factory","text":"Selenium Page Factory Wiki \u9996\u5148\u89e3\u91ca\u4e00\u4e0b\u8fd9\u4e2a\u4f8b\u5b50\uff1a \u4f7f\u7528\u6ce8\u89e3\u63cf\u8ff0\u5143\u7d20\u5b9a\u4f4d \u4f7f\u7528 PageFactory.initElements(driver, page); public class GoogleSearchPage { // The element is now looked up using the name attribute @FindBy(how = How.NAME, using = \"q\") private WebElement searchBox; public void searchFor(String text) { // We continue using the element just as before searchBox.sendKeys(text); searchBox.submit(); } public void searchFor(String text) { GoogleSearchPage page\uff1d PageFactory.initElements(new ChromeDriver(), GoogleSearchPage.class); } } \u4ee5\u4e0a\u4e00\u4e2a\u663e\u800c\u6613\u89c1\u7684\u597d\u5904\u5c31\u662f\u51cf\u5c11\u4e86\u67e5\u627e\u5143\u7d20\u7684\u4ee3\u7801\u91cf\uff0c\u6bd4\u5982\u7c7b\u4f3c\u4e8e\u4e00\u4e0b\u7684\u4ee3\u7801\uff1a driver.findElement(By.id(\"q\")) \u4f46\u662f\u53ea\u6709\u8fd9\u6837\u7684\u597d\u5904\u5417\uff1f\u6211\u4eec\u5148\u4ece\u5206\u6790Selenium Page Factory\u5b9e\u73b0\u7684\u539f\u7406\u8bf4\u8d77","title":"Page Factory \u7684\u4f8b\u5b50"},{"location":"tips/PageFactory/#page-factory_1","text":"PageFactory \u662f\u4f7f\u7528\u53cd\u5c04(Reflection)\u548c\u52a8\u6001\u4ee3\u7406(dynamic proxies)\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u9875\u9762\u7684\u6bcf \u6bcf\u4e2a\u5143\u7d20: PageFactory: initElements and proxyFields public static void initElements(FieldDecorator decorator, Object page) { for(Class proxyIn = page.getClass(); proxyIn != Object.class; proxyIn = proxyIn.getSuperclass()) { proxyFields(decorator, page, proxyIn); } } private static void proxyFields(FieldDecorator decorator, Object page, Class<?> proxyIn) { Field[] fields = proxyIn.getDeclaredFields(); Field[] arr$ = fields; int len$ = fields.length; for(int i$ = 0; i$ < len$; ++i$) { Field field = arr$[i$]; Object value = decorator.decorate(page.getClass().getClassLoader(), field); if(value != null) { try { field.setAccessible(true); field.set(page, value); } catch (IllegalAccessException var10) { throw new RuntimeException(var10); } } } } FieldDecorator\uff1aDefaultFieldDecorator \u6e90\u7801 \u4eceDefaultFieldDecorator\u7684\u6e90\u7801\u770b: \u5b9e\u73b0decorate\u65b9\u6cd5,WebElement \u548cList \u90fd\u662f\u901a\u8fc7proxy\u7684\u65b9\u5f0f\u521b\u5efa\u7684 \u6bcf\u4e2aProxy\u7684\u65b9\u5f0f\u90fd\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684invocationHandler\u5904\u7406 Selenium\u7684\u6e90\u7801\u6709\u4e24\u4e2ainvocationHandler\uff1a LocatingElementHandler LocatingElementListHandler public Object decorate(ClassLoader loader, Field field) { if(!WebElement.class.isAssignableFrom(field.getType()) && !this.isDecoratableList(field)) { return null; } else { ElementLocator locator = this.factory.createLocator(field); return locator == null?null:(WebElement.class.isAssignableFrom(field.getType())?this.proxyForLocator(loader, locator):(List.class.isAssignableFrom(field.getType())?this.proxyForListLocator(loader, locator):null)); } } private boolean isDecoratableList(Field field) { if(!List.class.isAssignableFrom(field.getType())) { return false; } else { Type genericType = field.getGenericType(); if(!(genericType instanceof ParameterizedType)) { return false; } else { Type listType = ((ParameterizedType)genericType).getActualTypeArguments()[0]; return !WebElement.class.equals(listType)?false:field.getAnnotation(FindBy.class) != null || field.getAnnotation(FindBys.class) != null || field.getAnnotation(FindAll.class) != null; } } } protected WebElement proxyForLocator(ClassLoader loader, ElementLocator locator) { LocatingElementHandler handler = new LocatingElementHandler(locator); WebElement proxy = (WebElement)Proxy.newProxyInstance(loader, new Class[]{WebElement.class, WrapsElement.class, Locatable.class}, handler); return proxy; } protected List<WebElement> proxyForListLocator(ClassLoader loader, ElementLocator locator) { LocatingElementListHandler handler = new LocatingElementListHandler(locator); List proxy = (List)Proxy.newProxyInstance(loader, new Class[]{List.class}, handler); return proxy; } \u6211\u4eec\u518d\u770b\u4e00\u4e0bLocatingElementHandler,\u53ef\u4ee5\u770b\u5230\u5b9e\u9645\u5728\u5f85\u7528PageFactory\u521b\u5efa\u7684\u5143\u7d20\u65f6\u5019 \u90fd\u662f\u901a\u8fc7\u8fd9\u4e2a\u6389\u7528LocatingElementHandler public class LocatingElementHandler implements InvocationHandler { private final ElementLocator locator; public LocatingElementHandler(ElementLocator locator) { this.locator = locator; } public Object invoke(Object object, Method method, Object[] objects) throws Throwable { WebElement element; try { element = this.locator.findElement(); } catch (NoSuchElementException var7) { if(\"toString\".equals(method.getName())) { return \"Proxy element for: \" + this.locator.toString(); } throw var7; } if(\"getWrappedElement\".equals(method.getName())) { return element; } else { try { return method.invoke(element, objects); } catch (InvocationTargetException var6) { throw var6.getCause(); } } } } \u4ee5\u4e0aSelenium PageFactory\u5927\u81f4\u7684\u5b9e\u73b0\uff0c\u4ece\u8fc7\u7a0b\u6765\u770b\uff1a PageFaction-> initElements-> proxyFields","title":"Page Factory \u5b9e\u73b0\u7684\u539f\u7406"},{"location":"tips/PageFactory/#page-factory_2","text":"\u4e2a\u4eba\u7406\u89e3\u7684\u597d\u5904: \u53ef\u4ee5\u901a\u8fc7\u4fee\u6539InvocationHandler\u91cc\u9762\u7684\u5904\u7406,\u6bd4\u5982 java element = this.locator.findElement(); \u5982\u679c\u90fd\u4f7f\u7528wait().util\u7684\u65b9\u5f0f,\u8fd9\u6837\u53ef\u4ee5\u4f7f\u6240\u6709\u67e5\u627e\u7684\u5143\u7d20\u66f4\u52a0\u7a33\u5b9a \u4f7f\u7528\u4e86proxy\u7684\u65b9\u5f0f,\u5728\u5b9e\u4f8b\u5316WebElement\u7684\u65f6\u5019\uff0c\u5b9e\u9645\u4e0a\u4e0d\u7ba1WebElement\u5b58\u5728\u4e0d\u5b58\u5728\u90fd\u53ef\u4ee5\u521b\u5efa \u800c\u5b9e\u9645findElement\u90fd\u4f1a\u5ef6\u8fdf\u5230\u771f\u7684\u8c03\u7528\u8fd9\u4e2a\u5143\u7d20\u65f6\u6267\u884c,\u8fd9\u5e26\u6765\u4e00\u4e2a\u597d\u5904\u5c31\u662f\u5982\u679cWebElement\u7684\u5b9e\u4f8b\u521b\u5efa\u540e \u9875\u9762DOM\u5237\u65b0\u540e,\u9700\u8981\u91cd\u65b0\u67e5\u627eWebElement,\u5426\u5219\u53ef\u80fd\u629b\u51faStaleElementReferenceException,\u800cProxy\u4e4b\u540e\u6bcf\u6b21\u90fd\u4f1a\u81ea\u52a8 \u67e5\u627e,\u8fd9\u6837\u5c31\u51cf\u5c11\u4e86\u4ee3\u7801\u5904\u7406 \u5de5\u5382\u7684\u8bbe\u8ba1\u6a21\u5f0f\u540c\u65f6\u4e5f\u5e26\u4e86\u4e86\u7075\u6d3b\u7a0b\u5ea6,\u5728\u521b\u5efa\u9875\u9762\u6216\u8005\u9875\u9762\u5143\u7d20\u7684\u65f6\u5019,\u53ef\u4ee5\u5f00\u59cb\u6dfb\u52a0\u7edf\u4e00\u7684\u524d\u7f6e\u6216\u8005\u540e\u7f6e\u7684\u5904\u7406 \u4f46\u662f\u53ef\u60dc\u7684\u662fSelenium\u5e76\u6ca1\u6709\u63d0\u4f9b\u5f00\u53d1\u7684\u63a5\u53e3\u6765\u8ba9\u7528\u6237\u5b9a\u5236,\u6240\u4ee5\u5982\u679c\u81ea\u5df1\u5b9a\u5236PageFactory\u6a21\u5f0f,\u5219\u9700\u8981\u81ea\u5df1\u53bb\u5b9e\u73b0Selenium\u8fd9 \u4e00\u5957\u65b9\u6cd5,\u540c\u65f6\u52a0\u5165\u81ea\u5df1\u7279\u6b8a\u7684\u5b9e\u73b0","title":"Page Factory \u6709\u4ec0\u4e48\u597d\u5904"},{"location":"tips/StateElementReferneceException/","text":"angular js ng-blur event\u5f15\u8d77\u7684StaleElementReferenceException \u5728\u505aselenium\u6d4b\u8bd5\u7684\u65f6\u5019\u6709\u65f6\u9875\u9762\u5143\u7d20\u770b\u8d77\u6765\u6ca1\u6709\u53d8\u5316\u4f46\u662f\u5176\u5b9e\u9875\u9762\u7684DOM\u7ed3\u6784\u5df2\u7ecf\u5237\u65b0\u8fc7\u4e00\u6b21\u4e86 \u5982\u4e0b\u56fe\uff1a \u53ef\u4ee5\u4ece\u9875\u9762\u7684html \u6e90\u7801\u4e2d\u770b\u5230ng-blur\u7684\u5c5e\u6027\uff0c\u6bcf\u4e00\u6b21\u586b\u5199\u7535\u8bdd\u53f7\u7801\u4e4b\u540e\u90fd\u4f1a\u89e6\u53d1\u4e00\u6b21ng-blur\u91cc\u9762\u7684\u65f6\u95f4\uff0c\u53ef\u80fd\u5c31\u4f1a\u91cd\u65b0\u5237\u65b0DOM\u7ed3\u6784\uff0c \u8fd9\u6837\u4f7f\u7528\u4e4b\u524d\u5df2\u7ecf\u627e\u8fc7\u7684\u5143\u7d20\u5c31\u53ef\u80fd\u51fa\u73b0\u5982\u4e0b\u7684Exception: Caused by: org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document \u90a3\u4e48\u5982\u4f55\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\u5462?\u4ee5\u4e0b\u662f\u5904\u7406\u7684\u65b9\u6cd5: \u5c31\u662f\u9700\u8981\u5728\u8f93\u5165\u7b2c\u4e00\u4e2a\u7535\u8bdd\u540e\u7126\u70b9\u79fb\u5f00\u5f53\u524d\u7684\u8f93\u5165\u6846\uff0c \u7136\u540e\u518d\u91cd\u65b0\u627e\u4e00\u4e0b\u7b2c\u4e8c\u4e2a\u7535\u8bdd\u6846\u5143\u7d20 \u518d\u8f93\u5165\u7535\u8bdd\u53f7\u7801\u7b2c\u4e8c\u4e2a\u7535\u8bdd\u6846 \u6269\u5c55 \u5bf9\u4e8e\u4e00\u4e9b\u64cd\u4f5c\u540e,HTML DOM\u6587\u4ef6\u6709\u53ef\u80fd\u4f1a\u91cd\u5efa,\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\u5728DOM\u91cd\u5efa\u524d\u627e\u5230\u7684WebElement\u5c31\u53ef\u80fd\u4e0d\u80fd\u7528\u4e86\u9700\u8981\u91cd\u65b0\u4f7f\u7528 findElement/findElements \u65b9\u6cd5\u67e5\u627e,\u5426\u5219\u5c31\u4f1a\u51fa\u73b0StaleElementReferenceException\u7684\u9519\u8bef: Caused by: org.openqa.selenium.StaleElementReferenceException: stale element reference: \u8981\u89e3\u51b3\u8fd9\u6837\u7684\u95ee\u9898,\u4e00\u822c\u90fd\u9700\u8981\u901a\u8fc7\u91cd\u65b0\u67e5\u627e\u5143\u7d20\u624d\u80fd\u89e3\u51b3","title":"StateElementReferneceException"},{"location":"tips/StateElementReferneceException/#angular-js-ng-blur-eventstaleelementreferenceexception","text":"\u5728\u505aselenium\u6d4b\u8bd5\u7684\u65f6\u5019\u6709\u65f6\u9875\u9762\u5143\u7d20\u770b\u8d77\u6765\u6ca1\u6709\u53d8\u5316\u4f46\u662f\u5176\u5b9e\u9875\u9762\u7684DOM\u7ed3\u6784\u5df2\u7ecf\u5237\u65b0\u8fc7\u4e00\u6b21\u4e86 \u5982\u4e0b\u56fe\uff1a \u53ef\u4ee5\u4ece\u9875\u9762\u7684html \u6e90\u7801\u4e2d\u770b\u5230ng-blur\u7684\u5c5e\u6027\uff0c\u6bcf\u4e00\u6b21\u586b\u5199\u7535\u8bdd\u53f7\u7801\u4e4b\u540e\u90fd\u4f1a\u89e6\u53d1\u4e00\u6b21ng-blur\u91cc\u9762\u7684\u65f6\u95f4\uff0c\u53ef\u80fd\u5c31\u4f1a\u91cd\u65b0\u5237\u65b0DOM\u7ed3\u6784\uff0c \u8fd9\u6837\u4f7f\u7528\u4e4b\u524d\u5df2\u7ecf\u627e\u8fc7\u7684\u5143\u7d20\u5c31\u53ef\u80fd\u51fa\u73b0\u5982\u4e0b\u7684Exception: Caused by: org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document \u90a3\u4e48\u5982\u4f55\u5904\u7406\u8fd9\u79cd\u60c5\u51b5\u5462?\u4ee5\u4e0b\u662f\u5904\u7406\u7684\u65b9\u6cd5: \u5c31\u662f\u9700\u8981\u5728\u8f93\u5165\u7b2c\u4e00\u4e2a\u7535\u8bdd\u540e\u7126\u70b9\u79fb\u5f00\u5f53\u524d\u7684\u8f93\u5165\u6846\uff0c \u7136\u540e\u518d\u91cd\u65b0\u627e\u4e00\u4e0b\u7b2c\u4e8c\u4e2a\u7535\u8bdd\u6846\u5143\u7d20 \u518d\u8f93\u5165\u7535\u8bdd\u53f7\u7801\u7b2c\u4e8c\u4e2a\u7535\u8bdd\u6846","title":"angular js ng-blur event\u5f15\u8d77\u7684StaleElementReferenceException"},{"location":"tips/StateElementReferneceException/#_1","text":"\u5bf9\u4e8e\u4e00\u4e9b\u64cd\u4f5c\u540e,HTML DOM\u6587\u4ef6\u6709\u53ef\u80fd\u4f1a\u91cd\u5efa,\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\u5728DOM\u91cd\u5efa\u524d\u627e\u5230\u7684WebElement\u5c31\u53ef\u80fd\u4e0d\u80fd\u7528\u4e86\u9700\u8981\u91cd\u65b0\u4f7f\u7528 findElement/findElements \u65b9\u6cd5\u67e5\u627e,\u5426\u5219\u5c31\u4f1a\u51fa\u73b0StaleElementReferenceException\u7684\u9519\u8bef: Caused by: org.openqa.selenium.StaleElementReferenceException: stale element reference: \u8981\u89e3\u51b3\u8fd9\u6837\u7684\u95ee\u9898,\u4e00\u822c\u90fd\u9700\u8981\u901a\u8fc7\u91cd\u65b0\u67e5\u627e\u5143\u7d20\u624d\u80fd\u89e3\u51b3","title":"\u6269\u5c55"},{"location":"tips/TreeElement/","text":"TreeElement \u4f7f\u7528 TreeElement\u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684Html\u5143\u7d20,\u4e3b\u8981\u7528\u6765\u7b80\u5316\u7ec4\u7ec7\u67b6\u6784\u7684\u9009\u62e9.\u4e00\u822c\u7ec4\u7ec7\u67b6\u6784\u9009\u62e9\u5982\u4e0b\u56fe: TreeElement\u7684\u9ed8\u8ba4\u65b9\u6cd5\u662fselect\u65b9\u6cd5,\u53c2\u6570\u662f\u7ec4\u7ec7\u67b6\u6784\u6811\u7684\u5404\u4e2a\u5c42\u7ea7\u7684id TreeElement \u5982\u4f55\u4f7f\u7528 \u5143\u7d20\u5b9a\u4f4d: \u4f7f\u7528\u6700\u5916\u5c42\u7684div\u6765\u5b9a\u4f4d: @FindBy(xpath = \"//*[@id='treeWrap']\") @ElementName(elementName = \"\u653e\u7f6e\u5730\u70b9\u7ec4\u7ec7\u67b6\u6784\") private TreeElement locationOrgIds; \u6d4b\u8bd5\u6570\u636e \u6d4b\u8bd5\u6570\u636e\u662f\u6240\u9009\u62e9\u7ec4\u7ec7\u5728\u9875\u9762\u4e2d\u9700\u8981\u9009\u62e9\u7684\u5404\u4e2a\u7ec4\u7ec7\u7684id private String locationOrgIds=\"20495-22-20638-21933-20438-21962\"; \u5728\u6d4b\u8bd5\u6d41\u7a0b\u4e2d\u6b64\u5143\u7d20\u4e0d\u9700\u8981\u7279\u6b8a\u7684\u5b9a\u4e49","title":"TreeElement \u4f7f\u7528"},{"location":"tips/TreeElement/#treeelement","text":"TreeElement\u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684Html\u5143\u7d20,\u4e3b\u8981\u7528\u6765\u7b80\u5316\u7ec4\u7ec7\u67b6\u6784\u7684\u9009\u62e9.\u4e00\u822c\u7ec4\u7ec7\u67b6\u6784\u9009\u62e9\u5982\u4e0b\u56fe: TreeElement\u7684\u9ed8\u8ba4\u65b9\u6cd5\u662fselect\u65b9\u6cd5,\u53c2\u6570\u662f\u7ec4\u7ec7\u67b6\u6784\u6811\u7684\u5404\u4e2a\u5c42\u7ea7\u7684id","title":"TreeElement \u4f7f\u7528"},{"location":"tips/TreeElement/#treeelement_1","text":"\u5143\u7d20\u5b9a\u4f4d: \u4f7f\u7528\u6700\u5916\u5c42\u7684div\u6765\u5b9a\u4f4d: @FindBy(xpath = \"//*[@id='treeWrap']\") @ElementName(elementName = \"\u653e\u7f6e\u5730\u70b9\u7ec4\u7ec7\u67b6\u6784\") private TreeElement locationOrgIds; \u6d4b\u8bd5\u6570\u636e \u6d4b\u8bd5\u6570\u636e\u662f\u6240\u9009\u62e9\u7ec4\u7ec7\u5728\u9875\u9762\u4e2d\u9700\u8981\u9009\u62e9\u7684\u5404\u4e2a\u7ec4\u7ec7\u7684id private String locationOrgIds=\"20495-22-20638-21933-20438-21962\"; \u5728\u6d4b\u8bd5\u6d41\u7a0b\u4e2d\u6b64\u5143\u7d20\u4e0d\u9700\u8981\u7279\u6b8a\u7684\u5b9a\u4e49","title":"TreeElement \u5982\u4f55\u4f7f\u7528"},{"location":"tips/WebDriverHelper/","text":"WebDriverHelper WebDriverHelper\u662f\u7528\u6765\u64cd\u4f5cWebElment\u7684\u4e00\u4e2a\u5de5\u5177\u7c7b\uff0c\u64cd\u4f5cWebElement\u90fd\u662f\u7528\u4e86Expectations\u6765\u5904\u7406\uff0c Expectations\u7684\u4f5c\u7528\u662f\u5982\u679c\u5143\u7d20\u4e0d\u53ef\u4ee5\u64cd\u4f5c\u7684\u65f6\u5019,\u90fd\u4f1a\u81ea\u52a8\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4( TIMEOUT )\u76f4\u5230\u5143\u7d20\u53ef\u4ee5\u64cd\u4f5c\u4e3a\u6b62,\u4ee5\u4e0b\u662fExpectations\u7684\u5b9e\u4f8b\u4ee3\u7801\uff1a public static WebDriverWait getDefaultWait(WebDriver driver) { WebDriverWait wait = new WebDriverWait(driver, TIMEOUTINSECONDS, POLLING_INTERVAL); wait.ignoring(WebDriverException.class); return wait; } public static boolean click(WebDriver driver,WebElement element){ try{ getDefaultWait(driver).until(elementToBeClickable(element)).click(); return true; }catch (WebDriverException e){ return false; } } \u901a\u8fc7\u4f7f\u7528wait\u5bf9\u8c61\u6765\u8fdb\u884c\u7b49\u5f85\uff0c\u77e5\u9053\u5143\u7d20\u53ef\u4ee5\u64cd\u4f5c\u624d\u8fdb\u884c\u64cd\u4f5c\uff0c\u5982\u679c\u5143\u7d20\u592a\u957f\u65f6\u95f4\u4e0d\u51fa\u73b0\uff0c\u5c31\u662f\u4f7f\u7528\u8d85\u65f6\u6765\u629b\u51fa\u5f02\u5e38. WebDriverHelper \u5e38\u7528\u7684\u4e00\u4e9b\u51fd\u6570 \u51fd\u6570 \u4f5c\u7528 click \u70b9\u51fb\u4e8b\u4ef6 input \u8f93\u5165\u65f6\u95f4 handleAlert \u5904\u7406\u5f39\u51fa\u6846\uff0c\u53ef\u4ee5\u786e\u8ba4\uff0c\u4e5f\u53ef\u4ee5\u653e\u5f03\uff0c\u7531\u53c2\u6570handler\u63a7\u5236 simulateMouseOver \u6a21\u62dfmouseOver\u4e8b\u4ef6 swithTab \u5207\u6362tab\u5230\u5f53\u4e14tab closeTab \u5173\u95ed\u5f53\u524dtab\uff0c\u540c\u65f6\u5207\u6362\u56de\u4e4b\u524d\u64cd\u4f5c\u7684tab closeTabByTitle \u6839\u636etab\u7684title\u5173\u95edtab hover \u6a21\u62dfhover\u4e8b\u4ef6 scrollToBottom \u6eda\u52a8\u5230\u5e95\u90e8 scrollToTop \u6eda\u52a8\u5230\u9876\u90e8 \u6709\u66f4\u8be6\u7ec6\u7684\u64cd\u4f5c\u53ef\u4ee5\u53c2\u8003\u6e90\u7801,\u6216\u8005\u67e5\u770b\u65b9\u6cd5\u540d","title":"\u6dfb\u52a0\u4e86Expectation\u7684WebDriver\u64cd\u4f5c"},{"location":"tips/WebDriverHelper/#webdriverhelper","text":"WebDriverHelper\u662f\u7528\u6765\u64cd\u4f5cWebElment\u7684\u4e00\u4e2a\u5de5\u5177\u7c7b\uff0c\u64cd\u4f5cWebElement\u90fd\u662f\u7528\u4e86Expectations\u6765\u5904\u7406\uff0c Expectations\u7684\u4f5c\u7528\u662f\u5982\u679c\u5143\u7d20\u4e0d\u53ef\u4ee5\u64cd\u4f5c\u7684\u65f6\u5019,\u90fd\u4f1a\u81ea\u52a8\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4( TIMEOUT )\u76f4\u5230\u5143\u7d20\u53ef\u4ee5\u64cd\u4f5c\u4e3a\u6b62,\u4ee5\u4e0b\u662fExpectations\u7684\u5b9e\u4f8b\u4ee3\u7801\uff1a public static WebDriverWait getDefaultWait(WebDriver driver) { WebDriverWait wait = new WebDriverWait(driver, TIMEOUTINSECONDS, POLLING_INTERVAL); wait.ignoring(WebDriverException.class); return wait; } public static boolean click(WebDriver driver,WebElement element){ try{ getDefaultWait(driver).until(elementToBeClickable(element)).click(); return true; }catch (WebDriverException e){ return false; } } \u901a\u8fc7\u4f7f\u7528wait\u5bf9\u8c61\u6765\u8fdb\u884c\u7b49\u5f85\uff0c\u77e5\u9053\u5143\u7d20\u53ef\u4ee5\u64cd\u4f5c\u624d\u8fdb\u884c\u64cd\u4f5c\uff0c\u5982\u679c\u5143\u7d20\u592a\u957f\u65f6\u95f4\u4e0d\u51fa\u73b0\uff0c\u5c31\u662f\u4f7f\u7528\u8d85\u65f6\u6765\u629b\u51fa\u5f02\u5e38.","title":"WebDriverHelper"},{"location":"tips/WebDriverHelper/#webdriverhelper_1","text":"\u51fd\u6570 \u4f5c\u7528 click \u70b9\u51fb\u4e8b\u4ef6 input \u8f93\u5165\u65f6\u95f4 handleAlert \u5904\u7406\u5f39\u51fa\u6846\uff0c\u53ef\u4ee5\u786e\u8ba4\uff0c\u4e5f\u53ef\u4ee5\u653e\u5f03\uff0c\u7531\u53c2\u6570handler\u63a7\u5236 simulateMouseOver \u6a21\u62dfmouseOver\u4e8b\u4ef6 swithTab \u5207\u6362tab\u5230\u5f53\u4e14tab closeTab \u5173\u95ed\u5f53\u524dtab\uff0c\u540c\u65f6\u5207\u6362\u56de\u4e4b\u524d\u64cd\u4f5c\u7684tab closeTabByTitle \u6839\u636etab\u7684title\u5173\u95edtab hover \u6a21\u62dfhover\u4e8b\u4ef6 scrollToBottom \u6eda\u52a8\u5230\u5e95\u90e8 scrollToTop \u6eda\u52a8\u5230\u9876\u90e8 \u6709\u66f4\u8be6\u7ec6\u7684\u64cd\u4f5c\u53ef\u4ee5\u53c2\u8003\u6e90\u7801,\u6216\u8005\u67e5\u770b\u65b9\u6cd5\u540d","title":"WebDriverHelper \u5e38\u7528\u7684\u4e00\u4e9b\u51fd\u6570"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/","text":"WebDriver\u81ea\u5b9a\u4e49\u64cd\u4f5c: \u6253\u5f00\u7f51\u9875 WebDriver driver = new ChromeDriver(); driver.get(String url) driver.get(\"http://www.w3school.com.cn/\") \u67e5\u627eWeb\u5143\u7d20 WebElement element = driver.findElement(By.id(\"password\")); List<WebElement> elements = driver.findElements(By.id(\"password\")); \u8f93\u5165\u6846\u64cd\u4f5c //\u627e\u5230\u8f93\u5165\u6846\u5143\u7d20 WebElement element = driver.findElement(By.id(\"password\")); //\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u5185\u5bb9\uff1a element.sendKeys(\"123456\"); //\u5c06\u8f93\u5165\u6846\u6e05\u7a7a\uff1a element.clear(); //\u83b7\u53d6\u8f93\u5165\u6846\u7684\u6587\u672c\u5185\u5bb9\uff1a element.getText(); \u4e0b\u62c9\u6846\u64cd\u4f5c select.selectByIndex(int num) num---\u9009\u9879\u5bf9\u5e94\u7684\u7d22\u5f15\u503c select.selectByValue(String str) str---\u9009\u9879\u5bf9\u5e94\u7684value\u5c5e\u6027\u503c select.selectByVisibleText(String str) str---\u9009\u9879\u503c \u4f8b\u5982: //\u627e\u5230\u4e0b\u62c9\u9009\u62e9\u6846\u7684\u5143\u7d20\uff1a Select select = new Select(driver.findElement(By.id(\"select\"))); //\u9009\u62e9\u5bf9\u5e94\u7684\u9009\u62e9\u9879\uff1a select.selectByVisibleText(\"mediaAgencyA\"); //\u6216 select.selectByValue(\"MA_ID_001\"); //\u4e0d\u9009\u62e9\u5bf9\u5e94\u7684\u9009\u62e9\u9879\uff1a select.deselectAll(); select.deselectByValue(\"MA_ID_001\"); select.deselectByVisibleText(\"mediaAgencyA\"); //\u6216\u8005\u83b7\u53d6\u9009\u62e9\u9879\u7684\u503c\uff1a select.getAllSelectedOptions(); select.getFirstSelectedOption(); \u5355\u9009\u9879(Radio Button)\u64cd\u4f5c //\u627e\u5230\u5355\u9009\u6846\u5143\u7d20\uff1a WebElement bookMode =driver.findElement(By.id(\"BookMode\")); //\u9009\u62e9\u67d0\u4e2a\u5355\u9009\u9879\uff1a bookMode.click(); //\u6e05\u7a7a\u67d0\u4e2a\u5355\u9009\u9879\uff1a bookMode.clear(); //\u5224\u65ad\u67d0\u4e2a\u5355\u9009\u9879\u662f\u5426\u5df2\u7ecf\u88ab\u9009\u62e9\uff1a bookMode.isSelected(); \u591a\u9009\u9879(checkbox)\u64cd\u4f5c \u591a\u9009\u9879\u7684\u64cd\u4f5c\u548c\u5355\u9009\u7684\u5dee\u4e0d\u591a,\u4f8b\u5982\uff1a WebElement checkbox =driver.findElement(By.id(\"myCheckbox\")); checkbox.click(); checkbox.clear(); checkbox.isSelected(); checkbox.isEnabled(); \u6309\u94ae(button)\u64cd\u4f5c //\u627e\u5230\u6309\u94ae\u5143\u7d20 WebElement saveButton = driver.findElement(By.id(\"save\")); //\u70b9\u51fb\u6309\u94ae saveButton.click(); //\u5224\u65ad\u6309\u94ae\u662f\u5426enable saveButton.isEnabled (); \u6d4f\u89c8\u5668\u884c\u4e3a\u6a21\u62df driver.navigate().back() //\u8be5\u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u6a21\u62df\u5355\u51fb\u6d4f\u89c8\u5668\u7684\u540e\u9000\u6309\u94ae\u3002 driver.navigate().forward() // \u8be5\u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u5237\u65b0\u5f53\u524d\u9875\u9762 driver.navigate(). refresh() WebDriver \u9000\u51fa // \u8be5\u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u6a21\u62df\u7528\u6237\u5355\u51fb\u6d4f\u89c8\u5668\u7a97\u53e3\u4e0a\u6216\u8005\u6807\u7b7e\u7684\u5173\u95ed\u6309\u94ae\u3002 driver.close() //\u9000\u51fadriver,\u5e76\u5173\u95ed\u6240\u6709\u76f8\u5173\u7684\u7a97\u53e3 driver.quit() \u7ec4\u5408\u52a8\u4f5c\u7684\u5b9e\u73b0 Actions action = new Actions(driver); action.doubleClick(element); action.perform(); \u8bbe\u7f6eWebDriver\u7684\u5ef6\u65f6 driver.manage().timeouts().implicitlyWait(long time, TimeUnit unit); \u65b9\u6cd5\u4f5c\u7528\uff1a\u56e0\u4e3aLoad\u9875\u9762\u9700\u8981\u4e00\u6bb5\u65f6\u95f4\uff0c\u5982\u679c\u9875\u9762\u8fd8\u6ca1\u52a0\u8f7d\u5b8c\u5c31\u67e5\u627e\u5143\u7d20\u4e0d\u4e00\u5b9a\u80fd\u67e5\u627e\u5230\u5143\u7d20,\u6240\u4ee5\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4 \u8fd9\u4e2a\u7b49\u5f85\u65f6\u95f4\u53ea\u662f\u7528\u5728findElement/findElements\u4e0a\u9762 \u53c2\u6570\uff1a time---\u7b49\u5f85\u65f6\u95f4 unit ---\u65f6\u95f4\u5355\u4f4d driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS); \u5173\u4e8ewait,\u8fd9\u7247\u6587\u7ae0\u4e0d\u9519 implicit-waits-explicit-waits \u4e8b\u5b9e\u4e0a\u5982\u679c\u671f\u671b\u4f7f\u7528implicitlyWait\u89e3\u51b3\u6240\u6709\u7684timing\u7684\u95ee\u9898\u662f\u505a\u4e0d\u5230\u7684(\u671f\u671b\u4e00\u4e2a\u65b9\u6cd5\u5904\u7406\u6709\u7684\u95ee\u9898\u6ca1\u6709\u505a\u7684\u5230\u65b9\u6cd5) ,\u6548\u7387\u4e5f\u4e0d\u9ad8,\u800c\u4f7f\u7528WebDriver\u7684FluentAPI(Expectation)\u80fd\u591f\u6839\u636e\u4e0d\u540c\u7684\u573a\u666f\u5904\u7406. \u63d0\u4ea4\u8868\u5355 element.submit() \u65b9\u6cd5\u4f5c\u7528\uff1a\u63d0\u4ea4\u4e00\u4e2a\u6307\u5b9a\u7684\u8868\u5355\uff0c\u9002\u7528\u4e8e\u6ca1\u6709\u63d0\u4ea4\u6309\u94ae\u7684\u8868\u5355\u3002 \u6d4f\u89c8\u5668\u591a\u7a97\u53e3\u5904\u7406 \u5728\u8fdb\u884cWeb\u6d4b\u8bd5\u65f6\uff0c\u8fd8\u4f1a\u5f39\u51fa\u4e00\u4e9b\u5b50\u7a97\u53e3\uff0c\u5e76\u4e14\u5728\u591a\u4e2a\u7a97\u53e3\u4e4b\u95f4\u8fdb\u884c\u5207\u6362\u64cd\u4f5c\u3002 //\u5f53\u8fdb\u884c\u4e86\u67d0\u4e2a\u64cd\u4f5c\uff0c\u5c06\u4f1a\u6709\u65b0\u7a97\u53e3\u5f39\u51fa\u65f6\uff0c\u5982\u679c\u8981\u5230\u65b0\u5f00\u7684\u9875\u9762\u4e0a\u8fdb\u884c\u64cd\u4f5c\uff0c\u9700\u8981\u5207\u6362\u5230\u65b0\u7a97\u53e3\u3002 //Switch to new window opened for(String winHandle : driver.getWindowHandles()){ System. out.println( \"+++\" + winHandle); driver.switchTo().window(winHandle); } // WindowHandles\u53ef\u4ee5\u8ba4\u4e3a\u662f\u6bcf\u4e2a\u7a97\u53e3\u7684\u6807\u793a \u5177\u4f53\u7684\u4f7f\u7528\u53ef\u4ee5\u53c2\u8003WebDriverHelper[WebDriverHelper.md]\u91cc\u9762\u7684switchTab,closeTab\u7684\u5b9e\u73b0 Frames\u4e4b\u95f4\u7684\u5207\u6362 \u6709\u65f6\u5019,\u5207\u6362\u524d\u6700\u597d\u5148\u6267\u884c\uff1a driver.switchTo().defaultContent(); \u5207\u6362(\u7b2c\u4e00\u6b21)\u5230\u67d0\u4e2aframe\uff1a driver.switchTo().frame(\"leftFrame\"); \u4ece\u4e00\u4e2aframe\u5207\u6362(\u7b2c\u4e8c\u6b21)\u5230\u53e6\u4e00\u4e2aframe\uff1a driver.switchTo().defaultContent(); driver.switchTo().frame(\"mainFrame\"); \u6bd4\u5982,\u5728\u5bcc\u6587\u672c\u6846\u91cc\u8f93\u5165\u6587\u672c,\u7136\u540e\u63d0\u4ea4 //\u6839\u636eiframe id driver.switchTo().frame( \"ueditor_0\"); //\u6293\u53d6\u5143\u7d20\u7c7b driver.findElement(By. xpath(\"//body[@class='view']\")).sendKeys( \"\u6d4b\u8bd5\u524d\u53f0\u53cd\u9988\u8f93\u5165 test input\" ); //\u5207\u6362\u5230\u9ed8\u8ba4\u7684frame driver.switchTo().defaultContent(); driver.findElement(By. xpath(\"//input[@value='\u63d0\u4ea4']\")).click(); \u64cd\u4f5c\u5bf9\u8bdd\u6846 Alert alert = driver.switchTo().alert(); alert.accept() --- \u786e\u5b9a alert.dismiss() --- \u53d6\u6d88 alert.getText() --- \u63d0\u793a\u4fe1\u606f \u4e0a\u4f20\u6587\u4ef6 WebElement adFileUpload = driver.findElement(By.id(\"WAP-upload\")); String filePath = \"C:\\\\test\\\\uploadfile\\\\media_ads\\\\test.jpg\"; adFileUpload.sendKeys(filePath); \u6216\u8005 setClipboardData(\"E:\\\\autotest\\\\hw.jpg\"); driver.findElement(By.name(\"goods_img\")).click(); try { Thread.sleep(1000); } catch (InterruptedException e) { // TODO Auto-generated catch block e.printStackTrace(); } // uploadFile(robot); \u7528\u6765\u8bbe\u7f6e\u526a\u8d34\u677f\u4e0a\u7684\u6570\u636e \u4ee5\u4e0b\u5b9e\u9645\u4e0a\u548cSelenium\u65e0\u5173,\u4e3b\u8981\u8c03\u7528java awt \u91cc\u9762\u7684api\u6765\u505a\u7cfb\u7edf\u5c42\u7684\u64cd\u4f5c,\u4e0d\u8fc7\u5b9e\u9645\u7684\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u501f\u9274\u6765\u89e3\u51b3 \u5f88\u591a\u4e0d\u597d\u89e3\u51b3\u7684\u64cd\u4f5c public void setClipboardData(String string) { StringSelection stringSelection = new StringSelection(string); Toolkit.getDefaultToolkit().getSystemClipboard() .setContents(stringSelection, null); } \u8be5\u65b9\u6cd5\u7528\u6765\u4e0a\u4f20\u9644\u4ef6 public void uploadFile(Robot robot) { robot.keyPress(KeyEvent.VK_CONTROL); robot.keyPress(KeyEvent.VK_V); robot.keyRelease(KeyEvent.VK_V); robot.keyRelease(KeyEvent.VK_CONTROL); robot.keyPress(KeyEvent.VK_ENTER); robot.keyRelease(KeyEvent.VK_ENTER); } \u4e0d\u901a\u8fc7WebDriver\u6765\u6253\u5f00\u67d0\u4e2a\u6d4f\u89c8\u5668 java.awt.Desktop dp = java.awt.Desktop.getDesktop(); // \u5224\u65ad\u7cfb\u7edf\u684c\u9762\u662f\u5426\u652f\u6301\u8981\u6267\u884c\u7684\u529f\u80fd if (dp.isSupported(java.awt.Desktop.Action.BROWSE)) { // \u83b7\u53d6\u7cfb\u7edf\u9ed8\u8ba4\u6d4f\u89c8\u5668\u6253\u5f00\u94fe\u63a5 dp.browse(uri); }","title":"WebDriver\u539f\u751f\u64cd\u4f5c"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#webdriver","text":"","title":"WebDriver\u81ea\u5b9a\u4e49\u64cd\u4f5c:"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#_1","text":"WebDriver driver = new ChromeDriver(); driver.get(String url) driver.get(\"http://www.w3school.com.cn/\")","title":"\u6253\u5f00\u7f51\u9875"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#web","text":"WebElement element = driver.findElement(By.id(\"password\")); List<WebElement> elements = driver.findElements(By.id(\"password\"));","title":"\u67e5\u627eWeb\u5143\u7d20"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#_2","text":"//\u627e\u5230\u8f93\u5165\u6846\u5143\u7d20 WebElement element = driver.findElement(By.id(\"password\")); //\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u5185\u5bb9\uff1a element.sendKeys(\"123456\"); //\u5c06\u8f93\u5165\u6846\u6e05\u7a7a\uff1a element.clear(); //\u83b7\u53d6\u8f93\u5165\u6846\u7684\u6587\u672c\u5185\u5bb9\uff1a element.getText();","title":"\u8f93\u5165\u6846\u64cd\u4f5c"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#_3","text":"select.selectByIndex(int num) num---\u9009\u9879\u5bf9\u5e94\u7684\u7d22\u5f15\u503c select.selectByValue(String str) str---\u9009\u9879\u5bf9\u5e94\u7684value\u5c5e\u6027\u503c select.selectByVisibleText(String str) str---\u9009\u9879\u503c \u4f8b\u5982: //\u627e\u5230\u4e0b\u62c9\u9009\u62e9\u6846\u7684\u5143\u7d20\uff1a Select select = new Select(driver.findElement(By.id(\"select\"))); //\u9009\u62e9\u5bf9\u5e94\u7684\u9009\u62e9\u9879\uff1a select.selectByVisibleText(\"mediaAgencyA\"); //\u6216 select.selectByValue(\"MA_ID_001\"); //\u4e0d\u9009\u62e9\u5bf9\u5e94\u7684\u9009\u62e9\u9879\uff1a select.deselectAll(); select.deselectByValue(\"MA_ID_001\"); select.deselectByVisibleText(\"mediaAgencyA\"); //\u6216\u8005\u83b7\u53d6\u9009\u62e9\u9879\u7684\u503c\uff1a select.getAllSelectedOptions(); select.getFirstSelectedOption();","title":"\u4e0b\u62c9\u6846\u64cd\u4f5c"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#radio-button","text":"//\u627e\u5230\u5355\u9009\u6846\u5143\u7d20\uff1a WebElement bookMode =driver.findElement(By.id(\"BookMode\")); //\u9009\u62e9\u67d0\u4e2a\u5355\u9009\u9879\uff1a bookMode.click(); //\u6e05\u7a7a\u67d0\u4e2a\u5355\u9009\u9879\uff1a bookMode.clear(); //\u5224\u65ad\u67d0\u4e2a\u5355\u9009\u9879\u662f\u5426\u5df2\u7ecf\u88ab\u9009\u62e9\uff1a bookMode.isSelected();","title":"\u5355\u9009\u9879(Radio Button)\u64cd\u4f5c"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#checkbox","text":"\u591a\u9009\u9879\u7684\u64cd\u4f5c\u548c\u5355\u9009\u7684\u5dee\u4e0d\u591a,\u4f8b\u5982\uff1a WebElement checkbox =driver.findElement(By.id(\"myCheckbox\")); checkbox.click(); checkbox.clear(); checkbox.isSelected(); checkbox.isEnabled();","title":"\u591a\u9009\u9879(checkbox)\u64cd\u4f5c"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#button","text":"//\u627e\u5230\u6309\u94ae\u5143\u7d20 WebElement saveButton = driver.findElement(By.id(\"save\")); //\u70b9\u51fb\u6309\u94ae saveButton.click(); //\u5224\u65ad\u6309\u94ae\u662f\u5426enable saveButton.isEnabled ();","title":"\u6309\u94ae(button)\u64cd\u4f5c"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#_4","text":"driver.navigate().back() //\u8be5\u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u6a21\u62df\u5355\u51fb\u6d4f\u89c8\u5668\u7684\u540e\u9000\u6309\u94ae\u3002 driver.navigate().forward() // \u8be5\u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u5237\u65b0\u5f53\u524d\u9875\u9762 driver.navigate(). refresh()","title":"\u6d4f\u89c8\u5668\u884c\u4e3a\u6a21\u62df"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#webdriver_1","text":"// \u8be5\u65b9\u6cd5\u7684\u4f5c\u7528\u662f\u6a21\u62df\u7528\u6237\u5355\u51fb\u6d4f\u89c8\u5668\u7a97\u53e3\u4e0a\u6216\u8005\u6807\u7b7e\u7684\u5173\u95ed\u6309\u94ae\u3002 driver.close() //\u9000\u51fadriver,\u5e76\u5173\u95ed\u6240\u6709\u76f8\u5173\u7684\u7a97\u53e3 driver.quit()","title":"WebDriver \u9000\u51fa"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#_5","text":"Actions action = new Actions(driver); action.doubleClick(element); action.perform();","title":"\u7ec4\u5408\u52a8\u4f5c\u7684\u5b9e\u73b0"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#webdriver_2","text":"driver.manage().timeouts().implicitlyWait(long time, TimeUnit unit); \u65b9\u6cd5\u4f5c\u7528\uff1a\u56e0\u4e3aLoad\u9875\u9762\u9700\u8981\u4e00\u6bb5\u65f6\u95f4\uff0c\u5982\u679c\u9875\u9762\u8fd8\u6ca1\u52a0\u8f7d\u5b8c\u5c31\u67e5\u627e\u5143\u7d20\u4e0d\u4e00\u5b9a\u80fd\u67e5\u627e\u5230\u5143\u7d20,\u6240\u4ee5\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4 \u8fd9\u4e2a\u7b49\u5f85\u65f6\u95f4\u53ea\u662f\u7528\u5728findElement/findElements\u4e0a\u9762 \u53c2\u6570\uff1a time---\u7b49\u5f85\u65f6\u95f4 unit ---\u65f6\u95f4\u5355\u4f4d driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS); \u5173\u4e8ewait,\u8fd9\u7247\u6587\u7ae0\u4e0d\u9519 implicit-waits-explicit-waits \u4e8b\u5b9e\u4e0a\u5982\u679c\u671f\u671b\u4f7f\u7528implicitlyWait\u89e3\u51b3\u6240\u6709\u7684timing\u7684\u95ee\u9898\u662f\u505a\u4e0d\u5230\u7684(\u671f\u671b\u4e00\u4e2a\u65b9\u6cd5\u5904\u7406\u6709\u7684\u95ee\u9898\u6ca1\u6709\u505a\u7684\u5230\u65b9\u6cd5) ,\u6548\u7387\u4e5f\u4e0d\u9ad8,\u800c\u4f7f\u7528WebDriver\u7684FluentAPI(Expectation)\u80fd\u591f\u6839\u636e\u4e0d\u540c\u7684\u573a\u666f\u5904\u7406.","title":"\u8bbe\u7f6eWebDriver\u7684\u5ef6\u65f6"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#_6","text":"element.submit() \u65b9\u6cd5\u4f5c\u7528\uff1a\u63d0\u4ea4\u4e00\u4e2a\u6307\u5b9a\u7684\u8868\u5355\uff0c\u9002\u7528\u4e8e\u6ca1\u6709\u63d0\u4ea4\u6309\u94ae\u7684\u8868\u5355\u3002","title":"\u63d0\u4ea4\u8868\u5355"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#_7","text":"\u5728\u8fdb\u884cWeb\u6d4b\u8bd5\u65f6\uff0c\u8fd8\u4f1a\u5f39\u51fa\u4e00\u4e9b\u5b50\u7a97\u53e3\uff0c\u5e76\u4e14\u5728\u591a\u4e2a\u7a97\u53e3\u4e4b\u95f4\u8fdb\u884c\u5207\u6362\u64cd\u4f5c\u3002 //\u5f53\u8fdb\u884c\u4e86\u67d0\u4e2a\u64cd\u4f5c\uff0c\u5c06\u4f1a\u6709\u65b0\u7a97\u53e3\u5f39\u51fa\u65f6\uff0c\u5982\u679c\u8981\u5230\u65b0\u5f00\u7684\u9875\u9762\u4e0a\u8fdb\u884c\u64cd\u4f5c\uff0c\u9700\u8981\u5207\u6362\u5230\u65b0\u7a97\u53e3\u3002 //Switch to new window opened for(String winHandle : driver.getWindowHandles()){ System. out.println( \"+++\" + winHandle); driver.switchTo().window(winHandle); } // WindowHandles\u53ef\u4ee5\u8ba4\u4e3a\u662f\u6bcf\u4e2a\u7a97\u53e3\u7684\u6807\u793a \u5177\u4f53\u7684\u4f7f\u7528\u53ef\u4ee5\u53c2\u8003WebDriverHelper[WebDriverHelper.md]\u91cc\u9762\u7684switchTab,closeTab\u7684\u5b9e\u73b0","title":"\u6d4f\u89c8\u5668\u591a\u7a97\u53e3\u5904\u7406"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#frames","text":"\u6709\u65f6\u5019,\u5207\u6362\u524d\u6700\u597d\u5148\u6267\u884c\uff1a driver.switchTo().defaultContent(); \u5207\u6362(\u7b2c\u4e00\u6b21)\u5230\u67d0\u4e2aframe\uff1a driver.switchTo().frame(\"leftFrame\"); \u4ece\u4e00\u4e2aframe\u5207\u6362(\u7b2c\u4e8c\u6b21)\u5230\u53e6\u4e00\u4e2aframe\uff1a driver.switchTo().defaultContent(); driver.switchTo().frame(\"mainFrame\"); \u6bd4\u5982,\u5728\u5bcc\u6587\u672c\u6846\u91cc\u8f93\u5165\u6587\u672c,\u7136\u540e\u63d0\u4ea4 //\u6839\u636eiframe id driver.switchTo().frame( \"ueditor_0\"); //\u6293\u53d6\u5143\u7d20\u7c7b driver.findElement(By. xpath(\"//body[@class='view']\")).sendKeys( \"\u6d4b\u8bd5\u524d\u53f0\u53cd\u9988\u8f93\u5165 test input\" ); //\u5207\u6362\u5230\u9ed8\u8ba4\u7684frame driver.switchTo().defaultContent(); driver.findElement(By. xpath(\"//input[@value='\u63d0\u4ea4']\")).click();","title":"Frames\u4e4b\u95f4\u7684\u5207\u6362"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#_8","text":"Alert alert = driver.switchTo().alert(); alert.accept() --- \u786e\u5b9a alert.dismiss() --- \u53d6\u6d88 alert.getText() --- \u63d0\u793a\u4fe1\u606f","title":"\u64cd\u4f5c\u5bf9\u8bdd\u6846"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#_9","text":"WebElement adFileUpload = driver.findElement(By.id(\"WAP-upload\")); String filePath = \"C:\\\\test\\\\uploadfile\\\\media_ads\\\\test.jpg\"; adFileUpload.sendKeys(filePath); \u6216\u8005 setClipboardData(\"E:\\\\autotest\\\\hw.jpg\"); driver.findElement(By.name(\"goods_img\")).click(); try { Thread.sleep(1000); } catch (InterruptedException e) { // TODO Auto-generated catch block e.printStackTrace(); } // uploadFile(robot);","title":"\u4e0a\u4f20\u6587\u4ef6"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#_10","text":"\u4ee5\u4e0b\u5b9e\u9645\u4e0a\u548cSelenium\u65e0\u5173,\u4e3b\u8981\u8c03\u7528java awt \u91cc\u9762\u7684api\u6765\u505a\u7cfb\u7edf\u5c42\u7684\u64cd\u4f5c,\u4e0d\u8fc7\u5b9e\u9645\u7684\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u501f\u9274\u6765\u89e3\u51b3 \u5f88\u591a\u4e0d\u597d\u89e3\u51b3\u7684\u64cd\u4f5c public void setClipboardData(String string) { StringSelection stringSelection = new StringSelection(string); Toolkit.getDefaultToolkit().getSystemClipboard() .setContents(stringSelection, null); } \u8be5\u65b9\u6cd5\u7528\u6765\u4e0a\u4f20\u9644\u4ef6 public void uploadFile(Robot robot) { robot.keyPress(KeyEvent.VK_CONTROL); robot.keyPress(KeyEvent.VK_V); robot.keyRelease(KeyEvent.VK_V); robot.keyRelease(KeyEvent.VK_CONTROL); robot.keyPress(KeyEvent.VK_ENTER); robot.keyRelease(KeyEvent.VK_ENTER); }","title":"\u7528\u6765\u8bbe\u7f6e\u526a\u8d34\u677f\u4e0a\u7684\u6570\u636e"},{"location":"tips/WebDriver%E6%93%8D%E4%BD%9C/#webdriver_3","text":"java.awt.Desktop dp = java.awt.Desktop.getDesktop(); // \u5224\u65ad\u7cfb\u7edf\u684c\u9762\u662f\u5426\u652f\u6301\u8981\u6267\u884c\u7684\u529f\u80fd if (dp.isSupported(java.awt.Desktop.Action.BROWSE)) { // \u83b7\u53d6\u7cfb\u7edf\u9ed8\u8ba4\u6d4f\u89c8\u5668\u6253\u5f00\u94fe\u63a5 dp.browse(uri); }","title":"\u4e0d\u901a\u8fc7WebDriver\u6765\u6253\u5f00\u67d0\u4e2a\u6d4f\u89c8\u5668"},{"location":"tips/WebTest_Debug/","text":"Web UI \u81ea\u52a8\u5316\u6d4b\u8bd5DEBUG \u5728\u4f7f\u7528\u76ee\u524d\u6846\u67b6\u7684\u8fc7\u7a0b\u4e2d,\u4e00\u65e6\u9047\u5230\u95ee\u9898\u662f\u5c31\u9700\u8981DEBUG, \u4e00\u4e0b\u662f\u4e00\u4e9bDEBUG\u7684\u5e38\u7528\u65b9\u6cd5: \u68c0\u67e5\u65e5\u5fd7 WebElement\u7684\u8c03\u8bd5 \u5143\u7d20\u5b9a\u4f4d\u7684\u8c03\u8bd5 \u65e5\u5fd7\u76ee\u524d\u4e00\u822c\u90fd\u6253\u5728Console\u4e2d,\u5982\u679c\u51fa\u73b0\u9519\u8bef,\u53ef\u4ee5\u770b\u770b\u65e5\u5fd7\u7684\u63d0\u793a,\u8fd9\u4e2a\u5c31\u4e0d\u591a\u8bb2\u4e86,\u8fd9\u91cc\u4e3b\u8981\u8bb2\u7684\u662f\u5982\u4f55\u8c03\u8bd5\u5728\u64cd\u4f5cWebElement\u7684\u65f6\u5019 \u51fa\u9519\u7684\u60c5\u51b5. \u64cd\u4f5cWebElement\u7684\u8c03\u8bd5 \u64cd\u4f5cWebElement\u7684\u8c03\u8bd5,\u4e3b\u8981\u8c03\u8bd5\u7684\u7c7b\u662f: WebTestActionBuilder \u8c03\u8bd5WebTestActionBuilder\u65f6\u5019\u57fa\u672c\u4e0a\u53ea\u8981\u5728\u4e00\u4e2a\u4f4d\u7f6e\u52a0\u65ad\u70b9\u5c31\u597d\u4e86: \u5728\u8fd9\u4e2a\u5730\u65b9\u52a0\u65ad\u70b9\u53ef\u4ee5\u4f7f\u7528\u6761\u4ef6\u65ad\u70b9,\u53f3\u952e\u70b9\u51fb\u65ad\u70b9\u7684\u5730\u65b9,\u52a0\u5165\u6761\u4ef6\u5c31\u53ef\u4ee5: \u6761\u4ef6\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u7684\u8868\u8fbe\u5f0f: stepDescription[0].equalsIgnoreCase(\"login\") \u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\u4f1a\u5728\u5143\u7d20\u540d\u79f0\u662f\"login\"\u7684\u65f6\u5019\u5728\u8fd9\u4e2a\u65ad\u70b9\u505c\u4f4f \u4e0d\u540cWebElement\u5143\u7d20\u7684 \u7531\u4e8e\u4e0d\u540c\u7684\u9875\u9762\u5143\u7d20\u4f7f\u7528\u4e0d\u540c\u7684\u7c7b\u6216\u8005\u65b9\u6cd5,\u5728WebTestActionBuilder\u65ad\u70b9\u751f\u6548\u4e4b\u540e,\u53ef\u4ee5\u627e\u5230\u4f60\u51fa\u73b0\u95ee\u9898\u7684\u5143\u7d20\u7684\u7c7b,\u4ee5\u53ca\u4ed6\u7684\u65b9\u6cd5 \u4e2d\u8bbe\u7f6e\u65ad\u70b9,\u6bd4\u5982\u4f60\u51fa\u95ee\u9898\u7684\u5143\u7d20\u662f\u4e2aButton\u79cd\u7c7b,\u90a3\u4e48\u5c31\u5230Button\u7c7b\u91cc\u9762\u76f8\u5e94\u7684\u65b9\u6cd5\u4e2d\u6253\u65ad\u70b9\u8c03\u8bd5,\u5982\u679c\u662fButton\u4e2d\u6ca1\u6709\u4f60\u7684\u60f3\u8981\u7684\u65b9\u6cd5 \u90a3\u4e48\u591aButton\u7684\u7236\u7c7bHtmlElement\u4e2d\u627e\u76f8\u5e94\u7684\u65b9\u6cd5\u6253\u65ad\u70b9. \u5728\u7a0b\u5e8f\u8fdb\u5165\u65b9\u6cd5\u4e4b\u540e,\u5c31\u53ef\u4ee5\u770bDebug\u4e2d\u7684\u503c,\u6216\u8005\u589e\u52a0\u65b0\u7684Watch\u6765\u770b\u9700\u8981\u89c2\u5bdf\u7684\u503c \u5143\u7d20\u5b9a\u4f4d\u7684\u8c03\u8bd5 \u5143\u7d20\u5b9a\u4f4d\u53e6\u5916\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u63d2\u4ef6: xpathfinder","title":"WebUI Debug"},{"location":"tips/WebTest_Debug/#web-ui-debug","text":"\u5728\u4f7f\u7528\u76ee\u524d\u6846\u67b6\u7684\u8fc7\u7a0b\u4e2d,\u4e00\u65e6\u9047\u5230\u95ee\u9898\u662f\u5c31\u9700\u8981DEBUG, \u4e00\u4e0b\u662f\u4e00\u4e9bDEBUG\u7684\u5e38\u7528\u65b9\u6cd5: \u68c0\u67e5\u65e5\u5fd7 WebElement\u7684\u8c03\u8bd5 \u5143\u7d20\u5b9a\u4f4d\u7684\u8c03\u8bd5 \u65e5\u5fd7\u76ee\u524d\u4e00\u822c\u90fd\u6253\u5728Console\u4e2d,\u5982\u679c\u51fa\u73b0\u9519\u8bef,\u53ef\u4ee5\u770b\u770b\u65e5\u5fd7\u7684\u63d0\u793a,\u8fd9\u4e2a\u5c31\u4e0d\u591a\u8bb2\u4e86,\u8fd9\u91cc\u4e3b\u8981\u8bb2\u7684\u662f\u5982\u4f55\u8c03\u8bd5\u5728\u64cd\u4f5cWebElement\u7684\u65f6\u5019 \u51fa\u9519\u7684\u60c5\u51b5.","title":"Web UI \u81ea\u52a8\u5316\u6d4b\u8bd5DEBUG"},{"location":"tips/WebTest_Debug/#webelement","text":"\u64cd\u4f5cWebElement\u7684\u8c03\u8bd5,\u4e3b\u8981\u8c03\u8bd5\u7684\u7c7b\u662f: WebTestActionBuilder \u8c03\u8bd5WebTestActionBuilder\u65f6\u5019\u57fa\u672c\u4e0a\u53ea\u8981\u5728\u4e00\u4e2a\u4f4d\u7f6e\u52a0\u65ad\u70b9\u5c31\u597d\u4e86: \u5728\u8fd9\u4e2a\u5730\u65b9\u52a0\u65ad\u70b9\u53ef\u4ee5\u4f7f\u7528\u6761\u4ef6\u65ad\u70b9,\u53f3\u952e\u70b9\u51fb\u65ad\u70b9\u7684\u5730\u65b9,\u52a0\u5165\u6761\u4ef6\u5c31\u53ef\u4ee5: \u6761\u4ef6\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u7684\u8868\u8fbe\u5f0f: stepDescription[0].equalsIgnoreCase(\"login\") \u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019\u4f1a\u5728\u5143\u7d20\u540d\u79f0\u662f\"login\"\u7684\u65f6\u5019\u5728\u8fd9\u4e2a\u65ad\u70b9\u505c\u4f4f \u4e0d\u540cWebElement\u5143\u7d20\u7684 \u7531\u4e8e\u4e0d\u540c\u7684\u9875\u9762\u5143\u7d20\u4f7f\u7528\u4e0d\u540c\u7684\u7c7b\u6216\u8005\u65b9\u6cd5,\u5728WebTestActionBuilder\u65ad\u70b9\u751f\u6548\u4e4b\u540e,\u53ef\u4ee5\u627e\u5230\u4f60\u51fa\u73b0\u95ee\u9898\u7684\u5143\u7d20\u7684\u7c7b,\u4ee5\u53ca\u4ed6\u7684\u65b9\u6cd5 \u4e2d\u8bbe\u7f6e\u65ad\u70b9,\u6bd4\u5982\u4f60\u51fa\u95ee\u9898\u7684\u5143\u7d20\u662f\u4e2aButton\u79cd\u7c7b,\u90a3\u4e48\u5c31\u5230Button\u7c7b\u91cc\u9762\u76f8\u5e94\u7684\u65b9\u6cd5\u4e2d\u6253\u65ad\u70b9\u8c03\u8bd5,\u5982\u679c\u662fButton\u4e2d\u6ca1\u6709\u4f60\u7684\u60f3\u8981\u7684\u65b9\u6cd5 \u90a3\u4e48\u591aButton\u7684\u7236\u7c7bHtmlElement\u4e2d\u627e\u76f8\u5e94\u7684\u65b9\u6cd5\u6253\u65ad\u70b9. \u5728\u7a0b\u5e8f\u8fdb\u5165\u65b9\u6cd5\u4e4b\u540e,\u5c31\u53ef\u4ee5\u770bDebug\u4e2d\u7684\u503c,\u6216\u8005\u589e\u52a0\u65b0\u7684Watch\u6765\u770b\u9700\u8981\u89c2\u5bdf\u7684\u503c","title":"\u64cd\u4f5cWebElement\u7684\u8c03\u8bd5"},{"location":"tips/WebTest_Debug/#_1","text":"\u5143\u7d20\u5b9a\u4f4d\u53e6\u5916\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u63d2\u4ef6: xpathfinder","title":"\u5143\u7d20\u5b9a\u4f4d\u7684\u8c03\u8bd5"},{"location":"tips/data_construct_by_context/","text":"\u6d4b\u8bd5\u6570\u636e\u7ba1\u7406-dataComposeAfter,TestDataBuilder \u76ee\u524d\u6d4b\u8bd5\u6570\u636e\u7c7b\u90fd\u9700\u8981\u7ee7\u627fTestData\u7c7b,TestData\u91cc\u9762\u6709\u4e00\u4e2a\u65b9\u6cd5\u53ebdataComposeAfter, \u8fd9\u91cc\u8bf4\u8bf4\u8fd9\u4e2a\u65b9\u6cd5\u7684\u7528\u6cd5,\u4ee5\u53ca\u5982\u4f55\u7ed3\u5408TestDataBuilder\u4e00\u8d77\u4f7f\u7528 \u7528\u9014 \u5728\u5b9e\u9645\u6d4b\u8bd5\u7684\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\u5982\u4e0b\u4e00\u5199\u60c5\u51b5,\u6bd4\u5982\u521b\u5efa\u6848\u6e90,\u6709\u4e9b\u6570\u636e\u662f\u4e8c\u624b\u51fa\u79df\u65f6\u5019\u6709,\u6709\u4e9b\u6d4b\u8bd5\u6570\u636e\u662f\u4e8c\u624b\u4e70\u5356\u624d\u6709, \u6709\u4e9b\u6570\u636e\u662f\u4e0d\u884c\u7528\u8fc7\u4e00\u6b21\u5c31\u4e0d\u80fd\u6709\u4e86,\u4ee5\u4e0a\u60c5\u51b5\u4e3a\u4e86\u66f4\u597d\u7684\u7ef4\u62a4\u6570\u636e,\u53ef\u4ee5\u901a\u8fc7dataComposeAfter\u6765\u89e3\u51b3,dataComposeAfter\u5b9e\u9645\u4e0a \u662f\u5f00\u65b9\u4e86\u4e00\u4e2a\u6839\u636e\u4e00\u4e9b\u539f\u59cb\u6570\u636e\u6765\u751f\u6210\u5176\u4ed6\u6570\u636e\u7684\u4e00\u4e2a\u63a5\u53e3. \u7528\u6cd5 \u573a\u666f: \u6dfb\u52a0\u6848\u6e90 \u6848\u6e90\u6570\u636e: * \u4e00\u4e2a\u79c1\u5ba2\u6570\u636e,\u79c1\u5ba2\u5176\u5b9e\u6700\u597d\u4e0d\u662f\u5199\u6b7b\u7684,\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7SQL\u6765\u53d6\u5f97 * \u5982\u679c\u662f\u4e8c\u624b\u51fa\u79df,\u53ea\u9700\u8981\u4e8c\u624b\u51fa\u79df\u76f8\u5173\u7684\u6570\u636e\u5c31\u53ef\u4ee5 * \u5982\u679c\u662f\u4e8c\u624b\u4e70\u5356\u76f8\u5173\u7684,\u53ea\u9700\u8981\u4e8c\u624b\u4e70\u5356\u6570\u636e\u5c31\u53ef\u4ee5\u4e86 \u4e00\u4e0b\u662f\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7684\u4e00\u4e2a\u5b9e\u73b0: * InquiryDataUtils.getInquiryInfoByUserCode \u901a\u8fc7SQL\u53bb\u83b7\u53d6\u79c1\u5ba2\u4fe1\u606f * \u6839\u636etradingType\u6765\u533a\u5206\u4e0d\u540c\u573a\u666f\u9700\u8981\u7684\u662f\u90a3\u4e9b\u6570\u636e public CaseTestDate extends TestData{ private String tradingType; private String signedType; private String newHouseProjectId; private String newHouseProjectNo; private String houseSourceNo; private String estateAddress; private String estateBuilding; private String estateRoom; private String buildingCertificateAddress = \"\u6d4b\u8bd5\u5730\u5740\u4ea7\u8bc1\"; private String inquiryId; private String customerNo; private String userCode; private String caseId; private String caseNo; @Override public void dataComposeAfter() { this.inquiryId = InquiryDataUtils.getInquiryInfoByUserCode(this.userCode).get(\"inquiryId\").toString(); this.customerNo = InquiryDataUtils.getInquiryInfoByUserCode(this.userCode).get(\"inquiryNo\").toString(); if (!StringHelper.isNotEmptyOrNotBlankString(this.tradingType)) { this.tradingType = \"\u4e8c\u624b\u4e70\u5356\"; } if (isSecondHand()) { this.set(PropertyDataUtils.getAvailableProperty()); } else { this.newHouseProjectNo = PropertyDataUtils.getAvailableNewHouse().get(\"estateName\").toString(); this.estateBuilding = String.valueOf(RandomHelper.getFixedLengthInt(1, 5)); this.estateRoom = String.valueOf(RandomHelper.getFixedLengthInt(1, 5)); } } } \u7ed3\u5408DataProvider\u7684\u4f7f\u7528 \u5728DataProvider\u4e2d\u4e0d\u9700\u8981\u989d\u5916\u505a\u4ec0\u4e48,dataComposerAfter\u4f1a\u88ab\u6267\u884c: @DataProvider(name = \"CaseTestData\") public Iterator<Object[]> getTestData(Method m) throws Exception { Map<String, Class> clazzMap = new HashMap<>(); clazzMap.put(\"Case\", CaseTestData.class); clazzMap.put(\"TestDescription\", TestDescription.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/BMSCaseTestCases.xls\", m, clazzMap); return y; } \u4ee3\u7801\u6700\u540e\u8fd4\u56de\u7684y\u4e2d\u7684CaseTestData\u5b9e\u4f8b\u90fd\u5df2\u7ecf\u6267\u884c\u8fc7dataComposeAfter\u4e86 \u7ed3\u5408TestDataBuilder\u4f7f\u7528 TestDataBuilder \u7684build\u65b9\u6cd5\u4e5f\u4f1a\u6267\u884cdataComposeAfter OrderTestData order = (OrderTestData) TestDataBuilder.forDataType(OrderTestData.class) .add(\"caseNo\", caseInfo.getCaseNo()).build();","title":"\u52a8\u6001\u6d4b\u8bd5\u6570\u636e\u6784\u5efa"},{"location":"tips/data_construct_by_context/#-datacomposeaftertestdatabuilder","text":"\u76ee\u524d\u6d4b\u8bd5\u6570\u636e\u7c7b\u90fd\u9700\u8981\u7ee7\u627fTestData\u7c7b,TestData\u91cc\u9762\u6709\u4e00\u4e2a\u65b9\u6cd5\u53ebdataComposeAfter, \u8fd9\u91cc\u8bf4\u8bf4\u8fd9\u4e2a\u65b9\u6cd5\u7684\u7528\u6cd5,\u4ee5\u53ca\u5982\u4f55\u7ed3\u5408TestDataBuilder\u4e00\u8d77\u4f7f\u7528","title":"\u6d4b\u8bd5\u6570\u636e\u7ba1\u7406-dataComposeAfter,TestDataBuilder"},{"location":"tips/data_construct_by_context/#_1","text":"\u5728\u5b9e\u9645\u6d4b\u8bd5\u7684\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\u5982\u4e0b\u4e00\u5199\u60c5\u51b5,\u6bd4\u5982\u521b\u5efa\u6848\u6e90,\u6709\u4e9b\u6570\u636e\u662f\u4e8c\u624b\u51fa\u79df\u65f6\u5019\u6709,\u6709\u4e9b\u6d4b\u8bd5\u6570\u636e\u662f\u4e8c\u624b\u4e70\u5356\u624d\u6709, \u6709\u4e9b\u6570\u636e\u662f\u4e0d\u884c\u7528\u8fc7\u4e00\u6b21\u5c31\u4e0d\u80fd\u6709\u4e86,\u4ee5\u4e0a\u60c5\u51b5\u4e3a\u4e86\u66f4\u597d\u7684\u7ef4\u62a4\u6570\u636e,\u53ef\u4ee5\u901a\u8fc7dataComposeAfter\u6765\u89e3\u51b3,dataComposeAfter\u5b9e\u9645\u4e0a \u662f\u5f00\u65b9\u4e86\u4e00\u4e2a\u6839\u636e\u4e00\u4e9b\u539f\u59cb\u6570\u636e\u6765\u751f\u6210\u5176\u4ed6\u6570\u636e\u7684\u4e00\u4e2a\u63a5\u53e3.","title":"\u7528\u9014"},{"location":"tips/data_construct_by_context/#_2","text":"\u573a\u666f: \u6dfb\u52a0\u6848\u6e90 \u6848\u6e90\u6570\u636e: * \u4e00\u4e2a\u79c1\u5ba2\u6570\u636e,\u79c1\u5ba2\u5176\u5b9e\u6700\u597d\u4e0d\u662f\u5199\u6b7b\u7684,\u6240\u4ee5\u53ef\u4ee5\u901a\u8fc7SQL\u6765\u53d6\u5f97 * \u5982\u679c\u662f\u4e8c\u624b\u51fa\u79df,\u53ea\u9700\u8981\u4e8c\u624b\u51fa\u79df\u76f8\u5173\u7684\u6570\u636e\u5c31\u53ef\u4ee5 * \u5982\u679c\u662f\u4e8c\u624b\u4e70\u5356\u76f8\u5173\u7684,\u53ea\u9700\u8981\u4e8c\u624b\u4e70\u5356\u6570\u636e\u5c31\u53ef\u4ee5\u4e86 \u4e00\u4e0b\u662f\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7684\u4e00\u4e2a\u5b9e\u73b0: * InquiryDataUtils.getInquiryInfoByUserCode \u901a\u8fc7SQL\u53bb\u83b7\u53d6\u79c1\u5ba2\u4fe1\u606f * \u6839\u636etradingType\u6765\u533a\u5206\u4e0d\u540c\u573a\u666f\u9700\u8981\u7684\u662f\u90a3\u4e9b\u6570\u636e public CaseTestDate extends TestData{ private String tradingType; private String signedType; private String newHouseProjectId; private String newHouseProjectNo; private String houseSourceNo; private String estateAddress; private String estateBuilding; private String estateRoom; private String buildingCertificateAddress = \"\u6d4b\u8bd5\u5730\u5740\u4ea7\u8bc1\"; private String inquiryId; private String customerNo; private String userCode; private String caseId; private String caseNo; @Override public void dataComposeAfter() { this.inquiryId = InquiryDataUtils.getInquiryInfoByUserCode(this.userCode).get(\"inquiryId\").toString(); this.customerNo = InquiryDataUtils.getInquiryInfoByUserCode(this.userCode).get(\"inquiryNo\").toString(); if (!StringHelper.isNotEmptyOrNotBlankString(this.tradingType)) { this.tradingType = \"\u4e8c\u624b\u4e70\u5356\"; } if (isSecondHand()) { this.set(PropertyDataUtils.getAvailableProperty()); } else { this.newHouseProjectNo = PropertyDataUtils.getAvailableNewHouse().get(\"estateName\").toString(); this.estateBuilding = String.valueOf(RandomHelper.getFixedLengthInt(1, 5)); this.estateRoom = String.valueOf(RandomHelper.getFixedLengthInt(1, 5)); } } }","title":"\u7528\u6cd5"},{"location":"tips/data_construct_by_context/#dataprovider","text":"\u5728DataProvider\u4e2d\u4e0d\u9700\u8981\u989d\u5916\u505a\u4ec0\u4e48,dataComposerAfter\u4f1a\u88ab\u6267\u884c: @DataProvider(name = \"CaseTestData\") public Iterator<Object[]> getTestData(Method m) throws Exception { Map<String, Class> clazzMap = new HashMap<>(); clazzMap.put(\"Case\", CaseTestData.class); clazzMap.put(\"TestDescription\", TestDescription.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/BMSCaseTestCases.xls\", m, clazzMap); return y; } \u4ee3\u7801\u6700\u540e\u8fd4\u56de\u7684y\u4e2d\u7684CaseTestData\u5b9e\u4f8b\u90fd\u5df2\u7ecf\u6267\u884c\u8fc7dataComposeAfter\u4e86","title":"\u7ed3\u5408DataProvider\u7684\u4f7f\u7528"},{"location":"tips/data_construct_by_context/#testdatabuilder","text":"TestDataBuilder \u7684build\u65b9\u6cd5\u4e5f\u4f1a\u6267\u884cdataComposeAfter OrderTestData order = (OrderTestData) TestDataBuilder.forDataType(OrderTestData.class) .add(\"caseNo\", caseInfo.getCaseNo()).build();","title":"\u7ed3\u5408TestDataBuilder\u4f7f\u7528"},{"location":"tips/database_assetion/","text":"\u6570\u636e\u5e93\u9a8c\u8bc1 \u4ee3\u7801: SoftAssertion.build().assertDBValues(AppName.ZICHAN.getName() , String.format(\"select * from T_ASSETS_MANAGERS where assetCode = '%s'\", data.getAssetCode()), ExpectedResultSpec.build() .addExpectation(\"idle\", \"1\") .addExpectation(\"occupier\", \"\") .end()).getFinalResult(); \u8bf4\u660e: assertDBValues,\u9700\u8981\u4f20\u5165 \u6570\u636e\u5e93\u540d\u79f0: \u5982AppName.ZICHAN.getName() SQL: \u5982:String.format(\"select * from T_ASSETS_MANAGERS where assetCode = '%s'\", data.getAssetCode()) \u671f\u671b\u503c: \u5982: ExpectedResultSpec.build() .addExpectation(\"idle\", \"1\") .addExpectation(\"occupier\", \"\") .end()) \u4ee5\u4e0a\u7684\u4ee3\u7801\u5b9e\u9645\u8bf4\u7684\u662f\u671f\u671b\u7ed3\u679c\u91cc\u9762,idle\u5b57\u6bb5\u7684\u503c\u662f1,occupier\u5b57\u6bb5\u662f\u7a7a","title":"\u6570\u636e\u5e93\u9a8c\u8bc1"},{"location":"tips/database_assetion/#_1","text":"\u4ee3\u7801: SoftAssertion.build().assertDBValues(AppName.ZICHAN.getName() , String.format(\"select * from T_ASSETS_MANAGERS where assetCode = '%s'\", data.getAssetCode()), ExpectedResultSpec.build() .addExpectation(\"idle\", \"1\") .addExpectation(\"occupier\", \"\") .end()).getFinalResult(); \u8bf4\u660e: assertDBValues,\u9700\u8981\u4f20\u5165 \u6570\u636e\u5e93\u540d\u79f0: \u5982AppName.ZICHAN.getName() SQL: \u5982:String.format(\"select * from T_ASSETS_MANAGERS where assetCode = '%s'\", data.getAssetCode()) \u671f\u671b\u503c: \u5982: ExpectedResultSpec.build() .addExpectation(\"idle\", \"1\") .addExpectation(\"occupier\", \"\") .end()) \u4ee5\u4e0a\u7684\u4ee3\u7801\u5b9e\u9645\u8bf4\u7684\u662f\u671f\u671b\u7ed3\u679c\u91cc\u9762,idle\u5b57\u6bb5\u7684\u503c\u662f1,occupier\u5b57\u6bb5\u662f\u7a7a","title":"\u6570\u636e\u5e93\u9a8c\u8bc1"},{"location":"tips/database_update/","text":"\u6570\u636e\u4fee\u6539\u548c\u6570\u636e\u56de\u6eda \u4ee3\u7801: @Test(dataProvider = \"Asset_data\",description = \"\u8bbe\u7f6e\u8d44\u4ea7\u95f2\u7f6e\") public void testSetAssetToIdle(EmployeeTestData user,AssetTestData data, TestDescription td){ String sql = String.format(\"update dbo.T_ASSETS_MANAGERS set idle=0,occupier='%s'\" + \"where assetCode='%s' and status='\u6b63\u5e38'\", user.getUserCode(), data.getAssetCode()); TestContextHolder.addDataFixture(DataFixture.build(AppName.ZICHAN.getName() , sql, \"id\")); WebDriver driver= loginAndReturnDriver(user); AssetsFlows.setAssetToIdle(driver, data); SoftAssertion.build().assertDBValues(AppName.ZICHAN.getName() , String.format(\"select * from T_ASSETS_MANAGERS where assetCode = '%s'\", data.getAssetCode()), ExpectedResultSpec.build() .addExpectation(\"idle\", \"1\") .addExpectation(\"occupier\", \"\") .end()).getFinalResult(); } \u8bf4\u660e: \u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u9762,\u9700\u8981\u5728\u6d4b\u8bd5\u5f00\u59cb\u7684\u65f6\u5019\u66f4\u65b0\u6570\u636e\u5e93\u7684\u67d0\u4e2a\u503c\u5df2\u786e\u8ba4\u6570\u636e\u53ef\u4ee5\u88ab\u4f7f\u7528,\u7136\u540e\u5f53\u6d4b\u8bd5\u5b8c\u6210\u540e\u66f4\u65b0\u56de\u521d\u59cb\u72b6\u6001,\u6bd4\u5982\u53ef\u80fd\u4fee\u6539\u6743\u9650\u6765\u4fdd\u8bc1\u6d4b\u8bd5\u53ef\u4ee5\u7ee7\u7eed, \u6d4b\u8bd5\u7ed3\u675f\u5c31\u6062\u590d\u5230\u539f\u6765\u72b6\u6001\u4ee5\u786e\u4fdd\u4e0d\u5f71\u54cd\u5176\u4ed6\u4eba\u7684\u6d4b\u8bd5 \u901a\u8fc7\u4e00\u4e0b\u4ee3\u7801\u7533\u660e\u9700\u8981\u66f4\u65b0\u4ec0\u4e48\u7684\u6570\u636e,\u8fd8\u6709\u66f4\u65b0\u8868\u7684\u4e3b\u952e\u662f\u4ec0\u4e48\u5c31\u53ef\u4ee5\u5b8c\u6210\u4e00\u5f00\u59cb\u66f4\u65b0,\u6d4b\u8bd5\u7ed3\u675f\u540e\u56de\u6eda\u7684\u64cd\u4f5c: ps: \u76ee\u524d\u53ea\u652f\u6301\u5355\u8868,\u4ee5\u53ca\u6ca1\u6709\u5185\u5d4cSQL(nested SQL)\u7684\u5904\u7406 String sql = String.format(\"update dbo.T_ASSETS_MANAGERS set idle=0,occupier='%s'\" + \"where assetCode='%s' and status='\u6b63\u5e38'\", user.getUserCode(), data.getAssetCode()); TestContextHolder.addDataFixture(DataFixture.build(AppName.ZICHAN.getName() , sql, \"id\")); \u5728\u6d4b\u8bd5\u5b8c\u6210\u540e,\u4fee\u6539\u7684\u6570\u636e\u4f1a\u81ea\u52a8\u56de\u6eda\u5230\u4fee\u6539\u4e4b\u524d\u7684\u6570\u636e,\u7406\u8bba\u4e0a\u5982\u679c\u6d4b\u8bd5\u51fa\u73b0\u5f02\u5e38,\u56de\u6eda\u4e5f\u4f1a\u6267\u884c","title":"\u9884\u8bbe\u6761\u4ef6\u6570\u636e\u7684\u66f4\u65b0\u548c\u56de\u6eda"},{"location":"tips/database_update/#_1","text":"\u4ee3\u7801: @Test(dataProvider = \"Asset_data\",description = \"\u8bbe\u7f6e\u8d44\u4ea7\u95f2\u7f6e\") public void testSetAssetToIdle(EmployeeTestData user,AssetTestData data, TestDescription td){ String sql = String.format(\"update dbo.T_ASSETS_MANAGERS set idle=0,occupier='%s'\" + \"where assetCode='%s' and status='\u6b63\u5e38'\", user.getUserCode(), data.getAssetCode()); TestContextHolder.addDataFixture(DataFixture.build(AppName.ZICHAN.getName() , sql, \"id\")); WebDriver driver= loginAndReturnDriver(user); AssetsFlows.setAssetToIdle(driver, data); SoftAssertion.build().assertDBValues(AppName.ZICHAN.getName() , String.format(\"select * from T_ASSETS_MANAGERS where assetCode = '%s'\", data.getAssetCode()), ExpectedResultSpec.build() .addExpectation(\"idle\", \"1\") .addExpectation(\"occupier\", \"\") .end()).getFinalResult(); } \u8bf4\u660e: \u5728\u67d0\u4e9b\u573a\u666f\u4e0b\u9762,\u9700\u8981\u5728\u6d4b\u8bd5\u5f00\u59cb\u7684\u65f6\u5019\u66f4\u65b0\u6570\u636e\u5e93\u7684\u67d0\u4e2a\u503c\u5df2\u786e\u8ba4\u6570\u636e\u53ef\u4ee5\u88ab\u4f7f\u7528,\u7136\u540e\u5f53\u6d4b\u8bd5\u5b8c\u6210\u540e\u66f4\u65b0\u56de\u521d\u59cb\u72b6\u6001,\u6bd4\u5982\u53ef\u80fd\u4fee\u6539\u6743\u9650\u6765\u4fdd\u8bc1\u6d4b\u8bd5\u53ef\u4ee5\u7ee7\u7eed, \u6d4b\u8bd5\u7ed3\u675f\u5c31\u6062\u590d\u5230\u539f\u6765\u72b6\u6001\u4ee5\u786e\u4fdd\u4e0d\u5f71\u54cd\u5176\u4ed6\u4eba\u7684\u6d4b\u8bd5 \u901a\u8fc7\u4e00\u4e0b\u4ee3\u7801\u7533\u660e\u9700\u8981\u66f4\u65b0\u4ec0\u4e48\u7684\u6570\u636e,\u8fd8\u6709\u66f4\u65b0\u8868\u7684\u4e3b\u952e\u662f\u4ec0\u4e48\u5c31\u53ef\u4ee5\u5b8c\u6210\u4e00\u5f00\u59cb\u66f4\u65b0,\u6d4b\u8bd5\u7ed3\u675f\u540e\u56de\u6eda\u7684\u64cd\u4f5c: ps: \u76ee\u524d\u53ea\u652f\u6301\u5355\u8868,\u4ee5\u53ca\u6ca1\u6709\u5185\u5d4cSQL(nested SQL)\u7684\u5904\u7406 String sql = String.format(\"update dbo.T_ASSETS_MANAGERS set idle=0,occupier='%s'\" + \"where assetCode='%s' and status='\u6b63\u5e38'\", user.getUserCode(), data.getAssetCode()); TestContextHolder.addDataFixture(DataFixture.build(AppName.ZICHAN.getName() , sql, \"id\")); \u5728\u6d4b\u8bd5\u5b8c\u6210\u540e,\u4fee\u6539\u7684\u6570\u636e\u4f1a\u81ea\u52a8\u56de\u6eda\u5230\u4fee\u6539\u4e4b\u524d\u7684\u6570\u636e,\u7406\u8bba\u4e0a\u5982\u679c\u6d4b\u8bd5\u51fa\u73b0\u5f02\u5e38,\u56de\u6eda\u4e5f\u4f1a\u6267\u884c","title":"\u6570\u636e\u4fee\u6539\u548c\u6570\u636e\u56de\u6eda"},{"location":"tips/find_by_ref/","text":"FindByRef \u6ce8\u89e3\u7684\u4f7f\u7528 FindByRef\u5904\u7406\u7684\u573a\u666f\u4e3b\u8981\u4e3a\u5728\u4e00\u4e2a\u5217\u8868\u5c55\u793a\u7684\u60c5\u51b5,\u60f3\u9009\u62e9\u4e00\u4e2a\u548c\u67d0\u4e2a\u6570\u636e\u6709\u5173\u7cfb\u7684\u5143\u7d20: \u5728\u8fd9\u4e2a\u9875\u9762\u4e0b,\u5982\u679c\u60f3\u9009\u62e9\u4e00\u4e2aLink\u662f\u6839\u636e\u8fd0\u884c\u662f\u7684\u67d0\u4e2a\u6570\u636e\u6765\u5b9a,\u5fc5\u5165\u8fd9\u4e2a\u91cc\u9762\u91cc\u9762\u662f\u4e2aPropertyID\u53f7 \u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5728Page\u9875\u9762\u91cc\u9762\u5b9a\u4e49\u5982\u4e0b: @FindBy(xpath=\"//a[@href='/property/{propertyId}?timeToken=1460006119990']\") @FindByRef(referTo=\"propertyId\") private Link link1; \u8fd9\u6837\u5b9a\u4e49\u4e4b\u540e,\u5728\u6267\u884c\u4e1a\u52a1\u6d41\u7a0b\u7684\u662f,\u6846\u67b6\u81ea\u52a8\u4f1a\u628axpath\u4e2d{propertyId}? \u66ff\u6362\u4e3aTestData\u7c7b\u91cc\u9762\u7684propertyId\u503c \u518d\u6765\u8fdb\u884c\u5bfb\u627e\u5143\u7d20","title":"FindByRef annotation  \u4f7f\u7528"},{"location":"tips/find_by_ref/#findbyref","text":"FindByRef\u5904\u7406\u7684\u573a\u666f\u4e3b\u8981\u4e3a\u5728\u4e00\u4e2a\u5217\u8868\u5c55\u793a\u7684\u60c5\u51b5,\u60f3\u9009\u62e9\u4e00\u4e2a\u548c\u67d0\u4e2a\u6570\u636e\u6709\u5173\u7cfb\u7684\u5143\u7d20: \u5728\u8fd9\u4e2a\u9875\u9762\u4e0b,\u5982\u679c\u60f3\u9009\u62e9\u4e00\u4e2aLink\u662f\u6839\u636e\u8fd0\u884c\u662f\u7684\u67d0\u4e2a\u6570\u636e\u6765\u5b9a,\u5fc5\u5165\u8fd9\u4e2a\u91cc\u9762\u91cc\u9762\u662f\u4e2aPropertyID\u53f7 \u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5728Page\u9875\u9762\u91cc\u9762\u5b9a\u4e49\u5982\u4e0b: @FindBy(xpath=\"//a[@href='/property/{propertyId}?timeToken=1460006119990']\") @FindByRef(referTo=\"propertyId\") private Link link1; \u8fd9\u6837\u5b9a\u4e49\u4e4b\u540e,\u5728\u6267\u884c\u4e1a\u52a1\u6d41\u7a0b\u7684\u662f,\u6846\u67b6\u81ea\u52a8\u4f1a\u628axpath\u4e2d{propertyId}? \u66ff\u6362\u4e3aTestData\u7c7b\u91cc\u9762\u7684propertyId\u503c \u518d\u6765\u8fdb\u884c\u5bfb\u627e\u5143\u7d20","title":"FindByRef \u6ce8\u89e3\u7684\u4f7f\u7528"},{"location":"tips/how_to_write_teststeps/","text":"\u5199\u6b65\u9aa4\u7684\u51e0\u79cd\u5199\u6cd5 \u5173\u4e8e\u5982\u4f55\u5199\u9875\u9762\u7c7b\u7684\uff0c\u6bd4\u8f83\u56fa\u5b9a\u4f46\u662f\u5199\u64cd\u4f5c\u6b65\u9aa4\u7684\u6bd4\u8f83\u7075\u6d3b.\u4ee5\u4e0b\u662f\u5e38\u89c1\u7684\u51e0\u79cd\u5199\u6cd5\uff1a \u76f4\u63a5\u8c03\u7528\u9875\u9762\u4e0d\u540c\u7684\u9875\u9762\u5143\u7d20 \u76f4\u63a5\u7f16\u5199\u4ee3\u7801 \u76f4\u63a5\u521b\u5efa\u9875\u9762\u5143\u7d20\u5e76\u6267\u884c Annotation \u76f4\u63a5\u8c03\u7528\u4e0d\u540c\u7684\u9875\u9762\u5143\u7d20 \u4ee5\u4e0b\u662f\u623f\u6e90\u4fee\u6539\u623f\u6e90\u5c5e\u6027\u7684\u4f8b\u5b50\uff1a public static void \u4fee\u6539\u88c5\u4fee(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"propertyDecoration\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyDecorationPage.class, Lists.newArrayList(\"propertyDecoration\", \"devices\", \"submit\"), driver, testData).execute(); } \u76f4\u63a5\u8c03\u7528\u9875\u9762\u5143\u7d20\u540d\u5b57\u5c31\u53ef\u4ee5\uff0c\u5982\u679c\u591a\u4e2a\u9875\u9762\u5c31\u5206\u5f00\u5199\u5c31\u53ef\u4ee5\uff0c\u8fd9\u4e2a\u4ee3\u7801\u7247\u6bb5\u5c31\u628a\u4fee\u6539\u88c5\u4fee\u7684\u4e1a\u52a1\u64cd\u4f5c\u5b8c\u6210\uff0c\u5982\u679c\u5728\u9875\u9762\u8df3\u8f6c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u5207\u6362tab\u9875\u9762\u6216\u8005\u5176\u4ed6\u7684\uff0c\u53ef\u4ee5\u5728\u9875\u9762\u548c\u9875\u9762\u4e4b\u95f4\u589e\u52a0\uff0c\u5982\u4e0b\u4f8b\uff1a public static void \u72ec\u5bb6\u51fa\u79df\u59d4\u6258(WebDriver driver,TestData testData){ buildIgnoredFields(testData); PropertyFlows.handleFY(driver,testData); WebTestActionBuilder.createTestActionByElementActionList(FangYuanPropertyPage.class, Lists.newArrayList(\"entrustDetail\",\"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(PropertyApplyPage.class, Lists.newArrayList(\"exclusiveRentApply\") ,driver,testData).execute(); WebDriverHelper.swithTab(driver); WebTestActionBuilder.createTestActionByElementActionList(EntrustApplyPage.class, Lists.newArrayList(\"empNo selectFirst\" ,\"entrustEndDate\",\"entrustEndType\",\"exclusiveRentDocList\" ,\"signedPersonRentCredentialsDocList\" ,\"propertyRightsRentCredentialsDocList\" ,\"otherRentCredentialsDocList\" ,\"submit\"),driver, testData).execute(); } \u76f4\u63a5\u7f16\u5199\u4ee3\u7801 \u8fd9\u4e2a\u5199\u6cd5\u548c\u539f\u6765\u7684\u5199\u6cd5\u6bd4\u8f83\u7c7b\u4f3c\uff0c\u5148\u627e\u5230\u5143\u7d20\uff0c\u7136\u540e\u8fdb\u884c\u64cd\u4f5c\uff1a PropertyDescPage page = ModifiedPageFactory.createPageObject(driver, PropertyDescPage.class); page.getBasicInfo().click(); page.getNewPropertyDesc().click(); ....... \u76f4\u63a5\u521b\u5efa\u5143\u7d20\u5e76\u8fdb\u884c\u64cd\u4f5c public static void logout(WebDriver driver){ driver.get(EnvironmentHelper.getHomeUrl()); WebDriverHelper.click(driver, By.xpath(\"//div[@class='navTop']//a[text()='\u9000\u51fa']\")); } \u9002\u7528\u6ce8\u89e3\u8fdb\u884c\u64cd\u4f5c \u521b\u5efa\u9875\u9762\u6ce8\u89e3 @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u623f\u6e90\",elementActionDescription={\"contactName\", \"relationship\",\"residence\",\"contactPhone\" ,\"contactTel\",\"propertySource\" ,\"status\",\"price\",\"handPrice\",\"rentPrice\" ,\"shape\",\"countF\",\"countT\",\"countW\",\"countGarden\",\"countCellar\",\"square\",\"floor\",\"floorAll\" ,\"currentStatus\",\"rentExpireDate\",\"rentAvailableDate\" ,\"currentStatusRemark\",\"propertyLook\",\"whenToLookHouse\",\"keyRemark\",\"isAuction\" ,\"countGarage\",\"countParks\",\"officeGrade\",\"realRate\",\"floorHeight\",\"airConditionCosts\", \"depth\",\"floorHeight\",\"transferFee\",\"managementFee\",\"electricPower\" ,\"propertyDirection\",\"waterToward\",\"buyinDate\" ,\"propertyDecoration\",\"flagLoan\",\"remark\",\"submit\"}) }) public class AddFangYuanSecondStepPage extends ExecutablePageObject { public AddFangYuanSecondStepPage(WebDriver driver) { super(driver); } @FindBy(name=\"property_propertySource\") @ElementName(elementName=\"property.propertySource\") private Radio propertySource; @FindBy(name=\"property_status\") @ElementName(elementName=\"property.status\") private Radio status; @FindBy(name=\"property_shape\") @ElementName(elementName=\"property.shape\") \u5199\u6d41\u7a0b\u7c7b\uff0c\u6216\u8005\u53ef\u4ee5\u76f4\u63a5\u5199\u5230\u65b9\u6cd5\u4e2d public static void addPropertyDesc(WebDriver driver, TestData testData){ PropertyFlows.handleFY(driver,testData); ModifiedPageFactory.createPageObject(driver, PropertyDescPage.class).processUIAction(\"\u6dfb\u52a0\u623f\u6e90\u63cf\u8ff0\", testData); }","title":"\u7f16\u5199\u6d4b\u8bd5\u6b65\u9aa4\u7684\u4e0d\u540c\u65b9\u6cd5"},{"location":"tips/how_to_write_teststeps/#_1","text":"\u5173\u4e8e\u5982\u4f55\u5199\u9875\u9762\u7c7b\u7684\uff0c\u6bd4\u8f83\u56fa\u5b9a\u4f46\u662f\u5199\u64cd\u4f5c\u6b65\u9aa4\u7684\u6bd4\u8f83\u7075\u6d3b.\u4ee5\u4e0b\u662f\u5e38\u89c1\u7684\u51e0\u79cd\u5199\u6cd5\uff1a \u76f4\u63a5\u8c03\u7528\u9875\u9762\u4e0d\u540c\u7684\u9875\u9762\u5143\u7d20 \u76f4\u63a5\u7f16\u5199\u4ee3\u7801 \u76f4\u63a5\u521b\u5efa\u9875\u9762\u5143\u7d20\u5e76\u6267\u884c Annotation","title":"\u5199\u6b65\u9aa4\u7684\u51e0\u79cd\u5199\u6cd5"},{"location":"tips/how_to_write_teststeps/#_2","text":"\u4ee5\u4e0b\u662f\u623f\u6e90\u4fee\u6539\u623f\u6e90\u5c5e\u6027\u7684\u4f8b\u5b50\uff1a public static void \u4fee\u6539\u88c5\u4fee(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"propertyDecoration\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyDecorationPage.class, Lists.newArrayList(\"propertyDecoration\", \"devices\", \"submit\"), driver, testData).execute(); } \u76f4\u63a5\u8c03\u7528\u9875\u9762\u5143\u7d20\u540d\u5b57\u5c31\u53ef\u4ee5\uff0c\u5982\u679c\u591a\u4e2a\u9875\u9762\u5c31\u5206\u5f00\u5199\u5c31\u53ef\u4ee5\uff0c\u8fd9\u4e2a\u4ee3\u7801\u7247\u6bb5\u5c31\u628a\u4fee\u6539\u88c5\u4fee\u7684\u4e1a\u52a1\u64cd\u4f5c\u5b8c\u6210\uff0c\u5982\u679c\u5728\u9875\u9762\u8df3\u8f6c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u5207\u6362tab\u9875\u9762\u6216\u8005\u5176\u4ed6\u7684\uff0c\u53ef\u4ee5\u5728\u9875\u9762\u548c\u9875\u9762\u4e4b\u95f4\u589e\u52a0\uff0c\u5982\u4e0b\u4f8b\uff1a public static void \u72ec\u5bb6\u51fa\u79df\u59d4\u6258(WebDriver driver,TestData testData){ buildIgnoredFields(testData); PropertyFlows.handleFY(driver,testData); WebTestActionBuilder.createTestActionByElementActionList(FangYuanPropertyPage.class, Lists.newArrayList(\"entrustDetail\",\"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(PropertyApplyPage.class, Lists.newArrayList(\"exclusiveRentApply\") ,driver,testData).execute(); WebDriverHelper.swithTab(driver); WebTestActionBuilder.createTestActionByElementActionList(EntrustApplyPage.class, Lists.newArrayList(\"empNo selectFirst\" ,\"entrustEndDate\",\"entrustEndType\",\"exclusiveRentDocList\" ,\"signedPersonRentCredentialsDocList\" ,\"propertyRightsRentCredentialsDocList\" ,\"otherRentCredentialsDocList\" ,\"submit\"),driver, testData).execute(); }","title":"\u76f4\u63a5\u8c03\u7528\u4e0d\u540c\u7684\u9875\u9762\u5143\u7d20"},{"location":"tips/how_to_write_teststeps/#_3","text":"\u8fd9\u4e2a\u5199\u6cd5\u548c\u539f\u6765\u7684\u5199\u6cd5\u6bd4\u8f83\u7c7b\u4f3c\uff0c\u5148\u627e\u5230\u5143\u7d20\uff0c\u7136\u540e\u8fdb\u884c\u64cd\u4f5c\uff1a PropertyDescPage page = ModifiedPageFactory.createPageObject(driver, PropertyDescPage.class); page.getBasicInfo().click(); page.getNewPropertyDesc().click(); .......","title":"\u76f4\u63a5\u7f16\u5199\u4ee3\u7801"},{"location":"tips/how_to_write_teststeps/#_4","text":"public static void logout(WebDriver driver){ driver.get(EnvironmentHelper.getHomeUrl()); WebDriverHelper.click(driver, By.xpath(\"//div[@class='navTop']//a[text()='\u9000\u51fa']\")); }","title":"\u76f4\u63a5\u521b\u5efa\u5143\u7d20\u5e76\u8fdb\u884c\u64cd\u4f5c"},{"location":"tips/how_to_write_teststeps/#_5","text":"\u521b\u5efa\u9875\u9762\u6ce8\u89e3 @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u623f\u6e90\",elementActionDescription={\"contactName\", \"relationship\",\"residence\",\"contactPhone\" ,\"contactTel\",\"propertySource\" ,\"status\",\"price\",\"handPrice\",\"rentPrice\" ,\"shape\",\"countF\",\"countT\",\"countW\",\"countGarden\",\"countCellar\",\"square\",\"floor\",\"floorAll\" ,\"currentStatus\",\"rentExpireDate\",\"rentAvailableDate\" ,\"currentStatusRemark\",\"propertyLook\",\"whenToLookHouse\",\"keyRemark\",\"isAuction\" ,\"countGarage\",\"countParks\",\"officeGrade\",\"realRate\",\"floorHeight\",\"airConditionCosts\", \"depth\",\"floorHeight\",\"transferFee\",\"managementFee\",\"electricPower\" ,\"propertyDirection\",\"waterToward\",\"buyinDate\" ,\"propertyDecoration\",\"flagLoan\",\"remark\",\"submit\"}) }) public class AddFangYuanSecondStepPage extends ExecutablePageObject { public AddFangYuanSecondStepPage(WebDriver driver) { super(driver); } @FindBy(name=\"property_propertySource\") @ElementName(elementName=\"property.propertySource\") private Radio propertySource; @FindBy(name=\"property_status\") @ElementName(elementName=\"property.status\") private Radio status; @FindBy(name=\"property_shape\") @ElementName(elementName=\"property.shape\") \u5199\u6d41\u7a0b\u7c7b\uff0c\u6216\u8005\u53ef\u4ee5\u76f4\u63a5\u5199\u5230\u65b9\u6cd5\u4e2d public static void addPropertyDesc(WebDriver driver, TestData testData){ PropertyFlows.handleFY(driver,testData); ModifiedPageFactory.createPageObject(driver, PropertyDescPage.class).processUIAction(\"\u6dfb\u52a0\u623f\u6e90\u63cf\u8ff0\", testData); }","title":"\u9002\u7528\u6ce8\u89e3\u8fdb\u884c\u64cd\u4f5c"},{"location":"tips/page_object/","text":"Page Object\u6a21\u5f0f \u5173\u4e8ePage Object\u6a21\u5f0f\u53ef\u4ee5\u53c2\u8003\u4e00\u4e0bWiki: Page Object \u6a21\u5f0f Page Factory \u5173\u4e8e\u8fd9\u4e24\u4e2a\u65b9\u5f0f\uff0c\u603b\u7ed3\u4e00\u4e0b\u5c31\u662f\uff1a - Page Object \u6a21\u5f0f\u7528\u6765\u7ba1\u7406\u9875\u9762\u5143\u7d20,\u907f\u514d\u4e00\u4e9b\u5143\u7d20\u6563\u843d\u5728\u4ee3\u7801\u5404\u5904\uff0c\u4e00\u65e6\u9875\u9762\u53d1\u751f\u53d8\u5316\uff0c\u4ee3\u7801\u7ef4\u62a4\u5c31\u53d8\u5f97\u5f02\u5e38\u56f0\u96be\u548c\u7e41\u7410 - Page Factory\uff0c\u53ea\u8981\u662f\u4e00\u79cd\u521b\u5efaPageObject\u7684\u65b9\u5f0f,\u5b9e\u9645\u4e0a\u9875\u9762\u5143\u7d20\u901a\u8fc7Proxy\u65b9\u5f0f\u521b\u5efa\u7684;\u8fd9\u662f\u4e00\u79cd\u6bd4\u8f83\u7075\u6d3b\u7684\u601d\u8def\uff0c\u5b9a\u5236\u5316Page Factory\u7684\u65b9\u5f0f\u521b\u5efa\u5143\u7d20\u53ef\u4ee5\u63a7\u5236\u521b\u5efa\u5143\u7d20\uff0c\u53ef\u4ee5\u52a0\u5165\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5 From Selenium Wiki Page Object Page Objects Within your web app's UI there are areas that your tests interact with. A Page Object simply models these as objects within the test code. This reduces the amount of duplicated code and means that if the UI changes, the fix need only be applied in one place. Implementation Notes PageObjects can be thought of as facing in two directions simultaneously. Facing towards the developer of a test, they represent the services offered by a particular page. Facing away from the developer, they should be the only thing that has a deep knowledge of the structure of the HTML of a page (or part of a page) It's simplest to think of the methods on a Page Object as offering the \"services\" that a page offers rather than exposing the details and mechanics of the page. As an example, think of the inbox of any web-based email system. Amongst the services that it offers are typically the ability to compose a new email, to choose to read a single email, and to list the subject lines of the emails in the inbox. How these are implemented shouldn't matter to the test. Because we're encouraging the developer of a test to try and think about the services that they're interacting with rather than the implementation, PageObjects should seldom expose the underlying WebDriver instance. To facilitate this, methods on the PageObject should return other PageObjects. This means that we can effectively model the user's journey through our application. It also means that should the way that pages relate to one another change (like when the login page asks the user to change their password the first time they log into a service, when it previously didn't do that) simply changing the appropriate method's signature will cause the tests to fail to compile. Put another way, we can tell which tests would fail without needing to run them when we change the relationship between pages and reflect this in the PageObjects. One consequence of this approach is that it may be necessary to model (for example) both a successful and unsuccessful login, or a click could have a different result depending on the state of the app. When this happens, it is common to have multiple methods on the PageObject: public class LoginPage { public HomePage loginAs(String username, String password) { // ... clever magic happens here } public LoginPage loginAsExpectingError(String username, String password) { // ... failed login here, maybe because one or both of the username and password are wrong } public String getErrorMessage() { // So we can verify that the correct error is shown } } The code presented above shows an important point: the tests, not the PageObjects, should be responsible for making assertions about the state of a page. For example: public void testMessagesAreReadOrUnread() { Inbox inbox = new Inbox(driver); inbox.assertMessageWithSubjectIsUnread(\"I like cheese\"); inbox.assertMessageWithSubjectIsNotUnread(\"I'm not fond of tofu\"); } could be re-written as: public void testMessagesAreReadOrUnread() { Inbox inbox = new Inbox(driver); assertTrue(inbox.isMessageWithSubjectIsUnread(\"I like cheese\")); assertFalse(inbox.isMessageWithSubjectIsUnread(\"I'm not fond of tofu\")); } Of course, as with every guideline there are exceptions, and one that is commonly seen with PageObjects is to check that the WebDriver is on the correct page when we instantiate the PageObject. This is done in the example below. Finally, a PageObject need not represent an entire page. It may represent a section that appears many times within a site or page, such as site navigation. The essential principle is that there is only one place in your test suite with knowledge of the structure of the HTML of a particular (part of a) page. Summary The public methods represent the services that the page offers Try not to expose the internals of the page Generally don't make assertions Methods return other PageObjects Need not represent an entire page Different results for the same action are modelled as different methods Example public class LoginPage { private final WebDriver driver; public LoginPage(WebDriver driver) { this.driver = driver; // Check that we're on the right page. if (!\"Login\".equals(driver.getTitle())) { // Alternatively, we could navigate to the login page, perhaps logging out first throw new IllegalStateException(\"This is not the login page\"); } } // The login page contains several HTML elements that will be represented as WebElements. // The locators for these elements should only be defined once. By usernameLocator = By.id(\"username\"); By passwordLocator = By.id(\"passwd\"); By loginButtonLocator = By.id(\"login\"); // The login page allows the user to type their username into the username field public LoginPage typeUsername(String username) { // This is the only place that \"knows\" how to enter a username driver.findElement(usernameLocator).sendKeys(username); // Return the current page object as this action doesn't navigate to a page represented by another PageObject return this; } // The login page allows the user to type their password into the password field public LoginPage typePassword(String password) { // This is the only place that \"knows\" how to enter a password driver.findElement(passwordLocator).sendKeys(password); // Return the current page object as this action doesn't navigate to a page represented by another PageObject return this; } // The login page allows the user to submit the login form public HomePage submitLogin() { // This is the only place that submits the login form and expects the destination to be the home page. // A seperate method should be created for the instance of clicking login whilst expecting a login failure. driver.findElement(loginButtonLocator).submit(); // Return a new page object representing the destination. Should the login page ever // go somewhere else (for example, a legal disclaimer) then changing the method signature // for this method will mean that all tests that rely on this behaviour won't compile. return new HomePage(driver); } // The login page allows the user to submit the login form knowing that an invalid username and / or password were entered public LoginPage submitLoginExpectingFailure() { // This is the only place that submits the login form and expects the destination to be the login page due to login failure. driver.findElement(loginButtonLocator).submit(); // Return a new page object representing the destination. Should the user ever be navigated to the home page after submiting a login with credentials // expected to fail login, the script will fail when it attempts to instantiate the LoginPage PageObject. return new LoginPage(driver); } // Conceptually, the login page offers the user the service of being able to \"log into\" // the application using a user name and password. public HomePage loginAs(String username, String password) { // The PageObject methods that enter username, password & submit login have already defined and should not be repeated here. typeUsername(username); typePassword(password); return submitLogin(); } } Support in WebDriver There is a PageFactory in the support package that provides support for this pattern, and helps to remove some boiler-plate code from your Page Objects at the same time. Page Factory The PageFactory In order to support the PageObject pattern, WebDriver's support library contains a factory class. A Simple Example In order to use the PageFactory, first declare some fields on a PageObject that are WebElements or List<WebElement>, for example: package org.openqa.selenium.example; import org.openqa.selenium.WebElement; public class GoogleSearchPage { // Here's the element private WebElement q; public void searchFor(String text) { // And here we use it. Note that it looks like we've // not properly instantiated it yet.... q.sendKeys(text); q.submit(); } } In order for this code to work and not throw a NullPointerException because the \"q\" field isn't instantiated, we need to initialise the PageObject: package org.openqa.selenium.example; import org.openqa.selenium.WebDriver; import org.openqa.selenium.WebElement; import org.openqa.selenium.htmlunit.HtmlUnitDriver; import org.openqa.selenium.support.PageFactory; public class UsingGoogleSearchPage { public static void main(String[] args) { // Create a new instance of a driver WebDriver driver = new HtmlUnitDriver(); // Navigate to the right place driver.get(\"http://www.google.com/\"); // Create a new instance of the search page class // and initialise any WebElement fields in it. GoogleSearchPage page = PageFactory.initElements(driver, GoogleSearchPage.class); // And now do the search. page.searchFor(\"Cheese\"); } } Explanation The PageFactory relies on using sensible defaults: the name of the field in the Java class is assumed to be the \"id\" or \"name\" of the element on the HTML page. That is, in the example above, the line: q.sendKeys(text); is equivalent to: driver.findElement(By.id(\"q\")).sendKeys(text); The driver instance that's used is the one that's passed to the PageFactory's initElements method. In the example given, we rely on the PageFactory to instantiate the instance of the PageObject. It does this by first looking for a constructor that takes \"WebDriver\" as its sole argument (public SomePage(WebDriver driver) {). If this is not present, then the default constructor is called. Sometimes, however, the PageObject depends on more than just an instance of the WebDriver interface. Should this be the case, it is possible to get the PageFactory to initialise the elements of an already constructed object: ComplexPageObject page = new ComplexPageObject(\"expected title\", driver); // Note, we still need to pass in an instance of driver for the // initialised elements to use PageFactory.initElements(driver, page); Making the Example Work Using Annotations When we run the example, the PageFactory will search for an element on the page that matches the field name of the WebElement in the class. It does this by first looking for an element with a matching ID attribute. If this fails, the PageFactory falls back to searching for an element by the value of its \"name\" attribute. Although the code works, someone who's not familiar with the source of the Google home page may not know that the name of the field is \"q\". Fortunately, we can pick a meaningful name and change the strategy used to look the element up using an annotation: package org.openqa.selenium.example; import org.openqa.selenium.By; import org.openqa.selenium.support.FindBy; import org.openqa.selenium.support.How; import org.openqa.selenium.WebElement; public class GoogleSearchPage { // The element is now looked up using the name attribute @FindBy(how = How.NAME, using = \"q\") private WebElement searchBox; public void searchFor(String text) { // We continue using the element just as before searchBox.sendKeys(text); searchBox.submit(); } } One wrinkle that remains is that every time we call a method on the WebElement, the driver will go and find it on the current page again. In an AJAX-heavy application this is what you would like to happen, but in the case of the Google search page we know that the element is always going to be there and won't change. We also know that we won't be navigating away from the page and returning (which would mean that a different element with the same name would be present) It would be handy if we could \"cache\" the element once we'd looked it up: package org.openqa.selenium.example; import org.openqa.selenium.By; import org.openqa.selenium.support.CacheLookup; import org.openqa.selenium.support.FindBy; import org.openqa.selenium.support.How; import org.openqa.selenium.WebElement; public class GoogleSearchPage { // The element is now looked up using the name attribute, // and we never look it up once it has been used the first time @FindBy(how = How.NAME, using = \"q\") @CacheLookup private WebElement searchBox; public void searchFor(String text) { // We continue using the element just as before searchBox.sendKeys(text); searchBox.submit(); } } Reducing Verbosity The example above is still a little verbose. A slightly cleaner way of annotating the field would be: public class GoogleSearchPage { @FindBy(name = \"q\") private WebElement searchBox; // The rest of the class is unchanged. } Notes If you use the PageFactory, you can assume that the fields are initialised. If you don't use the PageFactory, then NullPointerExceptions will be thrown if you make the assumption that the fields are already initialised. List<WebElement> fields are decorated if and only if they have @FindBy or @FindBys annotation. Default search strategy \"by id or name\" that works for WebElement fields is hardly suitable for lists because it is rare to have several elements with the same id or name on a page. WebElements are evaluated lazily. That is, if you never use a WebElement field in a PageObject, there will never be a call to \"findElement\" for it. The functionality works using dynamic proxies. This means that you shouldn't expect a WebElement to be a particular subclass, even if you know the type of the driver. For example, if you are using the HtmlUnitDriver, you shouldn't expect the WebElement field to be initialised with an instance of HtmlUnitWebElement.","title":"Page Object/Page Factory"},{"location":"tips/page_object/#page-object","text":"\u5173\u4e8ePage Object\u6a21\u5f0f\u53ef\u4ee5\u53c2\u8003\u4e00\u4e0bWiki: Page Object \u6a21\u5f0f Page Factory \u5173\u4e8e\u8fd9\u4e24\u4e2a\u65b9\u5f0f\uff0c\u603b\u7ed3\u4e00\u4e0b\u5c31\u662f\uff1a - Page Object \u6a21\u5f0f\u7528\u6765\u7ba1\u7406\u9875\u9762\u5143\u7d20,\u907f\u514d\u4e00\u4e9b\u5143\u7d20\u6563\u843d\u5728\u4ee3\u7801\u5404\u5904\uff0c\u4e00\u65e6\u9875\u9762\u53d1\u751f\u53d8\u5316\uff0c\u4ee3\u7801\u7ef4\u62a4\u5c31\u53d8\u5f97\u5f02\u5e38\u56f0\u96be\u548c\u7e41\u7410 - Page Factory\uff0c\u53ea\u8981\u662f\u4e00\u79cd\u521b\u5efaPageObject\u7684\u65b9\u5f0f,\u5b9e\u9645\u4e0a\u9875\u9762\u5143\u7d20\u901a\u8fc7Proxy\u65b9\u5f0f\u521b\u5efa\u7684;\u8fd9\u662f\u4e00\u79cd\u6bd4\u8f83\u7075\u6d3b\u7684\u601d\u8def\uff0c\u5b9a\u5236\u5316Page Factory\u7684\u65b9\u5f0f\u521b\u5efa\u5143\u7d20\u53ef\u4ee5\u63a7\u5236\u521b\u5efa\u5143\u7d20\uff0c\u53ef\u4ee5\u52a0\u5165\u81ea\u5b9a\u4e49\u7684\u65b9\u6cd5","title":"Page Object\u6a21\u5f0f"},{"location":"tips/page_object/#from-selenium-wiki","text":"Page Object Page Objects Within your web app's UI there are areas that your tests interact with. A Page Object simply models these as objects within the test code. This reduces the amount of duplicated code and means that if the UI changes, the fix need only be applied in one place. Implementation Notes PageObjects can be thought of as facing in two directions simultaneously. Facing towards the developer of a test, they represent the services offered by a particular page. Facing away from the developer, they should be the only thing that has a deep knowledge of the structure of the HTML of a page (or part of a page) It's simplest to think of the methods on a Page Object as offering the \"services\" that a page offers rather than exposing the details and mechanics of the page. As an example, think of the inbox of any web-based email system. Amongst the services that it offers are typically the ability to compose a new email, to choose to read a single email, and to list the subject lines of the emails in the inbox. How these are implemented shouldn't matter to the test. Because we're encouraging the developer of a test to try and think about the services that they're interacting with rather than the implementation, PageObjects should seldom expose the underlying WebDriver instance. To facilitate this, methods on the PageObject should return other PageObjects. This means that we can effectively model the user's journey through our application. It also means that should the way that pages relate to one another change (like when the login page asks the user to change their password the first time they log into a service, when it previously didn't do that) simply changing the appropriate method's signature will cause the tests to fail to compile. Put another way, we can tell which tests would fail without needing to run them when we change the relationship between pages and reflect this in the PageObjects. One consequence of this approach is that it may be necessary to model (for example) both a successful and unsuccessful login, or a click could have a different result depending on the state of the app. When this happens, it is common to have multiple methods on the PageObject: public class LoginPage { public HomePage loginAs(String username, String password) { // ... clever magic happens here } public LoginPage loginAsExpectingError(String username, String password) { // ... failed login here, maybe because one or both of the username and password are wrong } public String getErrorMessage() { // So we can verify that the correct error is shown } } The code presented above shows an important point: the tests, not the PageObjects, should be responsible for making assertions about the state of a page. For example: public void testMessagesAreReadOrUnread() { Inbox inbox = new Inbox(driver); inbox.assertMessageWithSubjectIsUnread(\"I like cheese\"); inbox.assertMessageWithSubjectIsNotUnread(\"I'm not fond of tofu\"); } could be re-written as: public void testMessagesAreReadOrUnread() { Inbox inbox = new Inbox(driver); assertTrue(inbox.isMessageWithSubjectIsUnread(\"I like cheese\")); assertFalse(inbox.isMessageWithSubjectIsUnread(\"I'm not fond of tofu\")); } Of course, as with every guideline there are exceptions, and one that is commonly seen with PageObjects is to check that the WebDriver is on the correct page when we instantiate the PageObject. This is done in the example below. Finally, a PageObject need not represent an entire page. It may represent a section that appears many times within a site or page, such as site navigation. The essential principle is that there is only one place in your test suite with knowledge of the structure of the HTML of a particular (part of a) page. Summary The public methods represent the services that the page offers Try not to expose the internals of the page Generally don't make assertions Methods return other PageObjects Need not represent an entire page Different results for the same action are modelled as different methods Example public class LoginPage { private final WebDriver driver; public LoginPage(WebDriver driver) { this.driver = driver; // Check that we're on the right page. if (!\"Login\".equals(driver.getTitle())) { // Alternatively, we could navigate to the login page, perhaps logging out first throw new IllegalStateException(\"This is not the login page\"); } } // The login page contains several HTML elements that will be represented as WebElements. // The locators for these elements should only be defined once. By usernameLocator = By.id(\"username\"); By passwordLocator = By.id(\"passwd\"); By loginButtonLocator = By.id(\"login\"); // The login page allows the user to type their username into the username field public LoginPage typeUsername(String username) { // This is the only place that \"knows\" how to enter a username driver.findElement(usernameLocator).sendKeys(username); // Return the current page object as this action doesn't navigate to a page represented by another PageObject return this; } // The login page allows the user to type their password into the password field public LoginPage typePassword(String password) { // This is the only place that \"knows\" how to enter a password driver.findElement(passwordLocator).sendKeys(password); // Return the current page object as this action doesn't navigate to a page represented by another PageObject return this; } // The login page allows the user to submit the login form public HomePage submitLogin() { // This is the only place that submits the login form and expects the destination to be the home page. // A seperate method should be created for the instance of clicking login whilst expecting a login failure. driver.findElement(loginButtonLocator).submit(); // Return a new page object representing the destination. Should the login page ever // go somewhere else (for example, a legal disclaimer) then changing the method signature // for this method will mean that all tests that rely on this behaviour won't compile. return new HomePage(driver); } // The login page allows the user to submit the login form knowing that an invalid username and / or password were entered public LoginPage submitLoginExpectingFailure() { // This is the only place that submits the login form and expects the destination to be the login page due to login failure. driver.findElement(loginButtonLocator).submit(); // Return a new page object representing the destination. Should the user ever be navigated to the home page after submiting a login with credentials // expected to fail login, the script will fail when it attempts to instantiate the LoginPage PageObject. return new LoginPage(driver); } // Conceptually, the login page offers the user the service of being able to \"log into\" // the application using a user name and password. public HomePage loginAs(String username, String password) { // The PageObject methods that enter username, password & submit login have already defined and should not be repeated here. typeUsername(username); typePassword(password); return submitLogin(); } } Support in WebDriver There is a PageFactory in the support package that provides support for this pattern, and helps to remove some boiler-plate code from your Page Objects at the same time. Page Factory The PageFactory In order to support the PageObject pattern, WebDriver's support library contains a factory class. A Simple Example In order to use the PageFactory, first declare some fields on a PageObject that are WebElements or List<WebElement>, for example: package org.openqa.selenium.example; import org.openqa.selenium.WebElement; public class GoogleSearchPage { // Here's the element private WebElement q; public void searchFor(String text) { // And here we use it. Note that it looks like we've // not properly instantiated it yet.... q.sendKeys(text); q.submit(); } } In order for this code to work and not throw a NullPointerException because the \"q\" field isn't instantiated, we need to initialise the PageObject: package org.openqa.selenium.example; import org.openqa.selenium.WebDriver; import org.openqa.selenium.WebElement; import org.openqa.selenium.htmlunit.HtmlUnitDriver; import org.openqa.selenium.support.PageFactory; public class UsingGoogleSearchPage { public static void main(String[] args) { // Create a new instance of a driver WebDriver driver = new HtmlUnitDriver(); // Navigate to the right place driver.get(\"http://www.google.com/\"); // Create a new instance of the search page class // and initialise any WebElement fields in it. GoogleSearchPage page = PageFactory.initElements(driver, GoogleSearchPage.class); // And now do the search. page.searchFor(\"Cheese\"); } } Explanation The PageFactory relies on using sensible defaults: the name of the field in the Java class is assumed to be the \"id\" or \"name\" of the element on the HTML page. That is, in the example above, the line: q.sendKeys(text); is equivalent to: driver.findElement(By.id(\"q\")).sendKeys(text); The driver instance that's used is the one that's passed to the PageFactory's initElements method. In the example given, we rely on the PageFactory to instantiate the instance of the PageObject. It does this by first looking for a constructor that takes \"WebDriver\" as its sole argument (public SomePage(WebDriver driver) {). If this is not present, then the default constructor is called. Sometimes, however, the PageObject depends on more than just an instance of the WebDriver interface. Should this be the case, it is possible to get the PageFactory to initialise the elements of an already constructed object: ComplexPageObject page = new ComplexPageObject(\"expected title\", driver); // Note, we still need to pass in an instance of driver for the // initialised elements to use PageFactory.initElements(driver, page); Making the Example Work Using Annotations When we run the example, the PageFactory will search for an element on the page that matches the field name of the WebElement in the class. It does this by first looking for an element with a matching ID attribute. If this fails, the PageFactory falls back to searching for an element by the value of its \"name\" attribute. Although the code works, someone who's not familiar with the source of the Google home page may not know that the name of the field is \"q\". Fortunately, we can pick a meaningful name and change the strategy used to look the element up using an annotation: package org.openqa.selenium.example; import org.openqa.selenium.By; import org.openqa.selenium.support.FindBy; import org.openqa.selenium.support.How; import org.openqa.selenium.WebElement; public class GoogleSearchPage { // The element is now looked up using the name attribute @FindBy(how = How.NAME, using = \"q\") private WebElement searchBox; public void searchFor(String text) { // We continue using the element just as before searchBox.sendKeys(text); searchBox.submit(); } } One wrinkle that remains is that every time we call a method on the WebElement, the driver will go and find it on the current page again. In an AJAX-heavy application this is what you would like to happen, but in the case of the Google search page we know that the element is always going to be there and won't change. We also know that we won't be navigating away from the page and returning (which would mean that a different element with the same name would be present) It would be handy if we could \"cache\" the element once we'd looked it up: package org.openqa.selenium.example; import org.openqa.selenium.By; import org.openqa.selenium.support.CacheLookup; import org.openqa.selenium.support.FindBy; import org.openqa.selenium.support.How; import org.openqa.selenium.WebElement; public class GoogleSearchPage { // The element is now looked up using the name attribute, // and we never look it up once it has been used the first time @FindBy(how = How.NAME, using = \"q\") @CacheLookup private WebElement searchBox; public void searchFor(String text) { // We continue using the element just as before searchBox.sendKeys(text); searchBox.submit(); } } Reducing Verbosity The example above is still a little verbose. A slightly cleaner way of annotating the field would be: public class GoogleSearchPage { @FindBy(name = \"q\") private WebElement searchBox; // The rest of the class is unchanged. } Notes If you use the PageFactory, you can assume that the fields are initialised. If you don't use the PageFactory, then NullPointerExceptions will be thrown if you make the assumption that the fields are already initialised. List<WebElement> fields are decorated if and only if they have @FindBy or @FindBys annotation. Default search strategy \"by id or name\" that works for WebElement fields is hardly suitable for lists because it is rare to have several elements with the same id or name on a page. WebElements are evaluated lazily. That is, if you never use a WebElement field in a PageObject, there will never be a call to \"findElement\" for it. The functionality works using dynamic proxies. This means that you shouldn't expect a WebElement to be a particular subclass, even if you know the type of the driver. For example, if you are using the HtmlUnitDriver, you shouldn't expect the WebElement field to be initialised with an instance of HtmlUnitWebElement.","title":"From Selenium Wiki"},{"location":"tips/random_data/","text":"\u968f\u673a\u6570\u636e\u751f\u6210 \u624b\u673a\u53f7 RandomHelper.generateMobilePhoneNumber(); \u8eab\u4efd\u8bc1\u53f7 RandomHelper.generateIdCardNumber() \u683c\u5f0f\u5316\u540e\u7684\u65f6\u95f4 DateHelper.formatDate(new Date(),-10) QQ\u53f7 RandomHelper.generateQQNumber() \u533a\u95f4\u968f\u673a\u6570\u503c RandomHelper.getNumAsString(100,300); \u6307\u5b9a\u6570\u7ec4/\u5217\u8868\u7684\u968f\u673a\u503c RandomHelper.getRandomFrom(Lists.newArrayList(\"\u5b66\u533a\u623f\",\"\u9996\u5957\",\"\u6295\u8d44\",\"\u5a5a\u623f\",\"\u5730\u94c1\"));","title":"\u968f\u673a\u6570\u636e"},{"location":"tips/random_data/#_1","text":"","title":"\u968f\u673a\u6570\u636e\u751f\u6210"},{"location":"tips/random_data/#_2","text":"RandomHelper.generateMobilePhoneNumber();","title":"\u624b\u673a\u53f7"},{"location":"tips/random_data/#_3","text":"RandomHelper.generateIdCardNumber()","title":"\u8eab\u4efd\u8bc1\u53f7"},{"location":"tips/random_data/#_4","text":"DateHelper.formatDate(new Date(),-10)","title":"\u683c\u5f0f\u5316\u540e\u7684\u65f6\u95f4"},{"location":"tips/random_data/#qq","text":"RandomHelper.generateQQNumber()","title":"QQ\u53f7"},{"location":"tips/random_data/#_5","text":"RandomHelper.getNumAsString(100,300);","title":"\u533a\u95f4\u968f\u673a\u6570\u503c"},{"location":"tips/random_data/#_6","text":"RandomHelper.getRandomFrom(Lists.newArrayList(\"\u5b66\u533a\u623f\",\"\u9996\u5957\",\"\u6295\u8d44\",\"\u5a5a\u623f\",\"\u5730\u94c1\"));","title":"\u6307\u5b9a\u6570\u7ec4/\u5217\u8868\u7684\u968f\u673a\u503c"},{"location":"tips/repeatable_elements/","text":"\u91cd\u590d\u586b\u5199\u63a7\u4ef6 \u5982\u4e0a\u56fe\uff0c\u6dfb\u52a0\u5176\u4ed6\u8054\u7cfb\u65b9\u5f0f\u7684\u65f6\u5019\uff0c\u9700\u8981\u70b9\u51fb\u4e00\u4e2a\u6dfb\u52a0\u5176\u4ed6\u8054\u7cfb\u4eba\uff0c\u589e\u52a0\u4e00\u6b21\u6570\u636e\uff0c\u9488\u5bf9\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u7ec4\u4ef6\uff1a RepeatableElement\uff0c\u4ed6\u505a\u7684\u4e8b\u60c5\u662f\u8fd9\u6837\u7684\uff1a 1. \u5982\u679c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u91cd\u590d\u8f93\u5165\u7684\u6846\u5df2\u7ecf\u5b58\u5728\uff0c\u4f1a\u5148\u5904\u7406\u8fd9\u4e9b 2. \u7136\u540e\u6839\u636e\u8f93\u5165\u6570\u636e\uff0c\u4e00\u6b21\u586b\u5199\u4e00\u6b21\u6570\u636e\uff0c\u70b9\u51fb\u6dfb\u52a0\u5176\u4ed6\u8054\u7cfb\u65b9\u5f0f 3. \u7136\u540e\u518d\u8f93\u5165\u6570\u636e\uff0c\u4f9d\u6b21\u5faa\u73af\u5230\u7ed3\u675f \u5177\u4f53\u4f7f\u7528 \u5b9a\u4e49\u5143\u7d20\u7684\u4f4d\u7f6e\uff1a//div[@ng-repeat='phone in contact.phones' \u5b9a\u4e49RepeatableOptions\uff1a \u5982\u679c\u6ca1\u6709\u521d\u59cb\u7684\u5143\u7d20\u9700\u8981\u586b\u5199\uff0c\u5219initCount\u4e0d\u7528\u5b9a\u4e49\u9ed8\u8ba4\u4e3a0\uff0c\u5982\u679c\u67092\u4e2a\uff0c\u5c31\u5199initCount=2 repeatTriggerXpathLocator \u6307\u7684\u5c31\u662f\u7c7b\u4f3c\u4e8e\u6dfb\u52a0\u5176\u4ed6\u8054\u7cfb\u65b9\u5f0f\u8fd9\u6837\u7684\u6309\u94ae\uff0c\u6bcf\u6b21\u70b9\u51fb\u4f1a\u65b0\u52a0\u4e00\u6761\u8bb0\u5f55 offsetXPathForRepeatableRoot\uff0c\u6307\u7684\u662f\u548c\u6839\u91cd\u590d\u5143\u7d20\u7684\u504f\u79fb\u91cf\uff0c\u6709\u65f6\u9700\u8981\u8bbe\u7f6e\uff0c\u6709\u65f6\u4e0d\u9700\u8981\u8bbe\u7f6e\uff0c\u5728\u4e0a\u56fe\u4f8b\u5b50\u4e2d\u8bbe\u7f6e\u662f\u56e0\u4e3a\u4ed6\u4e24\u79cd\u60c5\u51b5\u7ed1\u5b9a\u7684\u540c\u4e00\u4e2ang-model,\u6240\u4ee5\u9700\u8981\u533a\u5206 \u793a\u4f8b\u4ee3\u7801\uff1a @FindBy(xpath=\"//div[@ng-repeat='phone in contact.phones']\") @ElementName(elementName=\"\u5176\u4ed6\u8054\u7cfb\u65b9\u5f0f\") @RepeatableOptions(repeatTriggerXpathLocator = \"//a[text()='\u6dfb\u52a0\u5176\u4ed6\u8054\u7cfb\u65b9\u5f0f']\", offsetXPathForRepeatableRoot = \"//*[@ng-show=\\\"phone.phoneType != 'tel'\\\"]\") private NgRepeatableElement otherContact; \u914d\u7f6e\u6570\u636e\u5728excel\u91cc\u9762\uff1a PropertyContactsTestData.otherContact [{\"phoneType\":\"\u5fae\u4fe1\",\"phoneNumber\":\"mked9090\"},{\"phoneType\":\"QQ\",\"phoneNumber\":\"10090\"}] otherContact\u5c31\u662f\u9875\u9762\u5143\u7d20\u5bf9\u5e94\u7684\u503c\uff0cphoneType\u8868\u793ang-model\u7ed1\u5b9a\u503c\u7684\u90e8\u5206\u540d\u5b57\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u6837\u5b9a\u4e49\u53ef\u89c1\u4e0b\u56fe\uff1a \u5982\u4e0a\u56fe\uff0c\u91cc\u9762\u7684ng-model,\u4f7f\u7528\u4e86pythonType,phoneNumber,\u6240\u4ee5\u6570\u636e\u91cc\u9762\u5c31\u662f\"model-name\":\"value\" \u5176\u4ed6\u573a\u666f\u652f\u6301 \u7406\u8bba\u4e0a\u548c\u4ee5\u4e0a\u573a\u666f\u4e00\u6837\u7684\u90fd\u53ef\u4ee5\u652f\u6301\uff0c\u6bd4\u5982\u5199\u65e5\u62a5\uff0c\u8fd9\u6837\u586b\u5199\u5bf9\u5e94\u7684\u6570\u636e\u5c31\u53ef\u4ee5","title":"\u91cd\u590d\u586b\u5199\u63a7\u4ef6\u4f7f\u7528"},{"location":"tips/repeatable_elements/#_1","text":"\u5982\u4e0a\u56fe\uff0c\u6dfb\u52a0\u5176\u4ed6\u8054\u7cfb\u65b9\u5f0f\u7684\u65f6\u5019\uff0c\u9700\u8981\u70b9\u51fb\u4e00\u4e2a\u6dfb\u52a0\u5176\u4ed6\u8054\u7cfb\u4eba\uff0c\u589e\u52a0\u4e00\u6b21\u6570\u636e\uff0c\u9488\u5bf9\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u81ea\u5b9a\u4e49\u7684\u7ec4\u4ef6\uff1a RepeatableElement\uff0c\u4ed6\u505a\u7684\u4e8b\u60c5\u662f\u8fd9\u6837\u7684\uff1a 1. \u5982\u679c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u91cd\u590d\u8f93\u5165\u7684\u6846\u5df2\u7ecf\u5b58\u5728\uff0c\u4f1a\u5148\u5904\u7406\u8fd9\u4e9b 2. \u7136\u540e\u6839\u636e\u8f93\u5165\u6570\u636e\uff0c\u4e00\u6b21\u586b\u5199\u4e00\u6b21\u6570\u636e\uff0c\u70b9\u51fb\u6dfb\u52a0\u5176\u4ed6\u8054\u7cfb\u65b9\u5f0f 3. \u7136\u540e\u518d\u8f93\u5165\u6570\u636e\uff0c\u4f9d\u6b21\u5faa\u73af\u5230\u7ed3\u675f","title":"\u91cd\u590d\u586b\u5199\u63a7\u4ef6"},{"location":"tips/repeatable_elements/#_2","text":"\u5b9a\u4e49\u5143\u7d20\u7684\u4f4d\u7f6e\uff1a//div[@ng-repeat='phone in contact.phones' \u5b9a\u4e49RepeatableOptions\uff1a \u5982\u679c\u6ca1\u6709\u521d\u59cb\u7684\u5143\u7d20\u9700\u8981\u586b\u5199\uff0c\u5219initCount\u4e0d\u7528\u5b9a\u4e49\u9ed8\u8ba4\u4e3a0\uff0c\u5982\u679c\u67092\u4e2a\uff0c\u5c31\u5199initCount=2 repeatTriggerXpathLocator \u6307\u7684\u5c31\u662f\u7c7b\u4f3c\u4e8e\u6dfb\u52a0\u5176\u4ed6\u8054\u7cfb\u65b9\u5f0f\u8fd9\u6837\u7684\u6309\u94ae\uff0c\u6bcf\u6b21\u70b9\u51fb\u4f1a\u65b0\u52a0\u4e00\u6761\u8bb0\u5f55 offsetXPathForRepeatableRoot\uff0c\u6307\u7684\u662f\u548c\u6839\u91cd\u590d\u5143\u7d20\u7684\u504f\u79fb\u91cf\uff0c\u6709\u65f6\u9700\u8981\u8bbe\u7f6e\uff0c\u6709\u65f6\u4e0d\u9700\u8981\u8bbe\u7f6e\uff0c\u5728\u4e0a\u56fe\u4f8b\u5b50\u4e2d\u8bbe\u7f6e\u662f\u56e0\u4e3a\u4ed6\u4e24\u79cd\u60c5\u51b5\u7ed1\u5b9a\u7684\u540c\u4e00\u4e2ang-model,\u6240\u4ee5\u9700\u8981\u533a\u5206 \u793a\u4f8b\u4ee3\u7801\uff1a @FindBy(xpath=\"//div[@ng-repeat='phone in contact.phones']\") @ElementName(elementName=\"\u5176\u4ed6\u8054\u7cfb\u65b9\u5f0f\") @RepeatableOptions(repeatTriggerXpathLocator = \"//a[text()='\u6dfb\u52a0\u5176\u4ed6\u8054\u7cfb\u65b9\u5f0f']\", offsetXPathForRepeatableRoot = \"//*[@ng-show=\\\"phone.phoneType != 'tel'\\\"]\") private NgRepeatableElement otherContact; \u914d\u7f6e\u6570\u636e\u5728excel\u91cc\u9762\uff1a PropertyContactsTestData.otherContact [{\"phoneType\":\"\u5fae\u4fe1\",\"phoneNumber\":\"mked9090\"},{\"phoneType\":\"QQ\",\"phoneNumber\":\"10090\"}] otherContact\u5c31\u662f\u9875\u9762\u5143\u7d20\u5bf9\u5e94\u7684\u503c\uff0cphoneType\u8868\u793ang-model\u7ed1\u5b9a\u503c\u7684\u90e8\u5206\u540d\u5b57\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u6837\u5b9a\u4e49\u53ef\u89c1\u4e0b\u56fe\uff1a \u5982\u4e0a\u56fe\uff0c\u91cc\u9762\u7684ng-model,\u4f7f\u7528\u4e86pythonType,phoneNumber,\u6240\u4ee5\u6570\u636e\u91cc\u9762\u5c31\u662f\"model-name\":\"value\"","title":"\u5177\u4f53\u4f7f\u7528"},{"location":"tips/repeatable_elements/#_3","text":"\u7406\u8bba\u4e0a\u548c\u4ee5\u4e0a\u573a\u666f\u4e00\u6837\u7684\u90fd\u53ef\u4ee5\u652f\u6301\uff0c\u6bd4\u5982\u5199\u65e5\u62a5\uff0c\u8fd9\u6837\u586b\u5199\u5bf9\u5e94\u7684\u6570\u636e\u5c31\u53ef\u4ee5","title":"\u5176\u4ed6\u573a\u666f\u652f\u6301"},{"location":"tips/selenium_in_a_wild_way/","text":"SELENIUM\u7ba1\u7406\u9875\u9762\u5143\u7d20 \u5728WEB\u81ea\u52a8\u5316\u6d4b\u8bd5\u4e2d,\u4e00\u4e2a\u6700\u57fa\u672c\u7684\u529f\u80fd\u662f\u5c31\u662f\u64cd\u4f5c\u9875\u9762\u5143\u7d20,\u8f93\u5165\u6570\u636e. \u4e0b\u9762\u5c31\u4ecb\u7ecd\u4e00\u4e0b\u4e0d\u540c\u7ba1\u7406\u9875\u9762\u5143\u7d20\u7684\u65b9\u5f0f,\u4ee5\u53ca\u6211\u4eec\u6846\u67b6\u662f\u5982\u4f55\u7ba1\u7406\u9875\u9762\u5143\u7d20\u7684. Selenium\u7684\u64cd\u4f5c \u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684SELENIUM \u64cd\u4f5c\u7684\u4f8b\u5b50, //\u627e\u5230\u8f93\u5165\u6846\u5143\u7d20 WebElement element = driver.findElement(By.id(\"password\")); //\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u5185\u5bb9\uff1a element.sendKeys(\"123456\"); //\u5c06\u8f93\u5165\u6846\u6e05\u7a7a\uff1a element.clear(); //\u83b7\u53d6\u8f93\u5165\u6846\u7684\u6587\u672c\u5185\u5bb9\uff1a element.getText(); \u90a3\u4e48\u5982\u679c\u590d\u6742\u4e00\u70b9\u7684\u9875\u9762\u6216\u8005\u4e1a\u52a1\u6d41\u7a0b,\u901a\u8fc7SELENIUM\u7684\u64cd\u4f5c\u53bb\u63a7\u5236\u7684\u8bdd,\u64cd\u4f5c\u7684\u4ee3\u7801\u53ef\u80fd\u662f\u8fd9\u6837\u7684: //\u627e\u5230\u8f93\u5165\u6846\u5143\u7d20 WebElement element = driver.findElement(By.id(\"password\")); //\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u5185\u5bb9\uff1a element.sendKeys(\"123456\"); //\u5c06\u8f93\u5165\u6846\u6e05\u7a7a\uff1a element.clear(); //\u83b7\u53d6\u8f93\u5165\u6846\u7684\u6587\u672c\u5185\u5bb9\uff1a element.getText(); WebElement element1 = driver.findElement(By.id(\"password\")); //\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u5185\u5bb9\uff1a element1.sendKeys(\"123456\"); //\u5c06\u8f93\u5165\u6846\u6e05\u7a7a\uff1a element1.clear(); //\u83b7\u53d6\u8f93\u5165\u6846\u7684\u6587\u672c\u5185\u5bb9\uff1a element1.getText(); \u90a3\u4e48\u5982\u679c\u8fd9\u6837\u7684\u5904\u7406\u6709\u4ec0\u4e48\u4e0d\u597d\u7684\u5730\u65b9\u5417? \u5143\u7d20\u4f4d\u7f6e\u5b9a\u4e49\u53ef\u80fd\u6563\u843d\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u91cc\u9762,\u4e00\u65e6\u9875\u9762\u5143\u7d20\u51fa\u73b0\u53d8\u5316,\u4e0d\u597d\u7ef4\u62a4 \u4ee3\u7801\u91cf\u4e0d\u5c0f \u4ee3\u7801\u7684\u7ec4\u7ec7\u4e0d\u597d Selenium Page Object\u6a21\u5f0f \u4e3a\u4e86\u89e3\u51b3\u66f4\u597d\u7684\u89e3\u51b3\u4ee3\u7801\u7ec4\u7ec7\u7684,Selenium\u63d0\u4f9b\u4e86\u4e00\u4e2aPage Object\u7684\u65b9\u5f0f,\u6765\u7ba1\u7406\u9875\u9762,\u5c31\u662f\u5c06\u9875\u9762\u7684\u5143\u7d20\u7edf\u4e00 \u653e\u5728\u4e00\u4e2a\u9875\u9762\u7c7b\u91cc\u9762,\u540c\u65f6\u4e5f\u53ef\u4ee5\u5305\u6db5\u9875\u9762\u591a\u4e2a\u5143\u7d20\u7684\u64cd\u4f5c,\u8fd9\u6837\u5199\u7684\u65b9\u5f0f\u5c31\u628a\u9875\u9762\u5143\u7d20\u5728\u7edf\u4e00\u7684\u5730\u65b9\u7ba1\u7406\u8d77\u6765\u4e86, \u5982\u679c\u9875\u9762\u5143\u7d20\u6709\u53d8\u5316,\u53ea\u8981\u5728\u4e00\u5904\u4fee\u6539\u5c31\u53ef\u4ee5\u4e86 public class GoogleSearchPage { // Here's the element private WebElement q; public void searchFor(String text) { // And here we use it. Note that it looks like we've // not properly instantiated it yet.... q.sendKeys(text); q.submit(); } } \u540c\u65f6Selenium \u63d0\u4f9b\u4e86\u4e00\u79cdPage Factory\u7684\u65b9\u5f0f\u6765\u6784\u5efa\u9875\u9762\u7c7b: \u901a\u8fc7\u5c06\u9875\u9762\u5143\u7d20\u7684\u5b9a\u4e49\u653e\u5728FindBy\u7684\u6ce8\u89e3\u91cc\u9762,\u901a\u8fc7PageFactory\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u9875\u9762\u7c7b,\u540c\u65f6\u7531\u4e8e\u9875\u9762\u5143\u7d20 \u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\u751f\u6210\u7684,\u4e5f\u5c31\u662f\u8bf4\u5728\u5b9e\u4f8b\u5316\u9875\u9762\u7c7b\u5143\u7d20\u7684\u65f6\u5019,\u5c31\u7b97\u9875\u9762\u8fd8\u6ca1\u6709\u51fa\u73b0,\u9875\u9762\u5143\u7d20\u6ca1\u6709\u51fa\u73b0\u90fd\u4e0d\u4f1a\u51fa\u73b0 NoSuchElement\u7684\u9519,\u53ea\u6709\u5728\u771f\u6b63\u4f7f\u7528\u8fd9\u4e2a\u5143\u7d20\u7684\u65f6\u5019(\u56e0\u4e3a\u662f\u901a\u8fc7Proxy\u521b\u5efa\u7684), \u4f1a\u5148\u81ea\u52a8\u53bbfindElement\u518d\u8fdb\u884c\u5177\u4f53\u7684\u64cd\u4f5c\u6307\u4ee4 public class GoogleSearchPage { // The element is now looked up using the name attribute @FindBy(how = How.NAME, using = \"q\") private WebElement searchBox; public void searchFor(String text) { // We continue using the element just as before searchBox.sendKeys(text); searchBox.submit(); } public void searchFor(String text) { GoogleSearchPage page\uff1d PageFactory.initElements(new ChromeDriver(), GoogleSearchPage.class); } } \u4ee5\u4e0a\u7684\u4e24\u79cd\u65b9\u6cd5\u90fd\u662f\u4e3a\u4e86\u66f4\u597d\u7684\u7ec4\u7ec7\u9875\u9762,\u901a\u8fc7\u8fd9\u4e24\u79cd\u65b9\u5f0f\u7ec4\u7ec7\u4e4b\u540e,\u4ee3\u7801\u53ef\u80fd\u662f\u8fd9\u6837\u7684\u4e86: GoogleSearchPage page\uff1d PageFactory.initElements(new ChromeDriver(), GoogleSearchPage.class); page.getSearchBox.click(); page.getSearchBox.sendKeys(\"12345\"); page.searchFor(\"1234564\") \u8fd9\u6837\u5176\u5b9e\u5df2\u7ecf\u633a\u597d\u4e86,\u552f\u4e00\u7684\u95ee\u9898\u53ef\u80fd\u5c31\u662f\u4ee3\u7801\u91cf\u8fd8\u662f\u6709\u70b9\u591a,\u540c\u65f6\u5982\u679c\u6709\u591a\u4e2a\u9875\u9762\u7684\u65f6\u5019\u64cd\u4f5c\u9875\u9762\u5143\u7d20\u7684\u4ee3\u7801\u4f1a\u66f4\u591a. \u4ece\u66f4\u62bd\u8c61\u7684\u89d2\u5ea6\u6765\u8bf4,\u9875\u9762\u5143\u7d20\u7684\u6bcf\u4e00\u4e2a\u64cd\u4f5c,\u5176\u5b9e\u90fd\u662f\u5728\u9875\u9762\u5143\u7d20\u4e0a\u8f93\u5165\u6570\u636e(\u63d0\u4ea4,\u6309\u94ae,\u70b9\u5c31link\u8fd9\u79cd\u53ef\u4ee5\u8ba4\u4e3a\u6570\u636e\u662f\u4e3a\u7a7a). \u540c\u65f6\u5bf9\u4e8e\u5b9e\u9645\u7684\u64cd\u4f5c\u8005\u6765\u8bf4,\u6709\u4e24\u4e2a\u9690\u542b\u7684\u60ef\u4f8b: \u64cd\u4f5c\u8fd9\u4e9b\u5143\u7d20\u8fd8\u6709\u4e00\u4e2a\u6697\u542b\u7684\u903b\u8f91\u5c31\u662f,\u8f93\u5165\u67d0\u4e2a\u6570\u636e,\u5c31\u8868\u793a\u4e86\u64cd\u4f5c\u67d0\u4e2a\u5143\u7d20(\u6570\u636e\u548c\u9875\u9762\u5143\u7d20\u6709\u4e00\u4e2a\u5bf9\u5e94\u5173\u7cfb). \u540c\u65f6\u5927\u90e8\u5206\u7684\u5143\u7d20\u4ed6\u7684\u64cd\u4f5c\u90fd\u662f\u4e00\u4e2a\u56fa\u5b9a\u7684\u64cd\u4f5c,\u6bd4\u5982Button\u4e00\u822c\u60c5\u51b5\u4e0b\u5c31\u662fclick(\u9875\u9762\u5143\u7d20\u548c\u64cd\u4f5c\u6709\u4e2a\u5bf9\u5e94\u5173\u7cfb) \u800c\u5bf9\u4e8e\u81ea\u52a8\u5316\u6d4b\u8bd5\u6765\u8bf4,\u5f80\u5f80\u4f1a\u8fdb\u884c\u6570\u636e\u9a71\u52a8,\u5c31\u662f\u4f7f\u7528\u4e0d\u540c\u7684\u6570\u636e\u6765\u8868\u8ff0\u4e0d\u540c\u6d4b\u8bd5\u7528\u4f8b,\u90a3\u4e48\u8003\u8651\u5230\u6570\u636e\u5b9e\u9645\u4e0a\u548c\u5143\u7d20\u8fd8\u6709\u4e00\u4e2a\u9690\u542b\u7684\u5bf9\u5e94\u5173\u7cfb \u5b9e\u9645\u4e0a\u6570\u636e\u4e5f\u53ef\u4ee5\u9a71\u52a8\u9875\u9762\u5143\u7d20\u7684\u64cd\u4f5c. \u57fa\u4e8e\u4ee5\u4e0a\u7684\u51e0\u4e2a\u60ef\u4f8b,\u5c31\u4ea7\u751f\u4e86\u76ee\u524d\u7684\u6846\u67b6\u7684\u4e00\u4e2a\u57fa\u672c\u539f\u7406: \u9875\u9762\u5143\u7d20\u901a\u8fc7\u5143\u7d20\u547d\u540d\u76f8\u540c\u6765\u548c\u6570\u636e\u505a\u5bf9\u5e94\u5339\u914d \u5b9a\u4e49\u5143\u7d20\u7684\u9ed8\u8ba4\u64cd\u4f5c \u901a\u8fc7\u6570\u636e\u6765\u95f4\u63a5\u64cd\u4f5c\u5143\u7d20(\u57fa\u4e8e1,2) \u901a\u8fc7\u9875\u9762\u5143\u7d20\u6765\u7ec4\u7ec7\u6d41\u7a0b(\u5143\u7d20\u7684\u987a\u5e8f,\u5143\u7d20\u5bf9\u5e94\u6570\u636e\u7684\u6709\u65e0,\u5143\u7d20\u7684\u9ed8\u8ba4\u64cd\u4f5c\u6216\u8005\u6307\u5b9a\u64cd\u4f5c) \u76ee\u524d\u6846\u67b6\u7684\u539f\u7406\u4ecb\u7ecd \u4ee5\u4e0b\u662f\u76ee\u524d\u6846\u67b6\u7684\u4e00\u4e9b\u57fa\u672c\u6982\u5ff5: \u9875\u9762\u57fa\u7840\u5143\u7d20(\u5c01\u88c5\u4e86\u7684\u4e00\u4e9bHTML\u5143\u7d20),\u63d0\u4f9b\u57fa\u7840\u7684\u5143\u7d20\u64cd\u4f5c,\u540c\u65f6\u5b9a\u4e49\u9ed8\u8ba4\u7684\u5143\u7d20\u64cd\u4f5c \u9875\u9762\u5143\u7d20\u5b9a\u4e49(Page Object),\u63cf\u8ff0\u9875\u9762\u5143\u7d20\u4f4d\u7f6e \u6d4b\u8bd5\u6570\u636e,\u63a5\u6536\u8f93\u5165\u6570\u636e \u6839\u636e\u6570\u636e\u5b9a\u4e49\u7684\u6d41\u7a0b,\u6267\u884c\u4e1a\u52a1\u6d41\u7a0b\u7684\u6267\u884c\u5668(annotation,\u6216\u8005\u81ea\u5b9a\u4e49) \u90a3\u4e48\u5982\u4f55\u7406\u89e3: //\u6839\u636e\u6570\u636e\u5b9a\u4e49\u7684\u6d41\u7a0b,\u6267\u884c\u4e1a\u52a1\u6d41\u7a0b\u7684\u6267\u884c\u5668(annotation,\u6216\u8005\u81ea\u5b9a\u4e49) @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u623f\u6e90\",elementActionDescription={\"contactName\", \"relationship\",\"residence\",\"contactPhone\" ,\"contactTel\",\"propertySource\" ,\"status\",\"price\",\"handPrice\",\"rentPrice\" ,\"shape\",\"countF\",\"countT\",\"countW\",\"countGarden\",\"countCellar\",\"square\",\"floor\",\"floorAll\" ,\"currentStatus\",\"rentExpireDate\",\"rentAvailableDate\" ,\"currentStatusRemark\",\"propertyLook\",\"whenToLookHouse\",\"keyRemark\",\"isAuction\" ,\"countGarage\",\"countParks\",\"officeGrade\",\"realRate\",\"floorHeight\",\"airConditionCosts\", \"depth\",\"floorHeight\",\"transferFee\",\"managementFee\",\"electricPower\" ,\"propertyDirection\",\"waterToward\",\"buyinDate\" ,\"propertyDecoration\",\"flagLoan\",\"remark\",\"submit\"}) }) //\u9875\u9762\u5143\u7d20\u5b9a\u4e49 public class AddFangYuanSecondStepPage extends ExecutablePageObject { public AddFangYuanSecondStepPage(WebDriver driver) { super(driver); } @FindBy(name=\"property_propertySource\") @ElementName(elementName=\"property.propertySource\") private Radio propertySource; //Radio \u9875\u9762\u57fa\u7840\u5143\u7d20 @FindBy(name=\"property_status\") @ElementName(elementName=\"property.status\") private Radio status; @FindBy(name=\"property_shape\") @ElementName(elementName=\"property.shape\") \u6d4b\u8bd5\u6570\u636e: \u8fd9\u91cc\u7684\u6d4b\u8bd5\u6570\u636e\u53d8\u91cf\u7684\u547d\u540d\u548c\u9875\u9762\u5143\u7d20\u7684\u53d8\u91cf\u547d\u540d\u5982\u679c\u662f\u4e00\u6837\u7684,\u90a3\u4e48\u5143\u7d20\u548c\u6570\u636e\u7684\u9690\u542b\u7684\u5bf9\u5e94\u5173\u7cfb\u5c31\u5efa\u7acb\u4e86 public class TestData{ private String propertySource; //\u6b64\u5904propertySource \u5982\u679cAddFangYuanSecondStepPage \u5728\u76f8\u540c\u7684\u4e1a\u52a1\u6d41\u7a0b\u4e2d //\u548c\u9875\u9762\u9875\u9762\u57fa\u7840\u5143\u7d20propertySource \u5c31\u4f1a\u81ea\u52a8\u5efa\u7acb private String status; // ignore getter/setter } \u4e1a\u52a1\u6d41\u7a0b: public static void addProperty(WebDriver driver, TestData testData){ ModifiedPageFactory.createPageObject(driver, AddFangYuanSecondStepPage.class) .processUIAction(\"\u65b0\u589e\u623f\u6e90\", testData); } //or WebTestActionBuilder.usePage(AddFangYuanSecondStepPage.class,driver).process(\"\u65b0\u589e\u623f\u6e90\",testData); WebTestActionBuilder.execute(Lists.newArrayList(FangYuanPropertyPage.class),\"\u65b0\u589e\u623f\u6e90\",testData,driver); //entrustDetail,edit \u662f\u9875\u9762\u7684\u5143\u7d20\u540d\u79f0,entrustDetail\u6709\u548c\u6570\u636e\u5bf9\u5e94\u4e0a\u4e86 WebTestActionBuilder.createTestActionByElementActionList(FangYuanPropertyPage.class, Lists.newArrayList(\"entrustDetail\",\"edit\"), driver, testData).execute(); \u5f53\u7136\u901a\u8fc7\u539f\u6765Page Object\u91cc\u9762\u7684\u65b9\u5f0f\u53bb\u5b9e\u73b0\u4e5f\u662f\u53ef\u4ee5\u7684,\u53ea\u4e0d\u8fc7\u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u5f0f\u6765\u5199,\u5c31\u662f\u8282\u7ea6\u4e0d\u5c11\u4ee3\u7801\u91cf. \u7c7b\u4f3c\u4e8efindElement,\u6216\u8005\u5176\u5b83\u7684\u64cd\u4f5c\u5c31\u770b\u4e0d\u592a\u5230\u4e86. \u4ee5\u4e0a\u662f\u76ee\u524d\u6846\u67b6\u5b9e\u73b0\u7684\u4e00\u4e2a\u57fa\u672c\u539f\u7406,\u91cc\u9762\u5982\u4f55\u901a\u8fc7\u540d\u5b57\u5bf9\u5e94\u5b9e\u9645\u4e0a\u90fd\u662f\u901a\u8fc7JAVA\u7684\u53cd\u5c04\u5b9e\u73b0\u7684.\u540c\u65f6\u8fd9\u6837\u7684\u505a\u7684\u597d\u5904\u5176\u5b9e\u8fd8\u6709: \u53ef\u4ee5\u65b9\u4fbf\u7684\u8fdb\u884c\u7edf\u4e00\u5904\u7406,\u7531\u4e8e\u9875\u9762\u5143\u7d20\u548c\u9875\u9762\u5927\u90e8\u5206\u90fd\u662f\u901a\u8fc7WebTestActionBuilder\u5185\u90e8\u521b\u5efa\u7684,\u90a3\u4e48\u5728\u521b\u5efa\u9875\u9762\u540e,\u6216\u8005\u521b\u5efa\u5143\u7d20\u524d\u5982\u679c\u6709\u9700\u8981\u8fdb\u884c\u7279\u522b\u5904\u7406 \u5c31\u662f\u53ef\u4ee5\u7edf\u4e00\u5728\u4e00\u5904\u8fdb\u884c\u7279\u522b\u5904\u7406\u4e86,\u76ee\u524d\u6ca1\u6709\u8fd9\u6837\u7684\u9700\u6c42,\u4f46\u662f\u5982\u679c\u6709\u9700\u8981,\u6539\u52a8\u4e5f\u4e0d\u4f1a\u592a\u5927\u7684\u4e86,\u4e3e\u4e2a\u4f8b\u5b50\u6765\u8bf4,\u5982\u679c\u4f60\u60f3\u68c0\u67e5\u67d0\u4e9b\u5143\u7d20\u7684\u663e\u793a\u6587\u672c\u662f\u4ec0\u4e48,\u5176\u5b9e\u6211\u4eec\u53ea\u8981 \u52a0\u6ce8\u89e3\u7684\u65b9\u5f0f,\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e2a\u6ce8\u89e3 @CheckText(expectedText=\"abcds\"), \u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5728WebTestActionBuilder\u52a0\u4e00\u4e2a\u5904\u7406\u8fd9\u4e2a\u6ce8\u89e3\u65b9\u6cd5, \u5728\u5143\u7d20\u521b\u5efa\u4e4b\u540e,\u68c0\u67e5\u4ed6\u7684\u6587\u672c\u662f\u4e0d\u662fabcds,\u7c7b\u4f3c\u7684\u8fd9\u4e9b\u4e0d\u53d8\u7684\u5185\u5bb9,\u53ef\u4ee5\u901a\u8fc7\u52a0\u4e2a\u6ce8\u89e3\u6765\u89e3\u51b3,\u53ef\u4ee5\u4e0d\u9700\u8981\u5728\u4e0d\u540c\u7684\u4ee3\u7801\u6dfb\u52a0\u4e00\u4e9bAssertion \u53ef\u4ee5\u5728\u65b0\u9875\u9762\u6253\u5f00\u65f6\u8fdb\u884c\u7279\u522b\u7684\u5904\u7406,\u6bd4\u5982\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u9875\u9762\u8bf7\u6c42\u5c31\u5f55\u5236\u9875\u9762\u7684\u8bf7\u6c42,\u90a3\u4e48\u4e5f\u53ef\u4ee5\u6bd4\u8f83\u7edf\u4e00\u5904\u7406,\u539f\u7406\u548c\u4e0a\u9762\u7684\u4e00\u6837","title":"WEB\u9875\u9762\u81ea\u52a8\u5316-SELENIUM\u7ba1\u7406\u9875\u9762\u5143\u7d20"},{"location":"tips/selenium_in_a_wild_way/#selenium","text":"\u5728WEB\u81ea\u52a8\u5316\u6d4b\u8bd5\u4e2d,\u4e00\u4e2a\u6700\u57fa\u672c\u7684\u529f\u80fd\u662f\u5c31\u662f\u64cd\u4f5c\u9875\u9762\u5143\u7d20,\u8f93\u5165\u6570\u636e. \u4e0b\u9762\u5c31\u4ecb\u7ecd\u4e00\u4e0b\u4e0d\u540c\u7ba1\u7406\u9875\u9762\u5143\u7d20\u7684\u65b9\u5f0f,\u4ee5\u53ca\u6211\u4eec\u6846\u67b6\u662f\u5982\u4f55\u7ba1\u7406\u9875\u9762\u5143\u7d20\u7684.","title":"SELENIUM\u7ba1\u7406\u9875\u9762\u5143\u7d20"},{"location":"tips/selenium_in_a_wild_way/#selenium_1","text":"\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684SELENIUM \u64cd\u4f5c\u7684\u4f8b\u5b50, //\u627e\u5230\u8f93\u5165\u6846\u5143\u7d20 WebElement element = driver.findElement(By.id(\"password\")); //\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u5185\u5bb9\uff1a element.sendKeys(\"123456\"); //\u5c06\u8f93\u5165\u6846\u6e05\u7a7a\uff1a element.clear(); //\u83b7\u53d6\u8f93\u5165\u6846\u7684\u6587\u672c\u5185\u5bb9\uff1a element.getText(); \u90a3\u4e48\u5982\u679c\u590d\u6742\u4e00\u70b9\u7684\u9875\u9762\u6216\u8005\u4e1a\u52a1\u6d41\u7a0b,\u901a\u8fc7SELENIUM\u7684\u64cd\u4f5c\u53bb\u63a7\u5236\u7684\u8bdd,\u64cd\u4f5c\u7684\u4ee3\u7801\u53ef\u80fd\u662f\u8fd9\u6837\u7684: //\u627e\u5230\u8f93\u5165\u6846\u5143\u7d20 WebElement element = driver.findElement(By.id(\"password\")); //\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u5185\u5bb9\uff1a element.sendKeys(\"123456\"); //\u5c06\u8f93\u5165\u6846\u6e05\u7a7a\uff1a element.clear(); //\u83b7\u53d6\u8f93\u5165\u6846\u7684\u6587\u672c\u5185\u5bb9\uff1a element.getText(); WebElement element1 = driver.findElement(By.id(\"password\")); //\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\u5185\u5bb9\uff1a element1.sendKeys(\"123456\"); //\u5c06\u8f93\u5165\u6846\u6e05\u7a7a\uff1a element1.clear(); //\u83b7\u53d6\u8f93\u5165\u6846\u7684\u6587\u672c\u5185\u5bb9\uff1a element1.getText(); \u90a3\u4e48\u5982\u679c\u8fd9\u6837\u7684\u5904\u7406\u6709\u4ec0\u4e48\u4e0d\u597d\u7684\u5730\u65b9\u5417? \u5143\u7d20\u4f4d\u7f6e\u5b9a\u4e49\u53ef\u80fd\u6563\u843d\u5728\u4e0d\u540c\u7684\u6587\u4ef6\u91cc\u9762,\u4e00\u65e6\u9875\u9762\u5143\u7d20\u51fa\u73b0\u53d8\u5316,\u4e0d\u597d\u7ef4\u62a4 \u4ee3\u7801\u91cf\u4e0d\u5c0f \u4ee3\u7801\u7684\u7ec4\u7ec7\u4e0d\u597d","title":"Selenium\u7684\u64cd\u4f5c"},{"location":"tips/selenium_in_a_wild_way/#selenium-page-object","text":"\u4e3a\u4e86\u89e3\u51b3\u66f4\u597d\u7684\u89e3\u51b3\u4ee3\u7801\u7ec4\u7ec7\u7684,Selenium\u63d0\u4f9b\u4e86\u4e00\u4e2aPage Object\u7684\u65b9\u5f0f,\u6765\u7ba1\u7406\u9875\u9762,\u5c31\u662f\u5c06\u9875\u9762\u7684\u5143\u7d20\u7edf\u4e00 \u653e\u5728\u4e00\u4e2a\u9875\u9762\u7c7b\u91cc\u9762,\u540c\u65f6\u4e5f\u53ef\u4ee5\u5305\u6db5\u9875\u9762\u591a\u4e2a\u5143\u7d20\u7684\u64cd\u4f5c,\u8fd9\u6837\u5199\u7684\u65b9\u5f0f\u5c31\u628a\u9875\u9762\u5143\u7d20\u5728\u7edf\u4e00\u7684\u5730\u65b9\u7ba1\u7406\u8d77\u6765\u4e86, \u5982\u679c\u9875\u9762\u5143\u7d20\u6709\u53d8\u5316,\u53ea\u8981\u5728\u4e00\u5904\u4fee\u6539\u5c31\u53ef\u4ee5\u4e86 public class GoogleSearchPage { // Here's the element private WebElement q; public void searchFor(String text) { // And here we use it. Note that it looks like we've // not properly instantiated it yet.... q.sendKeys(text); q.submit(); } } \u540c\u65f6Selenium \u63d0\u4f9b\u4e86\u4e00\u79cdPage Factory\u7684\u65b9\u5f0f\u6765\u6784\u5efa\u9875\u9762\u7c7b: \u901a\u8fc7\u5c06\u9875\u9762\u5143\u7d20\u7684\u5b9a\u4e49\u653e\u5728FindBy\u7684\u6ce8\u89e3\u91cc\u9762,\u901a\u8fc7PageFactory\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u9875\u9762\u7c7b,\u540c\u65f6\u7531\u4e8e\u9875\u9762\u5143\u7d20 \u662f\u61d2\u52a0\u8f7d\u7684\u65b9\u5f0f\u751f\u6210\u7684,\u4e5f\u5c31\u662f\u8bf4\u5728\u5b9e\u4f8b\u5316\u9875\u9762\u7c7b\u5143\u7d20\u7684\u65f6\u5019,\u5c31\u7b97\u9875\u9762\u8fd8\u6ca1\u6709\u51fa\u73b0,\u9875\u9762\u5143\u7d20\u6ca1\u6709\u51fa\u73b0\u90fd\u4e0d\u4f1a\u51fa\u73b0 NoSuchElement\u7684\u9519,\u53ea\u6709\u5728\u771f\u6b63\u4f7f\u7528\u8fd9\u4e2a\u5143\u7d20\u7684\u65f6\u5019(\u56e0\u4e3a\u662f\u901a\u8fc7Proxy\u521b\u5efa\u7684), \u4f1a\u5148\u81ea\u52a8\u53bbfindElement\u518d\u8fdb\u884c\u5177\u4f53\u7684\u64cd\u4f5c\u6307\u4ee4 public class GoogleSearchPage { // The element is now looked up using the name attribute @FindBy(how = How.NAME, using = \"q\") private WebElement searchBox; public void searchFor(String text) { // We continue using the element just as before searchBox.sendKeys(text); searchBox.submit(); } public void searchFor(String text) { GoogleSearchPage page\uff1d PageFactory.initElements(new ChromeDriver(), GoogleSearchPage.class); } } \u4ee5\u4e0a\u7684\u4e24\u79cd\u65b9\u6cd5\u90fd\u662f\u4e3a\u4e86\u66f4\u597d\u7684\u7ec4\u7ec7\u9875\u9762,\u901a\u8fc7\u8fd9\u4e24\u79cd\u65b9\u5f0f\u7ec4\u7ec7\u4e4b\u540e,\u4ee3\u7801\u53ef\u80fd\u662f\u8fd9\u6837\u7684\u4e86: GoogleSearchPage page\uff1d PageFactory.initElements(new ChromeDriver(), GoogleSearchPage.class); page.getSearchBox.click(); page.getSearchBox.sendKeys(\"12345\"); page.searchFor(\"1234564\") \u8fd9\u6837\u5176\u5b9e\u5df2\u7ecf\u633a\u597d\u4e86,\u552f\u4e00\u7684\u95ee\u9898\u53ef\u80fd\u5c31\u662f\u4ee3\u7801\u91cf\u8fd8\u662f\u6709\u70b9\u591a,\u540c\u65f6\u5982\u679c\u6709\u591a\u4e2a\u9875\u9762\u7684\u65f6\u5019\u64cd\u4f5c\u9875\u9762\u5143\u7d20\u7684\u4ee3\u7801\u4f1a\u66f4\u591a. \u4ece\u66f4\u62bd\u8c61\u7684\u89d2\u5ea6\u6765\u8bf4,\u9875\u9762\u5143\u7d20\u7684\u6bcf\u4e00\u4e2a\u64cd\u4f5c,\u5176\u5b9e\u90fd\u662f\u5728\u9875\u9762\u5143\u7d20\u4e0a\u8f93\u5165\u6570\u636e(\u63d0\u4ea4,\u6309\u94ae,\u70b9\u5c31link\u8fd9\u79cd\u53ef\u4ee5\u8ba4\u4e3a\u6570\u636e\u662f\u4e3a\u7a7a). \u540c\u65f6\u5bf9\u4e8e\u5b9e\u9645\u7684\u64cd\u4f5c\u8005\u6765\u8bf4,\u6709\u4e24\u4e2a\u9690\u542b\u7684\u60ef\u4f8b: \u64cd\u4f5c\u8fd9\u4e9b\u5143\u7d20\u8fd8\u6709\u4e00\u4e2a\u6697\u542b\u7684\u903b\u8f91\u5c31\u662f,\u8f93\u5165\u67d0\u4e2a\u6570\u636e,\u5c31\u8868\u793a\u4e86\u64cd\u4f5c\u67d0\u4e2a\u5143\u7d20(\u6570\u636e\u548c\u9875\u9762\u5143\u7d20\u6709\u4e00\u4e2a\u5bf9\u5e94\u5173\u7cfb). \u540c\u65f6\u5927\u90e8\u5206\u7684\u5143\u7d20\u4ed6\u7684\u64cd\u4f5c\u90fd\u662f\u4e00\u4e2a\u56fa\u5b9a\u7684\u64cd\u4f5c,\u6bd4\u5982Button\u4e00\u822c\u60c5\u51b5\u4e0b\u5c31\u662fclick(\u9875\u9762\u5143\u7d20\u548c\u64cd\u4f5c\u6709\u4e2a\u5bf9\u5e94\u5173\u7cfb) \u800c\u5bf9\u4e8e\u81ea\u52a8\u5316\u6d4b\u8bd5\u6765\u8bf4,\u5f80\u5f80\u4f1a\u8fdb\u884c\u6570\u636e\u9a71\u52a8,\u5c31\u662f\u4f7f\u7528\u4e0d\u540c\u7684\u6570\u636e\u6765\u8868\u8ff0\u4e0d\u540c\u6d4b\u8bd5\u7528\u4f8b,\u90a3\u4e48\u8003\u8651\u5230\u6570\u636e\u5b9e\u9645\u4e0a\u548c\u5143\u7d20\u8fd8\u6709\u4e00\u4e2a\u9690\u542b\u7684\u5bf9\u5e94\u5173\u7cfb \u5b9e\u9645\u4e0a\u6570\u636e\u4e5f\u53ef\u4ee5\u9a71\u52a8\u9875\u9762\u5143\u7d20\u7684\u64cd\u4f5c. \u57fa\u4e8e\u4ee5\u4e0a\u7684\u51e0\u4e2a\u60ef\u4f8b,\u5c31\u4ea7\u751f\u4e86\u76ee\u524d\u7684\u6846\u67b6\u7684\u4e00\u4e2a\u57fa\u672c\u539f\u7406: \u9875\u9762\u5143\u7d20\u901a\u8fc7\u5143\u7d20\u547d\u540d\u76f8\u540c\u6765\u548c\u6570\u636e\u505a\u5bf9\u5e94\u5339\u914d \u5b9a\u4e49\u5143\u7d20\u7684\u9ed8\u8ba4\u64cd\u4f5c \u901a\u8fc7\u6570\u636e\u6765\u95f4\u63a5\u64cd\u4f5c\u5143\u7d20(\u57fa\u4e8e1,2) \u901a\u8fc7\u9875\u9762\u5143\u7d20\u6765\u7ec4\u7ec7\u6d41\u7a0b(\u5143\u7d20\u7684\u987a\u5e8f,\u5143\u7d20\u5bf9\u5e94\u6570\u636e\u7684\u6709\u65e0,\u5143\u7d20\u7684\u9ed8\u8ba4\u64cd\u4f5c\u6216\u8005\u6307\u5b9a\u64cd\u4f5c)","title":"Selenium Page Object\u6a21\u5f0f"},{"location":"tips/selenium_in_a_wild_way/#_1","text":"\u4ee5\u4e0b\u662f\u76ee\u524d\u6846\u67b6\u7684\u4e00\u4e9b\u57fa\u672c\u6982\u5ff5: \u9875\u9762\u57fa\u7840\u5143\u7d20(\u5c01\u88c5\u4e86\u7684\u4e00\u4e9bHTML\u5143\u7d20),\u63d0\u4f9b\u57fa\u7840\u7684\u5143\u7d20\u64cd\u4f5c,\u540c\u65f6\u5b9a\u4e49\u9ed8\u8ba4\u7684\u5143\u7d20\u64cd\u4f5c \u9875\u9762\u5143\u7d20\u5b9a\u4e49(Page Object),\u63cf\u8ff0\u9875\u9762\u5143\u7d20\u4f4d\u7f6e \u6d4b\u8bd5\u6570\u636e,\u63a5\u6536\u8f93\u5165\u6570\u636e \u6839\u636e\u6570\u636e\u5b9a\u4e49\u7684\u6d41\u7a0b,\u6267\u884c\u4e1a\u52a1\u6d41\u7a0b\u7684\u6267\u884c\u5668(annotation,\u6216\u8005\u81ea\u5b9a\u4e49) \u90a3\u4e48\u5982\u4f55\u7406\u89e3: //\u6839\u636e\u6570\u636e\u5b9a\u4e49\u7684\u6d41\u7a0b,\u6267\u884c\u4e1a\u52a1\u6d41\u7a0b\u7684\u6267\u884c\u5668(annotation,\u6216\u8005\u81ea\u5b9a\u4e49) @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u623f\u6e90\",elementActionDescription={\"contactName\", \"relationship\",\"residence\",\"contactPhone\" ,\"contactTel\",\"propertySource\" ,\"status\",\"price\",\"handPrice\",\"rentPrice\" ,\"shape\",\"countF\",\"countT\",\"countW\",\"countGarden\",\"countCellar\",\"square\",\"floor\",\"floorAll\" ,\"currentStatus\",\"rentExpireDate\",\"rentAvailableDate\" ,\"currentStatusRemark\",\"propertyLook\",\"whenToLookHouse\",\"keyRemark\",\"isAuction\" ,\"countGarage\",\"countParks\",\"officeGrade\",\"realRate\",\"floorHeight\",\"airConditionCosts\", \"depth\",\"floorHeight\",\"transferFee\",\"managementFee\",\"electricPower\" ,\"propertyDirection\",\"waterToward\",\"buyinDate\" ,\"propertyDecoration\",\"flagLoan\",\"remark\",\"submit\"}) }) //\u9875\u9762\u5143\u7d20\u5b9a\u4e49 public class AddFangYuanSecondStepPage extends ExecutablePageObject { public AddFangYuanSecondStepPage(WebDriver driver) { super(driver); } @FindBy(name=\"property_propertySource\") @ElementName(elementName=\"property.propertySource\") private Radio propertySource; //Radio \u9875\u9762\u57fa\u7840\u5143\u7d20 @FindBy(name=\"property_status\") @ElementName(elementName=\"property.status\") private Radio status; @FindBy(name=\"property_shape\") @ElementName(elementName=\"property.shape\") \u6d4b\u8bd5\u6570\u636e: \u8fd9\u91cc\u7684\u6d4b\u8bd5\u6570\u636e\u53d8\u91cf\u7684\u547d\u540d\u548c\u9875\u9762\u5143\u7d20\u7684\u53d8\u91cf\u547d\u540d\u5982\u679c\u662f\u4e00\u6837\u7684,\u90a3\u4e48\u5143\u7d20\u548c\u6570\u636e\u7684\u9690\u542b\u7684\u5bf9\u5e94\u5173\u7cfb\u5c31\u5efa\u7acb\u4e86 public class TestData{ private String propertySource; //\u6b64\u5904propertySource \u5982\u679cAddFangYuanSecondStepPage \u5728\u76f8\u540c\u7684\u4e1a\u52a1\u6d41\u7a0b\u4e2d //\u548c\u9875\u9762\u9875\u9762\u57fa\u7840\u5143\u7d20propertySource \u5c31\u4f1a\u81ea\u52a8\u5efa\u7acb private String status; // ignore getter/setter } \u4e1a\u52a1\u6d41\u7a0b: public static void addProperty(WebDriver driver, TestData testData){ ModifiedPageFactory.createPageObject(driver, AddFangYuanSecondStepPage.class) .processUIAction(\"\u65b0\u589e\u623f\u6e90\", testData); } //or WebTestActionBuilder.usePage(AddFangYuanSecondStepPage.class,driver).process(\"\u65b0\u589e\u623f\u6e90\",testData); WebTestActionBuilder.execute(Lists.newArrayList(FangYuanPropertyPage.class),\"\u65b0\u589e\u623f\u6e90\",testData,driver); //entrustDetail,edit \u662f\u9875\u9762\u7684\u5143\u7d20\u540d\u79f0,entrustDetail\u6709\u548c\u6570\u636e\u5bf9\u5e94\u4e0a\u4e86 WebTestActionBuilder.createTestActionByElementActionList(FangYuanPropertyPage.class, Lists.newArrayList(\"entrustDetail\",\"edit\"), driver, testData).execute(); \u5f53\u7136\u901a\u8fc7\u539f\u6765Page Object\u91cc\u9762\u7684\u65b9\u5f0f\u53bb\u5b9e\u73b0\u4e5f\u662f\u53ef\u4ee5\u7684,\u53ea\u4e0d\u8fc7\u901a\u8fc7\u8fd9\u6837\u7684\u65b9\u5f0f\u6765\u5199,\u5c31\u662f\u8282\u7ea6\u4e0d\u5c11\u4ee3\u7801\u91cf. \u7c7b\u4f3c\u4e8efindElement,\u6216\u8005\u5176\u5b83\u7684\u64cd\u4f5c\u5c31\u770b\u4e0d\u592a\u5230\u4e86. \u4ee5\u4e0a\u662f\u76ee\u524d\u6846\u67b6\u5b9e\u73b0\u7684\u4e00\u4e2a\u57fa\u672c\u539f\u7406,\u91cc\u9762\u5982\u4f55\u901a\u8fc7\u540d\u5b57\u5bf9\u5e94\u5b9e\u9645\u4e0a\u90fd\u662f\u901a\u8fc7JAVA\u7684\u53cd\u5c04\u5b9e\u73b0\u7684.\u540c\u65f6\u8fd9\u6837\u7684\u505a\u7684\u597d\u5904\u5176\u5b9e\u8fd8\u6709: \u53ef\u4ee5\u65b9\u4fbf\u7684\u8fdb\u884c\u7edf\u4e00\u5904\u7406,\u7531\u4e8e\u9875\u9762\u5143\u7d20\u548c\u9875\u9762\u5927\u90e8\u5206\u90fd\u662f\u901a\u8fc7WebTestActionBuilder\u5185\u90e8\u521b\u5efa\u7684,\u90a3\u4e48\u5728\u521b\u5efa\u9875\u9762\u540e,\u6216\u8005\u521b\u5efa\u5143\u7d20\u524d\u5982\u679c\u6709\u9700\u8981\u8fdb\u884c\u7279\u522b\u5904\u7406 \u5c31\u662f\u53ef\u4ee5\u7edf\u4e00\u5728\u4e00\u5904\u8fdb\u884c\u7279\u522b\u5904\u7406\u4e86,\u76ee\u524d\u6ca1\u6709\u8fd9\u6837\u7684\u9700\u6c42,\u4f46\u662f\u5982\u679c\u6709\u9700\u8981,\u6539\u52a8\u4e5f\u4e0d\u4f1a\u592a\u5927\u7684\u4e86,\u4e3e\u4e2a\u4f8b\u5b50\u6765\u8bf4,\u5982\u679c\u4f60\u60f3\u68c0\u67e5\u67d0\u4e9b\u5143\u7d20\u7684\u663e\u793a\u6587\u672c\u662f\u4ec0\u4e48,\u5176\u5b9e\u6211\u4eec\u53ea\u8981 \u52a0\u6ce8\u89e3\u7684\u65b9\u5f0f,\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u91cd\u65b0\u5b9a\u4e49\u4e00\u4e2a\u6ce8\u89e3 @CheckText(expectedText=\"abcds\"), \u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u5728WebTestActionBuilder\u52a0\u4e00\u4e2a\u5904\u7406\u8fd9\u4e2a\u6ce8\u89e3\u65b9\u6cd5, \u5728\u5143\u7d20\u521b\u5efa\u4e4b\u540e,\u68c0\u67e5\u4ed6\u7684\u6587\u672c\u662f\u4e0d\u662fabcds,\u7c7b\u4f3c\u7684\u8fd9\u4e9b\u4e0d\u53d8\u7684\u5185\u5bb9,\u53ef\u4ee5\u901a\u8fc7\u52a0\u4e2a\u6ce8\u89e3\u6765\u89e3\u51b3,\u53ef\u4ee5\u4e0d\u9700\u8981\u5728\u4e0d\u540c\u7684\u4ee3\u7801\u6dfb\u52a0\u4e00\u4e9bAssertion \u53ef\u4ee5\u5728\u65b0\u9875\u9762\u6253\u5f00\u65f6\u8fdb\u884c\u7279\u522b\u7684\u5904\u7406,\u6bd4\u5982\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u9875\u9762\u8bf7\u6c42\u5c31\u5f55\u5236\u9875\u9762\u7684\u8bf7\u6c42,\u90a3\u4e48\u4e5f\u53ef\u4ee5\u6bd4\u8f83\u7edf\u4e00\u5904\u7406,\u539f\u7406\u548c\u4e0a\u9762\u7684\u4e00\u6837","title":"\u76ee\u524d\u6846\u67b6\u7684\u539f\u7406\u4ecb\u7ecd"},{"location":"tips/simplest_testngreport/","text":"TestNG \u62a5\u544a\u5b9a\u5236\u6700\u7b80\u5355\u7684\u539f\u7406 \u5982\u679c\u9700\u8981\u5b9a\u5236TestNG\u7684\u6d4b\u8bd5\u62a5\u544a,\u53ef\u4ee5\u5148\u60f3\u4e00\u4e0b\u9996\u5148\u9700\u8981\u4ec0\u4e48\u7684\u6570\u636e,\u5176\u5b9e\u6700\u7b80\u5355\u7684\u6570\u636e\u5c31\u662f\u6d4b\u8bd5\u7528\u4f8b\u6210\u529f\u5931\u8d25\u7684\u6570\u636e, \u90a3\u4e48\u5b9e\u9645\u4e0aTestNG\u63d0\u4f9b\u4e86ITestListener\u7684\u63a5\u53e3\u53ef\u4ee5\u8ba9\u4f60\u83b7\u53d6\u8fd9\u4e9b\u6d4b\u8bd5\u6570\u636e. \u540c\u65f6IReporter \u63a5\u53e3\u53ef\u4ee5\u8ba9\u7528\u6237\u5728\u8c03\u7528\u6700\u540e\u81ea\u5df1\u751f\u6210\u6d4b\u8bd5\u62a5\u544a. \u6240\u4ee5\u5176\u5b9e\u53ea\u8981\u7528\u4e00\u4e2a\u7c7b\u5b9e\u73b0ITestListener,IReporter\u5c31\u53ef\u4ee5\u4e86. ITestListener,IReporter\u5b9e\u73b0 \u4e00\u4e0b\u662f\u6211\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u5b9e\u73b0, \u5b9e\u9645\u4e0aTestNG\u5f00\u653e\u51fa\u6765\u7684\u8fd9\u4e9b\u76d1\u542c\u5668,\u4e3b\u8981\u662f\u8ba9\u4f60\u53ef\u4ee5\u83b7\u53d6TestNG \u6d4b\u8bd5\u5bb9\u5668\u4e2d\u8fd0\u884c\u6d4b\u8bd5\u7684\u6570\u636e,\u4e0a\u4e0b\u6587. \u5173\u4e8e\u4ee3\u7801\u91cc\u9762\u7684ITestResult, xmlSuites,suites \u53ef\u4ee5\u81ea\u884c\u67e5\u627e public class TestNGSimpleReport implements ITestListener, IReporter { private List<String> testPassed = Lists.newArrayList(); private List<String> testFailed = Lists.newArrayList(); private List<String> testSkipped = Lists.newArrayList(); @Override public void generateReport(List<XmlSuite> xmlSuites, List<ISuite> suites, String outputDirectory) { System.out.println(\"Passed Case: \" + testPassed.size()); System.out.println(\"testFailed Case: \" + testFailed.size()); System.out.println(\"testSkipped Case: \" + testSkipped.size()); for (String passed : testPassed) { System.out.println(\"passed case:\" + passed); } for (String passed : testFailed) { System.out.println(\"failed case:\" + passed); } for (String passed : testSkipped) { System.out.println(\"skipped case:\" + passed); } } @Override public void onTestStart(ITestResult result) { } @Override public void onTestSuccess(ITestResult result) { testPassed.add(result.getMethod().getMethodName()); } @Override public void onTestFailure(ITestResult result) { testFailed.add(result.getMethod().getMethodName()); } @Override public void onTestSkipped(ITestResult result) { testSkipped.add(result.getMethod().getMethodName()); } @Override public void onTestFailedButWithinSuccessPercentage(ITestResult result) { } @Override public void onStart(ITestContext context) { } @Override public void onFinish(ITestContext context) { } } \u7f16\u5199TestNG\u7684\u6d4b\u8bd5 public class TestNGTest { @Test public void test_pass(){ System.out.println(\"passed_case\"); } @Test public void test_failed(){ Assert.assertTrue(false); } @Test public void test_pass_2(){ System.out.println(\"passed_case_2\"); } } \u5c06\u76d1\u542c\u5668\u653e\u5165Testng.xml\u6587\u4ef6 <suite name=\"SimpleReport\"> <listeners> <listener class-name=\"com.hedwig.testng.TestNGSimpleReport\"/> </listeners> <test verbose=\"1\" name=\"simple test\" > <classes> <class name=\"com.hedwig.testng.TestNGTest\"/> </classes> </test> </suite> \u8fd0\u884cTestng.xml\u6587\u4ef6,\u67e5\u770b\u7ed3\u679c \u7ed3\u679c\u5982\u4e0b,\u662f\u4e0d\u662f\u5f88\u7b80\u5355? \u5982\u679c\u60f3\u505a\u7684cool\u4e00\u70b9,\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u6570\u636e\u5199\u5230\u4e00\u4e2ahtml\u6a21\u7248,\u5199\u5165\u6587\u4ef6\u5c31\u53ef\u4ee5\u4e86 =============================================== SimpleReport Total tests run: 3, Failures: 1, Skips: 0 =============================================== Passed Case: 2 testFailed Case: 1 testSkipped Case: 0 passed case:test_pass passed case:test_pass_2 failed case:test_failed","title":"TestNG \u5b9a\u5236\u62a5\u8868\u7b80\u5355\u539f\u7406"},{"location":"tips/simplest_testngreport/#testng","text":"\u5982\u679c\u9700\u8981\u5b9a\u5236TestNG\u7684\u6d4b\u8bd5\u62a5\u544a,\u53ef\u4ee5\u5148\u60f3\u4e00\u4e0b\u9996\u5148\u9700\u8981\u4ec0\u4e48\u7684\u6570\u636e,\u5176\u5b9e\u6700\u7b80\u5355\u7684\u6570\u636e\u5c31\u662f\u6d4b\u8bd5\u7528\u4f8b\u6210\u529f\u5931\u8d25\u7684\u6570\u636e, \u90a3\u4e48\u5b9e\u9645\u4e0aTestNG\u63d0\u4f9b\u4e86ITestListener\u7684\u63a5\u53e3\u53ef\u4ee5\u8ba9\u4f60\u83b7\u53d6\u8fd9\u4e9b\u6d4b\u8bd5\u6570\u636e. \u540c\u65f6IReporter \u63a5\u53e3\u53ef\u4ee5\u8ba9\u7528\u6237\u5728\u8c03\u7528\u6700\u540e\u81ea\u5df1\u751f\u6210\u6d4b\u8bd5\u62a5\u544a. \u6240\u4ee5\u5176\u5b9e\u53ea\u8981\u7528\u4e00\u4e2a\u7c7b\u5b9e\u73b0ITestListener,IReporter\u5c31\u53ef\u4ee5\u4e86.","title":"TestNG \u62a5\u544a\u5b9a\u5236\u6700\u7b80\u5355\u7684\u539f\u7406"},{"location":"tips/simplest_testngreport/#itestlistenerireporter","text":"\u4e00\u4e0b\u662f\u6211\u4e00\u4e2a\u6700\u7b80\u5355\u7684\u5b9e\u73b0, \u5b9e\u9645\u4e0aTestNG\u5f00\u653e\u51fa\u6765\u7684\u8fd9\u4e9b\u76d1\u542c\u5668,\u4e3b\u8981\u662f\u8ba9\u4f60\u53ef\u4ee5\u83b7\u53d6TestNG \u6d4b\u8bd5\u5bb9\u5668\u4e2d\u8fd0\u884c\u6d4b\u8bd5\u7684\u6570\u636e,\u4e0a\u4e0b\u6587. \u5173\u4e8e\u4ee3\u7801\u91cc\u9762\u7684ITestResult, xmlSuites,suites \u53ef\u4ee5\u81ea\u884c\u67e5\u627e public class TestNGSimpleReport implements ITestListener, IReporter { private List<String> testPassed = Lists.newArrayList(); private List<String> testFailed = Lists.newArrayList(); private List<String> testSkipped = Lists.newArrayList(); @Override public void generateReport(List<XmlSuite> xmlSuites, List<ISuite> suites, String outputDirectory) { System.out.println(\"Passed Case: \" + testPassed.size()); System.out.println(\"testFailed Case: \" + testFailed.size()); System.out.println(\"testSkipped Case: \" + testSkipped.size()); for (String passed : testPassed) { System.out.println(\"passed case:\" + passed); } for (String passed : testFailed) { System.out.println(\"failed case:\" + passed); } for (String passed : testSkipped) { System.out.println(\"skipped case:\" + passed); } } @Override public void onTestStart(ITestResult result) { } @Override public void onTestSuccess(ITestResult result) { testPassed.add(result.getMethod().getMethodName()); } @Override public void onTestFailure(ITestResult result) { testFailed.add(result.getMethod().getMethodName()); } @Override public void onTestSkipped(ITestResult result) { testSkipped.add(result.getMethod().getMethodName()); } @Override public void onTestFailedButWithinSuccessPercentage(ITestResult result) { } @Override public void onStart(ITestContext context) { } @Override public void onFinish(ITestContext context) { } }","title":"ITestListener,IReporter\u5b9e\u73b0"},{"location":"tips/simplest_testngreport/#testng_1","text":"public class TestNGTest { @Test public void test_pass(){ System.out.println(\"passed_case\"); } @Test public void test_failed(){ Assert.assertTrue(false); } @Test public void test_pass_2(){ System.out.println(\"passed_case_2\"); } }","title":"\u7f16\u5199TestNG\u7684\u6d4b\u8bd5"},{"location":"tips/simplest_testngreport/#testngxml","text":"<suite name=\"SimpleReport\"> <listeners> <listener class-name=\"com.hedwig.testng.TestNGSimpleReport\"/> </listeners> <test verbose=\"1\" name=\"simple test\" > <classes> <class name=\"com.hedwig.testng.TestNGTest\"/> </classes> </test> </suite>","title":"\u5c06\u76d1\u542c\u5668\u653e\u5165Testng.xml\u6587\u4ef6"},{"location":"tips/simplest_testngreport/#testngxml_1","text":"\u7ed3\u679c\u5982\u4e0b,\u662f\u4e0d\u662f\u5f88\u7b80\u5355? \u5982\u679c\u60f3\u505a\u7684cool\u4e00\u70b9,\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u6570\u636e\u5199\u5230\u4e00\u4e2ahtml\u6a21\u7248,\u5199\u5165\u6587\u4ef6\u5c31\u53ef\u4ee5\u4e86 =============================================== SimpleReport Total tests run: 3, Failures: 1, Skips: 0 =============================================== Passed Case: 2 testFailed Case: 1 testSkipped Case: 0 passed case:test_pass passed case:test_pass_2 failed case:test_failed","title":"\u8fd0\u884cTestng.xml\u6587\u4ef6,\u67e5\u770b\u7ed3\u679c"},{"location":"tips/testng-xml-configuration/","text":"TestNG XML \u6d4b\u8bd5\u914d\u7f6e\u65b9\u6cd5\u4ecb\u7ecd TestNG XMl\u6d4b\u8bd5\u914d\u7f6e\u65b9\u6cd5,\u53ef\u4ee5\u7b80\u5355\u7684\u914d\u7f6e\u6d4b\u8bd5,\u4e5f\u53ef\u4ee5\u5c06\u4e00\u4e2atestng\u6587\u4ef6\u914d\u7f6e\u52a0\u5230\u53e6\u5916\u4e00\u4e2atestng\u6587\u4ef6\u4e86. \u914d\u7f6e\u5b9e\u4f8b: <suite name=\"\u6d4b\u8bd5\u7528\u4f8b\u96c6\u6d4b\u8bd5\"> <listeners> <listener class-name=\"com.Domain.automation.listener.testng.SimpleWebDriverScreenShotTestListener\"/> </listeners> <suite-files> <suite-file path=\"testng-test1.xml\"/> <suite-file path=\"testng-test_sample.xml\"></suite-file> </suite-files> <test verbose=\"1\" name=\"Domain-automation\"> <classes> <class name=\"com.Domain.automation.commonflows.DomainLoginHelperTest\"></class> <class name=\"com.Domain.automation.testscaffold.TestActionTest\"/> <class name=\"com.Domain.automation.testscaffold.WhereTest\"/> <class name=\"com.Domain.automation.drivers.DriverFactoryTest2\"/> <class name=\"com.Domain.automation.drivers.DriverFactoryTest\"/> <class name=\"com.Domain.automation.drivers.BrowserTypeTest\"/> <class name=\"com.Domain.automation.drivers.WebDriverModeTest\"/> </classes> </test> </suite> testng-test1.xml \u662f\u53e6\u5916\u4e00\u4e2atestng \u914d\u7f6e\u6587\u4ef6 <suite name=\"\u6d4b\u8bd5\u7528\u4f8b\u96c6\u6d4b\u8bd51\" > <listeners> <listener class-name=\"com.Domain.automation.listener.testng.SimpleRetryListener\" /> <listener class-name=\"com.Domain.automation.listener.testng.SimpleWebDriverScreenShotTestListener\"/> </listeners> <test verbose=\"1\" name=\"Domain-automation\"> <classes> <class name=\"com.Domain.automation.drivers.DriverFactoryTest_Concurrency\"> </class> </classes> </test> </suite> \u4e0a\u8ff0\u7684\u914d\u7f6e\u5f97\u6d4b\u8bd5\u62a5\u544a \u4e0d\u540c\u7684TestSuite\u4f1a\u5206\u5f00\u663e\u793a","title":"TestNG \u6d4b\u8bd5XML\u914d\u7f6e"},{"location":"tips/testng-xml-configuration/#testng-xml","text":"TestNG XMl\u6d4b\u8bd5\u914d\u7f6e\u65b9\u6cd5,\u53ef\u4ee5\u7b80\u5355\u7684\u914d\u7f6e\u6d4b\u8bd5,\u4e5f\u53ef\u4ee5\u5c06\u4e00\u4e2atestng\u6587\u4ef6\u914d\u7f6e\u52a0\u5230\u53e6\u5916\u4e00\u4e2atestng\u6587\u4ef6\u4e86. \u914d\u7f6e\u5b9e\u4f8b: <suite name=\"\u6d4b\u8bd5\u7528\u4f8b\u96c6\u6d4b\u8bd5\"> <listeners> <listener class-name=\"com.Domain.automation.listener.testng.SimpleWebDriverScreenShotTestListener\"/> </listeners> <suite-files> <suite-file path=\"testng-test1.xml\"/> <suite-file path=\"testng-test_sample.xml\"></suite-file> </suite-files> <test verbose=\"1\" name=\"Domain-automation\"> <classes> <class name=\"com.Domain.automation.commonflows.DomainLoginHelperTest\"></class> <class name=\"com.Domain.automation.testscaffold.TestActionTest\"/> <class name=\"com.Domain.automation.testscaffold.WhereTest\"/> <class name=\"com.Domain.automation.drivers.DriverFactoryTest2\"/> <class name=\"com.Domain.automation.drivers.DriverFactoryTest\"/> <class name=\"com.Domain.automation.drivers.BrowserTypeTest\"/> <class name=\"com.Domain.automation.drivers.WebDriverModeTest\"/> </classes> </test> </suite> testng-test1.xml \u662f\u53e6\u5916\u4e00\u4e2atestng \u914d\u7f6e\u6587\u4ef6 <suite name=\"\u6d4b\u8bd5\u7528\u4f8b\u96c6\u6d4b\u8bd51\" > <listeners> <listener class-name=\"com.Domain.automation.listener.testng.SimpleRetryListener\" /> <listener class-name=\"com.Domain.automation.listener.testng.SimpleWebDriverScreenShotTestListener\"/> </listeners> <test verbose=\"1\" name=\"Domain-automation\"> <classes> <class name=\"com.Domain.automation.drivers.DriverFactoryTest_Concurrency\"> </class> </classes> </test> </suite>","title":"TestNG XML \u6d4b\u8bd5\u914d\u7f6e\u65b9\u6cd5\u4ecb\u7ecd"},{"location":"tips/testng-xml-configuration/#_1","text":"\u4e0d\u540c\u7684TestSuite\u4f1a\u5206\u5f00\u663e\u793a","title":"\u4e0a\u8ff0\u7684\u914d\u7f6e\u5f97\u6d4b\u8bd5\u62a5\u544a"},{"location":"tips/testng_faq/","text":"TestNG \u76f8\u5173\u95ee\u9898 \u6709\u65f6\u5728\u8fd0\u884cTestNG\u6d4b\u8bd5\u7684\u65f6\u5019\u6709\u65f6\u4f1a\u9047\u5230\u6d4b\u8bd5\u4e0d\u80fd\u8fd0\u884c\u7684\u95ee\u9898,\u4ee5\u4e0b\u662f\u4e00\u4e9b\u6d4b\u8bd5\u5e38\u89c1\u7684\u95ee\u9898 TestNG \u6d4b\u8bd5\u7528\u4f8b\u4e00\u4e2a\u4e5f\u6ca1\u6709\u8fd0\u884c \u4ee5\u4e0b\u662f\u4e00\u4e9b\u53ef\u80fd\u7684\u95ee\u9898: Excel\u91cc\u9762\u7684testMethodName\u548c\u5b9e\u9645\u6d4b\u8bd5\u65b9\u6cd5\u540d\u5b57\u6709\u51fa\u5165,\u9700\u8981\u5c06\u8fd9\u4e24\u4e2a\u540d\u5b57\u7edf\u4e00 Excel\u6587\u4ef6\u683c\u5f0f\u4e0d\u5bf9,\u53ef\u4ee5\u590d\u5236\u4e00\u4efd\u53ef\u4ee5\u8fd0\u884c\u7684excel\u6587\u4ef6,\u518d\u4fee\u6539\u91cc\u9762\u7684\u5185\u5bb9 TestNG \u63d0\u793a\u7c7b\u578b\u4e0d\u5339\u914d,\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u90fd\u6ca1\u6709\u8fd0\u884c \u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\u4e00\u822c\u662f\u56e0\u4e3atestng\u7684@Test\u4e0b\u9762\u7684\u6d4b\u8bd5\u65b9\u6cd5\u7684\u53c2\u6570\u987a\u5e8f\u548cExcel\u91cc\u9762\u5bf9\u5e94\u6570\u636e\u7684\u987a\u5e8f\u4e0d\u4e00\u81f4 \u901a\u8fc7\u8c03\u6574\u53c2\u6570\u7684\u987a\u5e8f\u8ba9\u4ed6\u548c\u6570\u636e\u4fdd\u6301\u4e00\u81f4\u4e00\u822c\u53ef\u4ee5\u89e3\u51b3\u6b64\u95ee\u9898","title":"TestNG\u6d4b\u8bd5\u5e38\u89c1\u95ee\u9898"},{"location":"tips/testng_faq/#testng","text":"\u6709\u65f6\u5728\u8fd0\u884cTestNG\u6d4b\u8bd5\u7684\u65f6\u5019\u6709\u65f6\u4f1a\u9047\u5230\u6d4b\u8bd5\u4e0d\u80fd\u8fd0\u884c\u7684\u95ee\u9898,\u4ee5\u4e0b\u662f\u4e00\u4e9b\u6d4b\u8bd5\u5e38\u89c1\u7684\u95ee\u9898","title":"TestNG \u76f8\u5173\u95ee\u9898"},{"location":"tips/testng_faq/#testng_1","text":"\u4ee5\u4e0b\u662f\u4e00\u4e9b\u53ef\u80fd\u7684\u95ee\u9898: Excel\u91cc\u9762\u7684testMethodName\u548c\u5b9e\u9645\u6d4b\u8bd5\u65b9\u6cd5\u540d\u5b57\u6709\u51fa\u5165,\u9700\u8981\u5c06\u8fd9\u4e24\u4e2a\u540d\u5b57\u7edf\u4e00 Excel\u6587\u4ef6\u683c\u5f0f\u4e0d\u5bf9,\u53ef\u4ee5\u590d\u5236\u4e00\u4efd\u53ef\u4ee5\u8fd0\u884c\u7684excel\u6587\u4ef6,\u518d\u4fee\u6539\u91cc\u9762\u7684\u5185\u5bb9","title":"TestNG \u6d4b\u8bd5\u7528\u4f8b\u4e00\u4e2a\u4e5f\u6ca1\u6709\u8fd0\u884c"},{"location":"tips/testng_faq/#testng_2","text":"\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\u4e00\u822c\u662f\u56e0\u4e3atestng\u7684@Test\u4e0b\u9762\u7684\u6d4b\u8bd5\u65b9\u6cd5\u7684\u53c2\u6570\u987a\u5e8f\u548cExcel\u91cc\u9762\u5bf9\u5e94\u6570\u636e\u7684\u987a\u5e8f\u4e0d\u4e00\u81f4 \u901a\u8fc7\u8c03\u6574\u53c2\u6570\u7684\u987a\u5e8f\u8ba9\u4ed6\u548c\u6570\u636e\u4fdd\u6301\u4e00\u81f4\u4e00\u822c\u53ef\u4ee5\u89e3\u51b3\u6b64\u95ee\u9898","title":"TestNG \u63d0\u793a\u7c7b\u578b\u4e0d\u5339\u914d,\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b\u90fd\u6ca1\u6709\u8fd0\u884c"},{"location":"tips/use_own_password/","text":"\u4f7f\u7528\u81ea\u5df1\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u83b7\u53d6\u4e07\u80fd\u5bc6\u7801 \u5728\u914d\u7f6e\u6587\u4ef6: env.properties \u4e2d\u914d\u7f6e\u52a0\u5165: tester_user_code=<your_user_code> test_password= <your password> \u5c31\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u83b7\u53d6\u4e07\u80fd\u5bc6\u7801\u4e86,\u5982\u679c\u4e07\u4e00\u9ed8\u8ba4\u7684\u7528\u6237\u540d\u5bc6\u7801\u4e0d\u53ef\u4ee5\u4f7f\u7528,\u901a\u8fc7\u8fd9\u4e2a\u65b9\u5f0f\u5c31\u53ef\u4ee5\u89e3\u51b3 \u4fee\u6539\u7684env.properties \u5b9e\u5728test \u7684resources\u4e0b\u9762","title":"\u4f7f\u7528\u81ea\u5df1\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u83b7\u53d6\u4e07\u80fd\u5bc6\u7801"},{"location":"tips/use_own_password/#_1","text":"\u5728\u914d\u7f6e\u6587\u4ef6: env.properties \u4e2d\u914d\u7f6e\u52a0\u5165: tester_user_code=<your_user_code> test_password= <your password> \u5c31\u53ef\u4ee5\u4f7f\u7528\u81ea\u5df1\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u83b7\u53d6\u4e07\u80fd\u5bc6\u7801\u4e86,\u5982\u679c\u4e07\u4e00\u9ed8\u8ba4\u7684\u7528\u6237\u540d\u5bc6\u7801\u4e0d\u53ef\u4ee5\u4f7f\u7528,\u901a\u8fc7\u8fd9\u4e2a\u65b9\u5f0f\u5c31\u53ef\u4ee5\u89e3\u51b3 \u4fee\u6539\u7684env.properties \u5b9e\u5728test \u7684resources\u4e0b\u9762","title":"\u4f7f\u7528\u81ea\u5df1\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u83b7\u53d6\u4e07\u80fd\u5bc6\u7801"},{"location":"webui_automation/build_test/","text":"\u6784\u5efa\u4e1a\u52a1\u6d41\u7a0b\u7684\u65b9\u6cd5 \u4e4b\u524d\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u5173\u4e8e\u6846\u67b6\u7684\u8bbe\u8ba1\u601d\u8def\uff0c\u5df2\u7ecf\u4e00\u4e9b\u57fa\u672c\u7684\u7528\u6cd5\uff0c\u4e3b\u8981\u5305\u62ec\u4e86\uff1a Page \u7c7b(Page Object), \u8fd9\u91cc\u9700\u8981\u5927\u5bb6\u4e86\u89e3\u7684\u662f\u5982\u4f55\u5b9a\u4f4d\u9875\u9762\u5143\u7d20(id,name,css,xpath) \u4f46\u662f\u5b9e\u9645\u4e0a\u90fd\u6709\u7edf\u4e00\u7684\u903b\u8f91\u7684\uff0c\u5c31\u662f\u4f7f\u7528\u4e00\u4e2a\u6807\u793a\u7b26\u53f7\u6765\u8868\u793a\u5143\u7d20\u7684\u5b9a\u4f4d\uff0c\u8fd9\u91cc\u9700\u8981\u5927\u5bb6\u4e86\u89e3\u7684\u662fxpath Page \u7c7b\u5b9a\u4e49\u8fc7\u7a0b\u4e2d\u9700\u8981\u4e86\u89e3\u7684\u662f\u4e0d\u540cHTML\u5143\u7d20\u7684\u79cd\u7c7b \u6d4b\u8bd5\u6570\u636e\u7c7b \u4ee5\u4e0b\u4ecb\u7ecd\u4e00\u4e0b\u5728Page\u7c7b\u548c\u6d4b\u8bd5\u6570\u636e\u7c7b\u5b9a\u4e49\u597d\u4e86\u4e4b\u540e\uff0c\u6784\u5efa\u6d4b\u8bd5\u4e1a\u52a1\u6d41\u7a0b\u7684\u4e00\u4e9b\u65b9\u5f0f. \u6784\u5efa\u6d4b\u8bd5\u6d41\u7a0b- \u624b\u52a8\u6784\u5efa selenium\u63d0\u4f9b\u4e86\u5f88\u591a\u7684\u65b9\u6cd5\u53ef\u4ee5\u64cd\u4f5c\u9875\u9762\u7684\u5143\u7d20\uff0c\u6240\u4ee5\u5982\u679c\u901a\u8fc7selenium\u81ea\u5df1\u7684\u63a5\u53e3\u7684\u8bdd\uff0c\u76f4\u63a5\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u4e8e\u5982\u4e0b\u7684\u4ee3\u7801\u6784\u5efa\uff1a driver.findElement(By.id(\"username\")).sendkeys(\"username\") driver.findElement(By.id(\"loginButton\")).click() \u76ee\u524d\u6211\u4eec\u901a\u8fc7\u8fd9\u4e2a\u65b9\u5f0f\u5199\u4e5f\u662f\u652f\u6301\u7684\uff0c\u4e0d\u8fc7\u6211\u4eec\u5e0c\u671b\u8fd9\u4e9b\u4e1a\u52a1\u4ee3\u7801\u9700\u8981\u5728flow\u7684\u4e00\u4e2a\u7c7b\u91cc\u9762\uff0c\u6765\u7edf\u4e00\u7ba1\u7406. \u540c\u65f6\u5982\u679c\u6211\u4eec\u76ee\u524d\u5df2\u7ecf\u5b9a\u4e49\u4e86\u9875\u9762\u7684\u7c7b\uff0cPAGE\u7c7b\u7684\u8bdd\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e0b\u4ee3\u7801\u6765\u8868\u793a\uff1a Page page = ModifiedPageFactory.createPageObject(driver,Page.class); page.getUserName().sendKeys(\"userName\"); page.getLoginButton().click(); \u76f8\u5e94\u7684\u6d41\u7a0b\u7c7b\uff1a public class LoginFlows{ public static void login(String userName,String password,WebDriver driver){ Page page = ModifiedPageFactory.createPageObject(driver,Page.class); page.getUserName().sendKeys(userName); page.getPassword().sendKeys(password); page.getLoginButton().click(); } public static void login(WebDriver driver, TestData data){ Page page = ModifiedPageFactory.createPageObject(driver,Page.class); page.getUserName().sendKeys(data.get(\"userName\")); page.getPassword().sendKeys(data.get(\"password\")); page.getLoginButton().click(); } } \u6784\u5efa\u6d4b\u8bd5\u6d41\u7a0b- \u4f7f\u7528WebBaseTest\u7c7b \u4f7f\u7528WebBaseTest\u7c7b\u6682\u65f6\u4e0d\u63a8\u8350\u8fd9\u6837\u505a,\u8fd9\u4e2a\u662f\u4e00\u5f00\u59cb\u7684\u4e00\u4e2a\u9057\u7559\u7c7b\uff0c\u4e0d\u8fc7\u4e0d\u5f71\u54cd\u5177\u4f53\u7684\u4f7f\u7528.\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528WebTestActionBuilde\u6765\u6784\u5efa. \u5b9e\u4f8b\u4ee3\u7801\uff1a public class LoginWebFlow extends BaseWebTestAction { public LoginWebFlow(WebDriver driver, TestData testData) { super(driver, testData); } @Override public void execute() { driver.get(EnvironmentHelper.getDomainUrl()); Page page = ModifiedPageFactory.createPageObject(driver,Page.class); page.getUserName().sendKeys(data.get(\"userName\")); page.getPassword().sendKeys(data.get(\"password\")); page.getLoginButton().click(); } } \u6784\u5efa\u6d4b\u8bd5\u6d41\u7a0b- \u4f7f\u7528WebTestActionBuilder \u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff1a Page page = ModifiedPageFactory.createPageObject(driver,Page.class); page.getUserName().sendKeys(data.get(\"userName\")); page.getPassword().sendKeys(data.get(\"password\")); page.getLoginButton().click(); \u5982\u679c\u4f7f\u7528WebTestActionBuilder\u7684\u8bdd\uff0c\u4ee5\u4e0a\u4ee3\u7801\u5c31\u548c\u5982\u4e0b\u4f8b\u5b50\u662f\u4e00\u81f4\u7684\uff1a WebTestActionBuilder.use(Page.class,driver) .process(Lists.newArrayList(\"userName inputIfPresent\", \"password inputIfPresent\",\"loginButton click\"),data); //\u53ef\u4ee5\u7b80\u5199\u4e3a\uff1a WebTestActionBuilder.use(Page.class,driver) .process(Lists.newArrayList(\"userName\", \"password\",\"loginButton\"),data); //\u5982\u679c\u5728Page\u91cc\u9762\u5b9a\u4e49\u4e86\u6ce8\u89e3 @UIActions( actions = { @UIAction(processName = \"\u767b\u9646\", elementActionDescription = {\"userCode input\" ,\"password input\" ,\"companyId selectIfPresent\" ,\"submit click\"}) } public class Page extends ExecutblePageObject{ .......... } ) //WebTestActionBuilder \u4f7f\u7528\uff1a WebTestActionBuilder.use(Page.class,driver).process() \"\u767b\u9646\", testData); \u4e86\u89e3\u4e86WebTestActionBuilder\u7684\u57fa\u672c\u7528\u6cd5\u4e4b\u540e\uff0c\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2aLoginFLow\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a public class LoginFlows{ public static void login(String userName,String password,WebDriver driver){ driver.get(EnvironmentHelper.getDomainUrl); //WebDriverHelper.get(driver,EnvironmentHelper.getDomainUrl); WebTestActionBuilder.use(Page.class,driver).process() \"\u767b\u9646\", testData); } } \u6784\u5efa\u6d4b\u8bd5\u6d41\u7a0b- \u4f7f\u7528WebTestActionBuilder\u4e2d\u5e38\u7528\u51fd\u6570\u7684\u7528\u6cd5 execute(List pages,String uiAnnotationName,WebDriver driver, TestData data): \u6839\u636e\u6ce8\u89e3\u540d\u5b57\u6267\u884c\u591a\u4e2a\u9875\u9762\u7684\u64cd\u4f5c,\u524d\u63d0\u662f\u591a\u4e2a\u9875\u9762\u4e2d\u5177\u6709\u76f8\u540c\u7684UIAction\u540d\u79f0 WebTestActionBuilder.execute(Lists.newArrayList(Page1.class,Page2.class)) \"\u767b\u9646\", driver,testData); executeUIAction(T page, String uiAnnotationName , TestData data): \u6839\u636e\u6ce8\u89e3\u540d\u5b57\u6267\u884c\u4e00\u4e2a\u9875\u9762\u7684\u64cd\u4f5c,\u524d\u63d0\u662f\u591a\u4e2a\u9875\u9762\u4e2d\u5177\u6709\u76f8\u540c\u7684UIAction\u540d\u79f0 WebTestActionBuilder.executeUIAction(Page.class, \"\u767b\u9646\", driver,testData); executeUIAction(T page, List elementActionPairList , TestData data): \u6839\u636e\u63cf\u8ff0\u6267\u884c\u63cf\u8ff0\u4e2d\u7684\u64cd\u4f5c WebTestActionBuilder.executeUIAction(pageInstance,Lists.newArrayList(\"userName\", \"password\",\"loginButton\"),driver,data); createTestActionByUIAction \u7684\u4e00\u7cfb\u5217\u51fd\u6570\u548c\u4ee5\u4e0a\u7684\u51fd\u6570\u7c7b\u4f3c\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528executeUIAction\u7684\u4e00\u7cfb\u5217\u51fd\u6570\u66ff\u4ee3\u7684 \u4e0d\u8fc7\u4ed6\u8fd4\u56de\u7684\u662f\u4e00\u4e2aTestAction\u5bf9\u8c61\uff0c\u5982\u679c\u8981\u8ba9TestAction\u5bf9\u8c61\u91cc\u9762\u7684\u5185\u5bb9\u8dd1\u8d77\u6765\uff0c\u53ea\u6709\u540e\u9762\u52a0execute\uff08\uff09\u65b9\u6cd5\u5c31\u53ef\u4ee5\u4e86 WebTestActionBuilder.createTestActionByUIAction(ageInstance,Lists.newArrayList(\"userName\", \"password\",\"loginButton\"),driver,data).execute(); \u90a3\u4e48\u4ec0\u4e48\u65f6\u5019\u6216\u8bb8\u80fd\u7528\u5230\u8fd9\u4e2acreateTestActionByUIAction\u5462\uff0c\u53ef\u80fd\u7684\u573a\u666f\u662f\uff1a List<TestAction> steps = Lists.newArrayList(); stpes.add(WebTestActionBuilde.createTestActionByUIAction(Login.class,\"abcAnnotation\",driver,data)) steps.add(WebTestActionBuilde.createTestActionByUIAction(Login.class,\"efGAnnotation\",driver,data))) steps.add(WebTestActionBuilde.createTestActionByUIAction(Login.class,\"HILAnnotation\",driver,data))) for(step : steps){ step.execute() } \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u7684DataProvider\u7684\u8bf4\u660e @DataProvider(name = \"search_data\") public Iterator<Object[]> getTestData(Method m) throws Exception{ Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"SearchData\", BaiduSearchData.class); clazzMap.put(\"TestDescription\", TestDescription.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/BaiduSearchTestCases.xls\", m, clazzMap); return y; } SearchData \u662f\u5b9a\u4e49\u4e00\u4e2a\u524d\u7f00\uff0c\u5df2\u8fd9\u4e2a\u5f00\u59cb\u7684excel\u5b57\u6bb5\u503c\u90fd\u4f1a\u5230BaiduSearchData\u7c7b\u7684\u76f8\u5bf9\u5e94\u7684\u503c\u91cc\u9762 TestDescription \u540c\u6837\u9053\u7406","title":"\u9875\u9762\u81ea\u52a8\u5316-WebTestActionBuilder"},{"location":"webui_automation/build_test/#_1","text":"\u4e4b\u524d\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u5173\u4e8e\u6846\u67b6\u7684\u8bbe\u8ba1\u601d\u8def\uff0c\u5df2\u7ecf\u4e00\u4e9b\u57fa\u672c\u7684\u7528\u6cd5\uff0c\u4e3b\u8981\u5305\u62ec\u4e86\uff1a Page \u7c7b(Page Object), \u8fd9\u91cc\u9700\u8981\u5927\u5bb6\u4e86\u89e3\u7684\u662f\u5982\u4f55\u5b9a\u4f4d\u9875\u9762\u5143\u7d20(id,name,css,xpath) \u4f46\u662f\u5b9e\u9645\u4e0a\u90fd\u6709\u7edf\u4e00\u7684\u903b\u8f91\u7684\uff0c\u5c31\u662f\u4f7f\u7528\u4e00\u4e2a\u6807\u793a\u7b26\u53f7\u6765\u8868\u793a\u5143\u7d20\u7684\u5b9a\u4f4d\uff0c\u8fd9\u91cc\u9700\u8981\u5927\u5bb6\u4e86\u89e3\u7684\u662fxpath Page \u7c7b\u5b9a\u4e49\u8fc7\u7a0b\u4e2d\u9700\u8981\u4e86\u89e3\u7684\u662f\u4e0d\u540cHTML\u5143\u7d20\u7684\u79cd\u7c7b \u6d4b\u8bd5\u6570\u636e\u7c7b \u4ee5\u4e0b\u4ecb\u7ecd\u4e00\u4e0b\u5728Page\u7c7b\u548c\u6d4b\u8bd5\u6570\u636e\u7c7b\u5b9a\u4e49\u597d\u4e86\u4e4b\u540e\uff0c\u6784\u5efa\u6d4b\u8bd5\u4e1a\u52a1\u6d41\u7a0b\u7684\u4e00\u4e9b\u65b9\u5f0f.","title":"\u6784\u5efa\u4e1a\u52a1\u6d41\u7a0b\u7684\u65b9\u6cd5"},{"location":"webui_automation/build_test/#-","text":"selenium\u63d0\u4f9b\u4e86\u5f88\u591a\u7684\u65b9\u6cd5\u53ef\u4ee5\u64cd\u4f5c\u9875\u9762\u7684\u5143\u7d20\uff0c\u6240\u4ee5\u5982\u679c\u901a\u8fc7selenium\u81ea\u5df1\u7684\u63a5\u53e3\u7684\u8bdd\uff0c\u76f4\u63a5\u53ef\u4ee5\u4f7f\u7528\u7c7b\u4f3c\u4e8e\u5982\u4e0b\u7684\u4ee3\u7801\u6784\u5efa\uff1a driver.findElement(By.id(\"username\")).sendkeys(\"username\") driver.findElement(By.id(\"loginButton\")).click() \u76ee\u524d\u6211\u4eec\u901a\u8fc7\u8fd9\u4e2a\u65b9\u5f0f\u5199\u4e5f\u662f\u652f\u6301\u7684\uff0c\u4e0d\u8fc7\u6211\u4eec\u5e0c\u671b\u8fd9\u4e9b\u4e1a\u52a1\u4ee3\u7801\u9700\u8981\u5728flow\u7684\u4e00\u4e2a\u7c7b\u91cc\u9762\uff0c\u6765\u7edf\u4e00\u7ba1\u7406. \u540c\u65f6\u5982\u679c\u6211\u4eec\u76ee\u524d\u5df2\u7ecf\u5b9a\u4e49\u4e86\u9875\u9762\u7684\u7c7b\uff0cPAGE\u7c7b\u7684\u8bdd\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e0b\u4ee3\u7801\u6765\u8868\u793a\uff1a Page page = ModifiedPageFactory.createPageObject(driver,Page.class); page.getUserName().sendKeys(\"userName\"); page.getLoginButton().click(); \u76f8\u5e94\u7684\u6d41\u7a0b\u7c7b\uff1a public class LoginFlows{ public static void login(String userName,String password,WebDriver driver){ Page page = ModifiedPageFactory.createPageObject(driver,Page.class); page.getUserName().sendKeys(userName); page.getPassword().sendKeys(password); page.getLoginButton().click(); } public static void login(WebDriver driver, TestData data){ Page page = ModifiedPageFactory.createPageObject(driver,Page.class); page.getUserName().sendKeys(data.get(\"userName\")); page.getPassword().sendKeys(data.get(\"password\")); page.getLoginButton().click(); } }","title":"\u6784\u5efa\u6d4b\u8bd5\u6d41\u7a0b- \u624b\u52a8\u6784\u5efa"},{"location":"webui_automation/build_test/#-webbasetest","text":"\u4f7f\u7528WebBaseTest\u7c7b\u6682\u65f6\u4e0d\u63a8\u8350\u8fd9\u6837\u505a,\u8fd9\u4e2a\u662f\u4e00\u5f00\u59cb\u7684\u4e00\u4e2a\u9057\u7559\u7c7b\uff0c\u4e0d\u8fc7\u4e0d\u5f71\u54cd\u5177\u4f53\u7684\u4f7f\u7528.\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528WebTestActionBuilde\u6765\u6784\u5efa. \u5b9e\u4f8b\u4ee3\u7801\uff1a public class LoginWebFlow extends BaseWebTestAction { public LoginWebFlow(WebDriver driver, TestData testData) { super(driver, testData); } @Override public void execute() { driver.get(EnvironmentHelper.getDomainUrl()); Page page = ModifiedPageFactory.createPageObject(driver,Page.class); page.getUserName().sendKeys(data.get(\"userName\")); page.getPassword().sendKeys(data.get(\"password\")); page.getLoginButton().click(); } }","title":"\u6784\u5efa\u6d4b\u8bd5\u6d41\u7a0b- \u4f7f\u7528WebBaseTest\u7c7b"},{"location":"webui_automation/build_test/#-webtestactionbuilder","text":"\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff1a Page page = ModifiedPageFactory.createPageObject(driver,Page.class); page.getUserName().sendKeys(data.get(\"userName\")); page.getPassword().sendKeys(data.get(\"password\")); page.getLoginButton().click(); \u5982\u679c\u4f7f\u7528WebTestActionBuilder\u7684\u8bdd\uff0c\u4ee5\u4e0a\u4ee3\u7801\u5c31\u548c\u5982\u4e0b\u4f8b\u5b50\u662f\u4e00\u81f4\u7684\uff1a WebTestActionBuilder.use(Page.class,driver) .process(Lists.newArrayList(\"userName inputIfPresent\", \"password inputIfPresent\",\"loginButton click\"),data); //\u53ef\u4ee5\u7b80\u5199\u4e3a\uff1a WebTestActionBuilder.use(Page.class,driver) .process(Lists.newArrayList(\"userName\", \"password\",\"loginButton\"),data); //\u5982\u679c\u5728Page\u91cc\u9762\u5b9a\u4e49\u4e86\u6ce8\u89e3 @UIActions( actions = { @UIAction(processName = \"\u767b\u9646\", elementActionDescription = {\"userCode input\" ,\"password input\" ,\"companyId selectIfPresent\" ,\"submit click\"}) } public class Page extends ExecutblePageObject{ .......... } ) //WebTestActionBuilder \u4f7f\u7528\uff1a WebTestActionBuilder.use(Page.class,driver).process() \"\u767b\u9646\", testData); \u4e86\u89e3\u4e86WebTestActionBuilder\u7684\u57fa\u672c\u7528\u6cd5\u4e4b\u540e\uff0c\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2aLoginFLow\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a public class LoginFlows{ public static void login(String userName,String password,WebDriver driver){ driver.get(EnvironmentHelper.getDomainUrl); //WebDriverHelper.get(driver,EnvironmentHelper.getDomainUrl); WebTestActionBuilder.use(Page.class,driver).process() \"\u767b\u9646\", testData); } }","title":"\u6784\u5efa\u6d4b\u8bd5\u6d41\u7a0b- \u4f7f\u7528WebTestActionBuilder"},{"location":"webui_automation/build_test/#-webtestactionbuilder_1","text":"execute(List pages,String uiAnnotationName,WebDriver driver, TestData data): \u6839\u636e\u6ce8\u89e3\u540d\u5b57\u6267\u884c\u591a\u4e2a\u9875\u9762\u7684\u64cd\u4f5c,\u524d\u63d0\u662f\u591a\u4e2a\u9875\u9762\u4e2d\u5177\u6709\u76f8\u540c\u7684UIAction\u540d\u79f0 WebTestActionBuilder.execute(Lists.newArrayList(Page1.class,Page2.class)) \"\u767b\u9646\", driver,testData); executeUIAction(T page, String uiAnnotationName , TestData data): \u6839\u636e\u6ce8\u89e3\u540d\u5b57\u6267\u884c\u4e00\u4e2a\u9875\u9762\u7684\u64cd\u4f5c,\u524d\u63d0\u662f\u591a\u4e2a\u9875\u9762\u4e2d\u5177\u6709\u76f8\u540c\u7684UIAction\u540d\u79f0 WebTestActionBuilder.executeUIAction(Page.class, \"\u767b\u9646\", driver,testData); executeUIAction(T page, List elementActionPairList , TestData data): \u6839\u636e\u63cf\u8ff0\u6267\u884c\u63cf\u8ff0\u4e2d\u7684\u64cd\u4f5c WebTestActionBuilder.executeUIAction(pageInstance,Lists.newArrayList(\"userName\", \"password\",\"loginButton\"),driver,data); createTestActionByUIAction \u7684\u4e00\u7cfb\u5217\u51fd\u6570\u548c\u4ee5\u4e0a\u7684\u51fd\u6570\u7c7b\u4f3c\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528executeUIAction\u7684\u4e00\u7cfb\u5217\u51fd\u6570\u66ff\u4ee3\u7684 \u4e0d\u8fc7\u4ed6\u8fd4\u56de\u7684\u662f\u4e00\u4e2aTestAction\u5bf9\u8c61\uff0c\u5982\u679c\u8981\u8ba9TestAction\u5bf9\u8c61\u91cc\u9762\u7684\u5185\u5bb9\u8dd1\u8d77\u6765\uff0c\u53ea\u6709\u540e\u9762\u52a0execute\uff08\uff09\u65b9\u6cd5\u5c31\u53ef\u4ee5\u4e86 WebTestActionBuilder.createTestActionByUIAction(ageInstance,Lists.newArrayList(\"userName\", \"password\",\"loginButton\"),driver,data).execute(); \u90a3\u4e48\u4ec0\u4e48\u65f6\u5019\u6216\u8bb8\u80fd\u7528\u5230\u8fd9\u4e2acreateTestActionByUIAction\u5462\uff0c\u53ef\u80fd\u7684\u573a\u666f\u662f\uff1a List<TestAction> steps = Lists.newArrayList(); stpes.add(WebTestActionBuilde.createTestActionByUIAction(Login.class,\"abcAnnotation\",driver,data)) steps.add(WebTestActionBuilde.createTestActionByUIAction(Login.class,\"efGAnnotation\",driver,data))) steps.add(WebTestActionBuilde.createTestActionByUIAction(Login.class,\"HILAnnotation\",driver,data))) for(step : steps){ step.execute() }","title":"\u6784\u5efa\u6d4b\u8bd5\u6d41\u7a0b- \u4f7f\u7528WebTestActionBuilder\u4e2d\u5e38\u7528\u51fd\u6570\u7684\u7528\u6cd5"},{"location":"webui_automation/build_test/#dataprovider","text":"@DataProvider(name = \"search_data\") public Iterator<Object[]> getTestData(Method m) throws Exception{ Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"SearchData\", BaiduSearchData.class); clazzMap.put(\"TestDescription\", TestDescription.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/BaiduSearchTestCases.xls\", m, clazzMap); return y; } SearchData \u662f\u5b9a\u4e49\u4e00\u4e2a\u524d\u7f00\uff0c\u5df2\u8fd9\u4e2a\u5f00\u59cb\u7684excel\u5b57\u6bb5\u503c\u90fd\u4f1a\u5230BaiduSearchData\u7c7b\u7684\u76f8\u5bf9\u5e94\u7684\u503c\u91cc\u9762 TestDescription \u540c\u6837\u9053\u7406","title":"\u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u7684DataProvider\u7684\u8bf4\u660e"},{"location":"webui_automation/element_handler/","text":"\u63a7\u4ef6\u5904\u7406 \u4ee5\u4e0b\u662f\u76ee\u524d\u6846\u67b6\u4e2d\u63a7\u4ef6\u652f\u6301\u7684\u4e00\u4e9b\u64cd\u4f5c\u548c\u8bf4\u660e: \u63a7\u4ef6 \u9ed8\u8ba4\u64cd\u4f5c \u53ef\u7528\u64cd\u4f5c \u8bf4\u660e HtmlElement click toString,clear,getName,getLocation,setName,getSize,getLocationName,isEnabled,getAttribute,getTagName,clickIfPresent,moveTo,click,sendKeys,sendKeys,clearAndInput,isSelected,getText,findElements,findElement,isDisplayed,getCssValue,getWrappedElement,setWrappedElement,setLocationName,getBy,setBy,triggerClick,getLocatorExpression,setLocatorExpression,highlight,input,submit, \u8bf4\u660e SelectList selectByVisibleText selectByIndex,getSelect,getOptions,getAllSelectedOptions,getFirstSelectedOption,hasSelectedOption,selectFirst,selectByGivenAttributeValue,deselectAll,deselectByValue,deselectByIndex,deselectByVisibleText,selectByVisibleText,isMultiple, \u8bf4\u660e Table click getHeadings,getFirstRowAsHeading,getHeadingsAsString,getRows,getValueByTdTitle,getRowsAsString,getColumns,getColumnsAsString,getCellAt,getRowsMappedToHeadings,getRowsMappedToHeadings,getRowsAsStringMappedToHeadings,getRowsAsStringMappedToHeadings \u8bf4\u660e NgRepeatableElement clearAndInput inputOne,getRepeatTriggerXpathLocator,setRepeatTriggerXpathLocator,getInitCount,setInitCount,getOffsetXPathForRepeatableRoot,setOffsetXPathForRepeatableRoot,clearAndInput, \u8bf4\u660e InputBox clearAndInput inputAllSameBox,inputIfPresent,inputAndSelect,inputIfVisible, \u8bf4\u660e Radio selectByVisibleText hasSelectedButton,selectByIndex,selectIfPresent,getSelectedButton,getButtons,selectByValue,selectByVisibleText,selectButton, \u8bf4\u660e Image click getAlt,getSource, \u8bf4\u660e TreeElement select select, \u8bf4\u660e EditableRow click \u8bf4\u660e DropDownElement select selectForPopSelect,selectByLink,selectByLinkId,select, \u8bf4\u660e Button click \u8bf4\u660e CheckBox selectByVisibleText set,getText,getLabelText,deselect,getLabel,getSelectedButton,getButtons,selectByValue,selectByVisibleText,multipleSelectByVisibleText,selectButton,select, \u8bf4\u660e ListPictureElement select selectAll,deSelectAll,getAllList,deSelect,select, \u8bf4\u660e UploadElement upload fakeUpload,upload, \u8bf4\u660e DatePicker selectDate selectDate, \u8bf4\u660e PictureItem selectPicType delete,getAllPictureItem,getLastPictureItem,addDesc,getFirstPictureItem,deleteLast,deleteFirst,deleteByIndex,addDescForLast,addDescForFirst,selectPicTypeForLast,selectPicType,selectPicTypeForFirst, \u8bf4\u660e Link click getLink, \u8bf4\u660e \u8bf4\u660e: \u4ee5\u4e0a\u6240\u6709\u7684\u5143\u7d20\u90fd\u5177\u6709HtmlElement\u7684\u65b9\u6cd5","title":"\u9875\u9762\u81ea\u52a8\u5316-\u9875\u9762\u5143\u7d20\u65b9\u6cd5\u67e5\u8be2"},{"location":"webui_automation/element_handler/#_1","text":"\u4ee5\u4e0b\u662f\u76ee\u524d\u6846\u67b6\u4e2d\u63a7\u4ef6\u652f\u6301\u7684\u4e00\u4e9b\u64cd\u4f5c\u548c\u8bf4\u660e: \u63a7\u4ef6 \u9ed8\u8ba4\u64cd\u4f5c \u53ef\u7528\u64cd\u4f5c \u8bf4\u660e HtmlElement click toString,clear,getName,getLocation,setName,getSize,getLocationName,isEnabled,getAttribute,getTagName,clickIfPresent,moveTo,click,sendKeys,sendKeys,clearAndInput,isSelected,getText,findElements,findElement,isDisplayed,getCssValue,getWrappedElement,setWrappedElement,setLocationName,getBy,setBy,triggerClick,getLocatorExpression,setLocatorExpression,highlight,input,submit, \u8bf4\u660e SelectList selectByVisibleText selectByIndex,getSelect,getOptions,getAllSelectedOptions,getFirstSelectedOption,hasSelectedOption,selectFirst,selectByGivenAttributeValue,deselectAll,deselectByValue,deselectByIndex,deselectByVisibleText,selectByVisibleText,isMultiple, \u8bf4\u660e Table click getHeadings,getFirstRowAsHeading,getHeadingsAsString,getRows,getValueByTdTitle,getRowsAsString,getColumns,getColumnsAsString,getCellAt,getRowsMappedToHeadings,getRowsMappedToHeadings,getRowsAsStringMappedToHeadings,getRowsAsStringMappedToHeadings \u8bf4\u660e NgRepeatableElement clearAndInput inputOne,getRepeatTriggerXpathLocator,setRepeatTriggerXpathLocator,getInitCount,setInitCount,getOffsetXPathForRepeatableRoot,setOffsetXPathForRepeatableRoot,clearAndInput, \u8bf4\u660e InputBox clearAndInput inputAllSameBox,inputIfPresent,inputAndSelect,inputIfVisible, \u8bf4\u660e Radio selectByVisibleText hasSelectedButton,selectByIndex,selectIfPresent,getSelectedButton,getButtons,selectByValue,selectByVisibleText,selectButton, \u8bf4\u660e Image click getAlt,getSource, \u8bf4\u660e TreeElement select select, \u8bf4\u660e EditableRow click \u8bf4\u660e DropDownElement select selectForPopSelect,selectByLink,selectByLinkId,select, \u8bf4\u660e Button click \u8bf4\u660e CheckBox selectByVisibleText set,getText,getLabelText,deselect,getLabel,getSelectedButton,getButtons,selectByValue,selectByVisibleText,multipleSelectByVisibleText,selectButton,select, \u8bf4\u660e ListPictureElement select selectAll,deSelectAll,getAllList,deSelect,select, \u8bf4\u660e UploadElement upload fakeUpload,upload, \u8bf4\u660e DatePicker selectDate selectDate, \u8bf4\u660e PictureItem selectPicType delete,getAllPictureItem,getLastPictureItem,addDesc,getFirstPictureItem,deleteLast,deleteFirst,deleteByIndex,addDescForLast,addDescForFirst,selectPicTypeForLast,selectPicType,selectPicTypeForFirst, \u8bf4\u660e Link click getLink, \u8bf4\u660e \u8bf4\u660e: \u4ee5\u4e0a\u6240\u6709\u7684\u5143\u7d20\u90fd\u5177\u6709HtmlElement\u7684\u65b9\u6cd5","title":"\u63a7\u4ef6\u5904\u7406"},{"location":"webui_automation/flowcodes_generator/","text":"\u6d41\u7a0b\u4ee3\u7801\u751f\u6210 \u6839\u636e\u5df2\u7ecf\u6dfb\u52a0\u6ce8\u89e3\u4e86\u7684\u9875\u9762\u751f\u6210\u4ee3\u7801 WebUICodeGenerator.build().generateFlowCodesForAnnotatedPage(\"flowName\",PageClass1); \u5982\u679c\u5355\u4e2a\u9875\u9762\u5df2\u7ecf\u5b9a\u4e49\u597d\u4e86\u67d0\u4e2aUIAction\u7684\u6ce8\u89e3,\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4ee5\u4e0a\u4ee3\u7801\u751f\u6210,\u5982\u679c\u591a\u4e2a\u9875\u9762\u7684\u8bdd: WebUICodeGenerator.build().generateFlowCodesForAnnotatedPage(\"flowName\",PageClass1,PageClass2,PageClass3); \u751f\u6210\u7684\u4ee3\u7801\u5982\u4e0b,\u5b9e\u9645\u57fa\u672c\u4e0a\u8fd9\u6837\u7684\u4ee3\u7801\u4e0d\u9700\u8981\u53bb\u751f\u6210\u4e86:) WebTestActionBuilder.execute(Lists.newArrayList(Page1.class,Page2.class),\"flowName\",driver,testdata); \u6839\u636eExcel\u7684\u64cd\u4f5c\u63cf\u8ff0\u751f\u6210\u4ee3\u7801:","title":"\u6d41\u7a0b\u4ee3\u7801\u751f\u6210"},{"location":"webui_automation/flowcodes_generator/#_1","text":"","title":"\u6d41\u7a0b\u4ee3\u7801\u751f\u6210"},{"location":"webui_automation/flowcodes_generator/#_2","text":"WebUICodeGenerator.build().generateFlowCodesForAnnotatedPage(\"flowName\",PageClass1); \u5982\u679c\u5355\u4e2a\u9875\u9762\u5df2\u7ecf\u5b9a\u4e49\u597d\u4e86\u67d0\u4e2aUIAction\u7684\u6ce8\u89e3,\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4ee5\u4e0a\u4ee3\u7801\u751f\u6210,\u5982\u679c\u591a\u4e2a\u9875\u9762\u7684\u8bdd: WebUICodeGenerator.build().generateFlowCodesForAnnotatedPage(\"flowName\",PageClass1,PageClass2,PageClass3); \u751f\u6210\u7684\u4ee3\u7801\u5982\u4e0b,\u5b9e\u9645\u57fa\u672c\u4e0a\u8fd9\u6837\u7684\u4ee3\u7801\u4e0d\u9700\u8981\u53bb\u751f\u6210\u4e86:) WebTestActionBuilder.execute(Lists.newArrayList(Page1.class,Page2.class),\"flowName\",driver,testdata);","title":"\u6839\u636e\u5df2\u7ecf\u6dfb\u52a0\u6ce8\u89e3\u4e86\u7684\u9875\u9762\u751f\u6210\u4ee3\u7801"},{"location":"webui_automation/flowcodes_generator/#excel","text":"","title":"\u6839\u636eExcel\u7684\u64cd\u4f5c\u63cf\u8ff0\u751f\u6210\u4ee3\u7801:"},{"location":"webui_automation/pageobject_codegenerator/","text":"\u9875\u9762\u5143\u7d20\u4ee3\u7801\u7c7b\u751f\u6210--\u4f18\u5316\u540e \u4ee5\u5982\u4e0b\u9875\u9762\u4e3a\u4f8b,\u6765\u751f\u6210\u4e00\u4e0b\u57fa\u7840\u7684\u9875\u9762: \u4fdd\u5b58\u9875\u9762\u7684HTML\u6e90\u7801\u5230source.txt\u6587\u4ef6,\u53ef\u4ee5\u9875\u9762\u7247\u6bb5\u4e5f\u53ef\u4ee5\u662f\u6574\u4e2a\u9875\u9762,\u6ce8\u610f\u6700\u597d\u5728\u5ba1\u67e5\u9875\u9762\u5143\u7d20\u91cc\u9762\u590d\u5236\u6e90\u7801: WebUICodeGenerator.build().generatePageObjectClass(\"source.txt\"); \u8fd0\u884c\u540e\u53ef\u4ee5\u5f97\u5230\u5982\u4e0b\u7ed3\u679c\uff1a @ElementName(elementName=\"property.propertyUsage\") private Radio propertyUsage; @FindBy(name=\"property.estateName\") @ElementName(elementName = \"property.estateName\") private InputBox estateName; @FindBy(name=\"property.address\") @ElementName(elementName = \"property.address\") private InputBox address; @FindBy(name=\"property.roomNo\") @ElementName(elementName = \"property.roomNo\") private InputBox roomNo; @FindBy(name=\"property.permitNo\") @ElementName(elementName = \"property.permitNo\") private InputBox permitNo;","title":"\u9875\u9762\u81ea\u52a8\u5316-\u9875\u9762\u4ee3\u7801\u751f\u6210"},{"location":"webui_automation/pageobject_codegenerator/#-","text":"\u4ee5\u5982\u4e0b\u9875\u9762\u4e3a\u4f8b,\u6765\u751f\u6210\u4e00\u4e0b\u57fa\u7840\u7684\u9875\u9762: \u4fdd\u5b58\u9875\u9762\u7684HTML\u6e90\u7801\u5230source.txt\u6587\u4ef6,\u53ef\u4ee5\u9875\u9762\u7247\u6bb5\u4e5f\u53ef\u4ee5\u662f\u6574\u4e2a\u9875\u9762,\u6ce8\u610f\u6700\u597d\u5728\u5ba1\u67e5\u9875\u9762\u5143\u7d20\u91cc\u9762\u590d\u5236\u6e90\u7801: WebUICodeGenerator.build().generatePageObjectClass(\"source.txt\"); \u8fd0\u884c\u540e\u53ef\u4ee5\u5f97\u5230\u5982\u4e0b\u7ed3\u679c\uff1a @ElementName(elementName=\"property.propertyUsage\") private Radio propertyUsage; @FindBy(name=\"property.estateName\") @ElementName(elementName = \"property.estateName\") private InputBox estateName; @FindBy(name=\"property.address\") @ElementName(elementName = \"property.address\") private InputBox address; @FindBy(name=\"property.roomNo\") @ElementName(elementName = \"property.roomNo\") private InputBox roomNo; @FindBy(name=\"property.permitNo\") @ElementName(elementName = \"property.permitNo\") private InputBox permitNo;","title":"\u9875\u9762\u5143\u7d20\u4ee3\u7801\u7c7b\u751f\u6210--\u4f18\u5316\u540e"},{"location":"webui_automation/project_structure/","text":"\u9879\u76ee\u6982\u8981 \u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u5728\u4f7f\u7528\u4e86JAVA8\u7684\u4e00\u4e9b\u529f\u80fd\uff0c\u6240\u4ee5\u9700\u8981\u4f7f\u7528JAVA8\u7684\u8fd0\u884c\u73af\u5883\uff1b\u540c\u65f6\u7528MAVEN\u6765\u7ba1\u7406\u4f9d\u8d56\u7684\uff0c\u6240\u4ee5\u5728\u5404\u4e2a\u5e94\u7528\u7684\u4e2d\u7684\u5982\u679c\u9700\u8981\u5f15\u7528\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\uff0c\u53ea\u8981\u5c06\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684jar\u5f15\u5165\u5c31\u53ef\u4ee5 \u9879\u76ee\u73af\u5883 JAVA8 \u53bbOracle\u7f51\u7ad9\u4e0b\u8f7d\u6700\u65b0\u7684JDK\u5b89\u88c5\u5373\u53ef MAVEN3\u7684\u914d\u7f6e\u8bf7\u53c2\u8003: MAVEN Windows\u914d\u7f6e JAVA\u5f00\u53d1\u5de5\u5177,\u63a8\u8350\u4f7f\u7528 intellij idea \u7684\u793e\u533a\u7248(community) \u5404\u4e2a\u4e1a\u52a1\u9879\u76ee\u7684\u4e3b\u8981\u6587\u4ef6\u7ed3\u6784 \u5bf9\u4e8e\u5404\u4e2a\u4e1a\u52a1\u9879\u76ee\u6765\u8bf4\uff0c\u5efa\u8bae\u6574\u4e2a\u540d\u5b57\u9879\u76ee\u7684maven\u5750\u6807\u4e3a\uff1a <groupId>com.Domain.automation</groupId> <artifactId>automation-\u9879\u76ee\u540d\u79f0</artifactId> <version>1.0-SNAPSHOT</version> <dependencies> <dependency> <groupId>com.Domain.automation</groupId> <artifactId>automation-common</artifactId> <version>0.1-SNAPSHOT</version> </dependency> </dependencies> \u6dfb\u52a0MAVEN \u6587\u4ef6\u7684\u66f4\u65b0\u673a\u5236 \u4ee5\u4e0b\u8bbe\u7f6e\u4e86\u9879\u76ee\u4ece\u54ea\u91cc\u53bb\u4f9d\u8d56\u7684JAR\u5305\uff0c\u4ee5\u53ca\u66f4\u65b0\u673a\u5236: <repositories> <repository> <id>snapshots</id> <url>http://nexus.Domain.org/nexus/content/repositories/snapshots/</url> <snapshots> <updatePolicy>always</updatePolicy> <enabled>true</enabled> </snapshots> </repository> <repository> <id>releases</id> <url>http://nexus.Domain.org/nexus/content/repositories/releases/</url> </repository> </repositories> \u5bf9\u4e8e\u6bcf\u4e2a\u4e1a\u52a1\u7cfb\u7edf\u7684\u6d4b\u8bd5\u9879\u76ee\u6765\u8bf4\uff0c\u5efa\u8bae\u90fd\u91c7\u7528\u4ee5\u4e0b\u7684\u76ee\u5f55\u7ed3\u6784\uff1a apis data flows pages \u4ee5\u4e0a\u662f\u56db\u4e2a\u4e3b\u8981\u7684\u76ee\u5f55\uff0c\u5728\u6bcf\u4e00\u4e2a\u76ee\u5f55\u76f8\u9762\u53ef\u4ee5\u6309\u7167\u529f\u80fd\u5757\u518d\u5212\u5206, \u5173\u4e8e\u4e00\u4e2a\u9879\u76ee\u7684\u76ee\u5f55\u7ed3\u6784\u53ef\u4ee5\u53c2\u8003svn\u4e0a\u9762,Domain-automation\u4e0b\u9762automation-demo\u9879\u76ee.","title":"\u9879\u76ee\u7ed3\u6784\u548c\u914d\u7f6e"},{"location":"webui_automation/project_structure/#_1","text":"\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\u5728\u4f7f\u7528\u4e86JAVA8\u7684\u4e00\u4e9b\u529f\u80fd\uff0c\u6240\u4ee5\u9700\u8981\u4f7f\u7528JAVA8\u7684\u8fd0\u884c\u73af\u5883\uff1b\u540c\u65f6\u7528MAVEN\u6765\u7ba1\u7406\u4f9d\u8d56\u7684\uff0c\u6240\u4ee5\u5728\u5404\u4e2a\u5e94\u7528\u7684\u4e2d\u7684\u5982\u679c\u9700\u8981\u5f15\u7528\u81ea\u52a8\u5316\u6d4b\u8bd5\u6846\u67b6\uff0c\u53ea\u8981\u5c06\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684jar\u5f15\u5165\u5c31\u53ef\u4ee5","title":"\u9879\u76ee\u6982\u8981"},{"location":"webui_automation/project_structure/#_2","text":"JAVA8 \u53bbOracle\u7f51\u7ad9\u4e0b\u8f7d\u6700\u65b0\u7684JDK\u5b89\u88c5\u5373\u53ef MAVEN3\u7684\u914d\u7f6e\u8bf7\u53c2\u8003: MAVEN Windows\u914d\u7f6e JAVA\u5f00\u53d1\u5de5\u5177,\u63a8\u8350\u4f7f\u7528 intellij idea \u7684\u793e\u533a\u7248(community)","title":"\u9879\u76ee\u73af\u5883"},{"location":"webui_automation/project_structure/#_3","text":"\u5bf9\u4e8e\u5404\u4e2a\u4e1a\u52a1\u9879\u76ee\u6765\u8bf4\uff0c\u5efa\u8bae\u6574\u4e2a\u540d\u5b57\u9879\u76ee\u7684maven\u5750\u6807\u4e3a\uff1a <groupId>com.Domain.automation</groupId> <artifactId>automation-\u9879\u76ee\u540d\u79f0</artifactId> <version>1.0-SNAPSHOT</version> <dependencies> <dependency> <groupId>com.Domain.automation</groupId> <artifactId>automation-common</artifactId> <version>0.1-SNAPSHOT</version> </dependency> </dependencies> \u6dfb\u52a0MAVEN \u6587\u4ef6\u7684\u66f4\u65b0\u673a\u5236 \u4ee5\u4e0b\u8bbe\u7f6e\u4e86\u9879\u76ee\u4ece\u54ea\u91cc\u53bb\u4f9d\u8d56\u7684JAR\u5305\uff0c\u4ee5\u53ca\u66f4\u65b0\u673a\u5236: <repositories> <repository> <id>snapshots</id> <url>http://nexus.Domain.org/nexus/content/repositories/snapshots/</url> <snapshots> <updatePolicy>always</updatePolicy> <enabled>true</enabled> </snapshots> </repository> <repository> <id>releases</id> <url>http://nexus.Domain.org/nexus/content/repositories/releases/</url> </repository> </repositories> \u5bf9\u4e8e\u6bcf\u4e2a\u4e1a\u52a1\u7cfb\u7edf\u7684\u6d4b\u8bd5\u9879\u76ee\u6765\u8bf4\uff0c\u5efa\u8bae\u90fd\u91c7\u7528\u4ee5\u4e0b\u7684\u76ee\u5f55\u7ed3\u6784\uff1a apis data flows pages \u4ee5\u4e0a\u662f\u56db\u4e2a\u4e3b\u8981\u7684\u76ee\u5f55\uff0c\u5728\u6bcf\u4e00\u4e2a\u76ee\u5f55\u76f8\u9762\u53ef\u4ee5\u6309\u7167\u529f\u80fd\u5757\u518d\u5212\u5206, \u5173\u4e8e\u4e00\u4e2a\u9879\u76ee\u7684\u76ee\u5f55\u7ed3\u6784\u53ef\u4ee5\u53c2\u8003svn\u4e0a\u9762,Domain-automation\u4e0b\u9762automation-demo\u9879\u76ee.","title":"\u5404\u4e2a\u4e1a\u52a1\u9879\u76ee\u7684\u4e3b\u8981\u6587\u4ef6\u7ed3\u6784"},{"location":"webui_automation/self_defined_elements/","text":"\u81ea\u5b9a\u4e49\u5143\u7d20 \u4e3a\u4e86\u65b9\u4fbf\u7684\u64cd\u4f5c\u5143\u7d20\uff0c\u6846\u67b6\u5b9e\u73b0\u4e86\u4e00\u4e9b\u81ea\u5b9a\u4e49\u7684HTML\u5143\u7d20\uff0c\u6765\u65b9\u4fbf\u64cd\u4f5c. \u540c\u65f6\u6bcf\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5143\u7d20\u90fd\u6709\u4e00\u4e2a\u9ed8\u8ba4\u7684\u64cd\u4f5c\uff0c \u9ed8\u8ba4\u7684\u64cd\u4f5c\u57fa\u672c\u53ef\u4ee5\u6ee1\u8db3\u4e00\u822c\u6027\u7684\u9700\u6c42. \u603b\u4f53\u4e0a\u6211\u4eec\u53ef\u4ee5\u7ed9\u8fd9\u4e9b\u5143\u7d20\u64cd\u4f5c\u5206\u4e2a\u7c7b\uff1a \u57fa\u672c\u5143\u7d20 Link Button InputBox CheckBox Radio Image SelectList Table \u5b9a\u5236\u7684HTML\u5143\u7d20 UploadElement TreeElement DatePicker TagElement DropDownElement CheckBoxContainerElement \u7279\u6b8a\u7684\u64cd\u4f5c WebTestActionBuilder.CLOSE_POPUP WebTestActionBuilder.CLOSE_TAB WebTestActionBuilder.SWITCH_TAB WebTestActionBuilder.WAIT_LOAD WebTestActionBuilder.SCROLL_TO_BOTTOM \u81ea\u5b9a\u4e49\u7ec4\u5408\u64cd\u4f5c \u81ea\u5df1\u7f16\u5199\u81ea\u5b9a\u4e49\u5143\u7d20 Page\u7c7b\u4e2d\u7f16\u5199\u5143\u7d20\u7ec4\u5408\u64cd\u4f5c \u57fa\u672c\u5143\u7d20 \u57fa\u672c\u5143\u7d20\u64cd\u4f5c\u6bd4\u8f83\u5bb9\u6613\u7406\u89e3\uff0c\u8fd9\u4e9b\u5c31\u662f\u4e0d\u540c\u7684\u6807\u51c6HTML\u5143\u7d20\uff0c\u4e00\u822c\u90fd\u4f7f\u7528\u9ed8\u8ba4\u7684HTML\u5143\u7d20\u64cd\u4f5c\u5c31\u53ef\u4ee5\u4e86\uff0c\u9ed8\u8ba4\u64cd\u4f5c\u5982\u4e0b\uff1a \u5143\u7d20 \u9ed8\u8ba4\u64cd\u4f5c CheckBox selectByVisibleText Radio selectByVisibleText selectList selectByVisibleText InputBox inputIfPresent \uff5cOthers clickIfPresent \u65b9\u6cd5\u540d\u540e\u9762\u6709IfPresent\u7684\u90fd\u8868\u793a\u5982\u679c\u5143\u7d20\u5b58\u5728\u5c31\u70b9\u51fb\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5c31\u8df3\u8fc7\uff0c\u8df3\u8fc7\u7684\u8fc7\u7a0b\u90fd\u6709\u91cd\u8bd5\u7684\u52a8\u4f5c\uff0c\u901f\u5ea6\u53ef\u80fd\u8f83\u6162 \u5176\u4ed6\u65b9\u6cd5\u53ef\u80fd\u4e5f\u4f1a\u5e38\u7528\uff0c\u5982InputBox \u7684inputAndSelect\uff0c\u9488\u5bf9\u7684\u662f\u8f93\u5165\u5185\u5bb9\u7136\u540e\u5728\u9009\u62e9\u9009\u9879 @UIAction(processName = \"editCustomerVisitMemo\", elementActionDescription = { \"watchType\", \"managerWithSee\", \"confirmStatus\", \"startAt\", \"startHour\", \"startMinute\", \"estateName inputAndSelect\", \"buildingName inputAndSelect\" , \"roomNo inputAndSelect\", \"newHouseName inputAndSelect\", \"inquiryReply\", \"saveVisitMemo\"}) \u5982\u4f55\u4f7f\u7528\u8fd9\u4e9b\u5143\u7d20\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a - PageObject \u5b9a\u4e49\u5143\u7d20 - \u7f16\u5199\u4e1a\u52a1\u6d41\u7a0b\uff0c\u6307\u5b9a\u5143\u7d20\u548c\u52a8\u4f5c \u6837\u4f8b\u4ee3\u7801\uff1a @UIActions(actions={@UIAction(processName=\"addCustomer\", elementActionDescription={\"flagPrivate\",\"status\", \"inquirySource\",\"addsourceOther\",\"addSource\",\"custGrade\", \"custName\",\"custTel\",\"tags\",\"remark input\",\"submit\"}), @UIAction(processName=\"addCustomerTag\", elementActionDescription={\"addTag\",\"customLabel\",\"submitTag\" }) }) public class AddCustomerPage extends ExecutablePageObject { @FindBy(linkText=\"\u6dfb\u52a0\u8054\u7cfb\u4eba\") @ElementName(elementName = \"\u6dfb\u52a0\u8054\u7cfb\u4eba\") private Button addCustomer; @FindBy(xpath = \"//a[@ng-click='addLabel()']\") @ElementName(elementName = \"\u6dfb\u52a0\u8054\u7cfb\u4eba\") private Button submitTag; @FindBy(xpath=\"//button[@ng-click='submit()']\") @ElementName(elementName = \"\u63d0\u4ea4\") private Button submit; @FindBy(xpath=\"//input[@name='flagPrivate']\") @ElementName(elementName=\"\u5f55\u5165\u7c7b\u578b\") private Radio flagPrivate; @FindBy(xpath=\"//input[@name='status']\") @ElementName(elementName=\"\u72b6\u6001\") private Radio status; @FindBy(xpath=\"//input[@name='inquirySource']\") @ElementName(elementName=\"inquirySource\") private Radio inquirySource; ...... } UIAction\u4e2d\uff1a \u4f8b\u5982\uff1a addCustomer \u8fd9\u4e2a\u5143\u7d20\u662fButton \u7c7b\u578b\uff0c\u6240\u4ee5\u9ed8\u8ba4\u52a8\u4f5c\u5c31\u662fclickIfPresent\uff0c\u6240\u4ee5\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u7a0b\u5e8f\u4f1a\u70b9\u51fb\u8fd9\u4e2a\u6309\u94ae\uff0c\u800c\u4e0d\u9700\u8981\u81ea\u5df1\u5199findElement(By).click()\u8fd9\u6837\u7684\u4ee3\u7801 \u6267\u884caddCustomer\u4e1a\u52a1\u7684\u4ee3\u7801\u5982\u4e0b\uff0c\u591a\u4e2a\u9875\u9762\u540c\u65f6\u90fd\u6709\u8fd9\u4e2aProcessName\uff1a addCustomer\u7684\u90fd\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c WebTestActionBuilder.execute(Lists.newArrayList(MyCustomerSearchPage.class, AddCustomerPage.class, CustomerNeedsPage.class) , \"addCustomer\", driver, testData); \u989d\u5916\u9700\u8981\u8bf4\u660e\u7684\u662f: CheckBox,Radio\u8fd9\u6837\u7684\u5143\u7d20\u5982\u679c\u662f\u540c\u4e00\u4e2a\u7c7b\u578b\u7684\u9009\u9879\uff0c\u53ea\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u5143\u7d20\uff0c\u5982inquirySource\uff0c\u5b83\u53ef\u80fd\u6709\u5f88\u591a\u9009\u9879\uff0c\u4f46\u662f\u5728\u9875\u9762\u5143\u7d20\u4e2d\u53ea\u9700\u8981\u5b9a\u4e49\u4e00\u4e2aRadio\u5143\u7d20\uff0c\u6267\u884c\u65f6\u5177\u4f53\u9009\u62e9\u4ec0\u4e48\u6837\u7684\u5143\u7d20\u6709inquirySource\u7684\u6570\u636e\u51b3\u5b9a \u5b9a\u5236\u7684HTML\u5143\u7d20 UploadElement: \u6587\u4ef6\u4e0a\u4f20\uff0c\u5b9a\u4f4d\u5230 <input type=\"file\"> \u7c7b\u578b\u7684HTML\u5143\u7d20\uff0c\u9ed8\u8ba4\u64cd\u4f5c\u4e3a\u4e0a\u4f20\u6587\u4ef6 TreeElement\uff1a \u4e3b\u8981\u4e3a\u7ec4\u7ec7\u67b6\u6784\u6811\u7684\u9009\u62e9\u9879\uff0c\u9ed8\u8ba4\u64cd\u4f5c\u4e3aselect\uff0c\u8f93\u5165\u7684\u6570\u636e\u4e3a\uff1a orgId1-orgID2-...- DatePicker: \u65f6\u95f4\u9009\u62e9\uff0c\u8f93\u5165\u6570\u636e\u683c\u5f0f\u4e3aYYYY\uff0dMM\uff0dDD TagElement\uff1a Tag\u5143\u7d20\u7684\u9009\u62e9 DropDownElement\uff1a \u6709\u4e9b\u6309\u94ae\u9700\u8981\u5148\u70b9\u51fb\u4e00\u4e0b\uff0c\u7136\u540e\u9009\u62e9\u4e0b\u62c9\u83dc\u5355\u7684\u67d0\u4e2a\u5143\u7d20 CheckBoxContainerElement\uff1a \u9700\u8981\u70b9\u51fb\u4e00\u4e0b\uff0c\u7136\u540e\u518d\u9009\u62e9CheckBox \u7279\u6b8a\u7684\u64cd\u4f5c WebTestActionBuilder.CLOSE_POPUP: \u5173\u95ed\u5f39\u51fa\u6846 WebTestActionBuilder.CLOSE_TAB\uff1a \u5173\u95edTab WebTestActionBuilder.SWITCH_TAB\uff1a \u5207\u6362Tab WebTestActionBuilder.WAIT_LOAD\uff1a \u7b49\u5f85 WebTestActionBuilder.SCROLL_TO_BOTTOM\uff1a \u6eda\u52a8\u5230\u9875\u9762\u5e95\u90e8 \u4f7f\u7528\u7684\u4ee3\u7801\u793a\u4f8b\uff1a @UIAction(processName = \"editCustomerVisitMemo\", elementActionDescription = { \"watchType\", WebTestActionBuilder.SWITCH_TAB, \"inquiryReply\", \"saveVisitMemo\"}) \u81ea\u5b9a\u4e49\u7ec4\u5408\u64cd\u4f5c \u81ea\u5df1\u7f16\u5199\u81ea\u5b9a\u5143\u5143\u7d20 Page\u7c7b\u4e2d\u7f16\u5199\u5143\u7d20\u7ec4\u5408\u64cd\u4f5c \u81ea\u5b9a\u4e49\u7ec4\u5408\u64cd\u4f5c: \u81ea\u5df1\u7f16\u5199\u81ea\u5b9a\u5143\u5143\u7d20 \u6bcf\u4e2a\u9879\u76ee\u7ec4\u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684\u60c5\u51b5\uff0c\u81ea\u5df1\u5b9e\u73b0\u81ea\u5b9a\u4e49\u7684HTML\u7ec4\u4ef6\uff0c\u5b9e\u73b0\u65b9\u6cd5\u5f88\u7b80\u5355\uff0c\u53ea\u7528\u7ee7\u627fHTMLElement\u7c7b\u5c31\u53ef\u4ee5\u4e86\uff0c\u7136\u540e\u81ea\u5df1\u5b9e\u73b0\u65b9\u6cd5 public class NewButton extends HtmlElement { public NewButton(String name, WebElement element) { super(name, element); } public NewButton(WebElement element) { super(element); } public void clickById(String id) { List elements = DriverFactory.get().findElements(super.getBy()); WebElement element = (WebElement)CollectionsHelper.filter(elements, (webElement) -> { return id.equals(webElement.getAttribute(\"id\")); }); element.click(); } } \u5728Page\u7c7b\u91cc\u9762\u5b9a\u4e49\u5143\u7d20\u6210\u8fd9\u4e2a\u65b0\u5efa\u7684\u5143\u7d20\u7c7b\u578b\uff0c\u7136\u540eclickById\u5c31\u5728UIAction\u91cc\u9762\u7528\u4e86 name clickById \u81ea\u5b9a\u4e49\u7ec4\u5408\u64cd\u4f5c: Page\u7c7b\u4e2d\u7f16\u5199\u5143\u7d20\u7ec4\u5408\u64cd\u4f5c \u53ef\u4ee5\u5728Page\u7c7b\u91cc\u9762\u81ea\u5df1\u7f16\u5199\u5143\u7d20\u7ec4\u5408\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\uff1a public void dailyReportData(String dailyReportData){ this.diilyReportElement.input(dailyReportData); this.diilyReportElement2.input(dailyReportData); this.diilyReportElement3.input(dailyReportData); } \u7136\u540e dailyReportData \u8fd9\u4e2a\u540d\u5b57\u4e5f\u53ef\u4ee5\u5728 UIAction \u4e2d\u4f7f\u7528\u4e86\uff0c\u540c\u65f6\u4ed6\u8f93\u5165\u7684\u6570\u636e\u4f1a\u548cTestData\u91cc\u9762\u7684 dailyReportData \u76f8\u5bf9\u5e94. List \u7c7b\u578b\u7684\u5143\u7d20\u5904\u7406 @UIAction(processName = \"editCustomerVisitMemo\", elementActionDescription = { \"type\", WebTestActionBuilder.SWITCH_TAB, \"inquiryReply\", \"saveVisitMemo\"}) private List<Link> type; TestData: Header Value TestData.type[0] abcds","title":"\u9875\u9762\u81ea\u52a8\u5316-\u9875\u9762\u5143\u7d20\u7684\u4f7f\u7528"},{"location":"webui_automation/self_defined_elements/#_1","text":"\u4e3a\u4e86\u65b9\u4fbf\u7684\u64cd\u4f5c\u5143\u7d20\uff0c\u6846\u67b6\u5b9e\u73b0\u4e86\u4e00\u4e9b\u81ea\u5b9a\u4e49\u7684HTML\u5143\u7d20\uff0c\u6765\u65b9\u4fbf\u64cd\u4f5c. \u540c\u65f6\u6bcf\u4e00\u4e2a\u81ea\u5b9a\u4e49\u5143\u7d20\u90fd\u6709\u4e00\u4e2a\u9ed8\u8ba4\u7684\u64cd\u4f5c\uff0c \u9ed8\u8ba4\u7684\u64cd\u4f5c\u57fa\u672c\u53ef\u4ee5\u6ee1\u8db3\u4e00\u822c\u6027\u7684\u9700\u6c42. \u603b\u4f53\u4e0a\u6211\u4eec\u53ef\u4ee5\u7ed9\u8fd9\u4e9b\u5143\u7d20\u64cd\u4f5c\u5206\u4e2a\u7c7b\uff1a \u57fa\u672c\u5143\u7d20 Link Button InputBox CheckBox Radio Image SelectList Table \u5b9a\u5236\u7684HTML\u5143\u7d20 UploadElement TreeElement DatePicker TagElement DropDownElement CheckBoxContainerElement \u7279\u6b8a\u7684\u64cd\u4f5c WebTestActionBuilder.CLOSE_POPUP WebTestActionBuilder.CLOSE_TAB WebTestActionBuilder.SWITCH_TAB WebTestActionBuilder.WAIT_LOAD WebTestActionBuilder.SCROLL_TO_BOTTOM \u81ea\u5b9a\u4e49\u7ec4\u5408\u64cd\u4f5c \u81ea\u5df1\u7f16\u5199\u81ea\u5b9a\u4e49\u5143\u7d20 Page\u7c7b\u4e2d\u7f16\u5199\u5143\u7d20\u7ec4\u5408\u64cd\u4f5c","title":"\u81ea\u5b9a\u4e49\u5143\u7d20"},{"location":"webui_automation/self_defined_elements/#_2","text":"\u57fa\u672c\u5143\u7d20\u64cd\u4f5c\u6bd4\u8f83\u5bb9\u6613\u7406\u89e3\uff0c\u8fd9\u4e9b\u5c31\u662f\u4e0d\u540c\u7684\u6807\u51c6HTML\u5143\u7d20\uff0c\u4e00\u822c\u90fd\u4f7f\u7528\u9ed8\u8ba4\u7684HTML\u5143\u7d20\u64cd\u4f5c\u5c31\u53ef\u4ee5\u4e86\uff0c\u9ed8\u8ba4\u64cd\u4f5c\u5982\u4e0b\uff1a \u5143\u7d20 \u9ed8\u8ba4\u64cd\u4f5c CheckBox selectByVisibleText Radio selectByVisibleText selectList selectByVisibleText InputBox inputIfPresent \uff5cOthers clickIfPresent \u65b9\u6cd5\u540d\u540e\u9762\u6709IfPresent\u7684\u90fd\u8868\u793a\u5982\u679c\u5143\u7d20\u5b58\u5728\u5c31\u70b9\u51fb\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5c31\u8df3\u8fc7\uff0c\u8df3\u8fc7\u7684\u8fc7\u7a0b\u90fd\u6709\u91cd\u8bd5\u7684\u52a8\u4f5c\uff0c\u901f\u5ea6\u53ef\u80fd\u8f83\u6162 \u5176\u4ed6\u65b9\u6cd5\u53ef\u80fd\u4e5f\u4f1a\u5e38\u7528\uff0c\u5982InputBox \u7684inputAndSelect\uff0c\u9488\u5bf9\u7684\u662f\u8f93\u5165\u5185\u5bb9\u7136\u540e\u5728\u9009\u62e9\u9009\u9879 @UIAction(processName = \"editCustomerVisitMemo\", elementActionDescription = { \"watchType\", \"managerWithSee\", \"confirmStatus\", \"startAt\", \"startHour\", \"startMinute\", \"estateName inputAndSelect\", \"buildingName inputAndSelect\" , \"roomNo inputAndSelect\", \"newHouseName inputAndSelect\", \"inquiryReply\", \"saveVisitMemo\"}) \u5982\u4f55\u4f7f\u7528\u8fd9\u4e9b\u5143\u7d20\uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a - PageObject \u5b9a\u4e49\u5143\u7d20 - \u7f16\u5199\u4e1a\u52a1\u6d41\u7a0b\uff0c\u6307\u5b9a\u5143\u7d20\u548c\u52a8\u4f5c \u6837\u4f8b\u4ee3\u7801\uff1a @UIActions(actions={@UIAction(processName=\"addCustomer\", elementActionDescription={\"flagPrivate\",\"status\", \"inquirySource\",\"addsourceOther\",\"addSource\",\"custGrade\", \"custName\",\"custTel\",\"tags\",\"remark input\",\"submit\"}), @UIAction(processName=\"addCustomerTag\", elementActionDescription={\"addTag\",\"customLabel\",\"submitTag\" }) }) public class AddCustomerPage extends ExecutablePageObject { @FindBy(linkText=\"\u6dfb\u52a0\u8054\u7cfb\u4eba\") @ElementName(elementName = \"\u6dfb\u52a0\u8054\u7cfb\u4eba\") private Button addCustomer; @FindBy(xpath = \"//a[@ng-click='addLabel()']\") @ElementName(elementName = \"\u6dfb\u52a0\u8054\u7cfb\u4eba\") private Button submitTag; @FindBy(xpath=\"//button[@ng-click='submit()']\") @ElementName(elementName = \"\u63d0\u4ea4\") private Button submit; @FindBy(xpath=\"//input[@name='flagPrivate']\") @ElementName(elementName=\"\u5f55\u5165\u7c7b\u578b\") private Radio flagPrivate; @FindBy(xpath=\"//input[@name='status']\") @ElementName(elementName=\"\u72b6\u6001\") private Radio status; @FindBy(xpath=\"//input[@name='inquirySource']\") @ElementName(elementName=\"inquirySource\") private Radio inquirySource; ...... } UIAction\u4e2d\uff1a \u4f8b\u5982\uff1a addCustomer \u8fd9\u4e2a\u5143\u7d20\u662fButton \u7c7b\u578b\uff0c\u6240\u4ee5\u9ed8\u8ba4\u52a8\u4f5c\u5c31\u662fclickIfPresent\uff0c\u6240\u4ee5\u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u7a0b\u5e8f\u4f1a\u70b9\u51fb\u8fd9\u4e2a\u6309\u94ae\uff0c\u800c\u4e0d\u9700\u8981\u81ea\u5df1\u5199findElement(By).click()\u8fd9\u6837\u7684\u4ee3\u7801 \u6267\u884caddCustomer\u4e1a\u52a1\u7684\u4ee3\u7801\u5982\u4e0b\uff0c\u591a\u4e2a\u9875\u9762\u540c\u65f6\u90fd\u6709\u8fd9\u4e2aProcessName\uff1a addCustomer\u7684\u90fd\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c WebTestActionBuilder.execute(Lists.newArrayList(MyCustomerSearchPage.class, AddCustomerPage.class, CustomerNeedsPage.class) , \"addCustomer\", driver, testData); \u989d\u5916\u9700\u8981\u8bf4\u660e\u7684\u662f: CheckBox,Radio\u8fd9\u6837\u7684\u5143\u7d20\u5982\u679c\u662f\u540c\u4e00\u4e2a\u7c7b\u578b\u7684\u9009\u9879\uff0c\u53ea\u9700\u8981\u5b9a\u4e49\u4e00\u4e2a\u5143\u7d20\uff0c\u5982inquirySource\uff0c\u5b83\u53ef\u80fd\u6709\u5f88\u591a\u9009\u9879\uff0c\u4f46\u662f\u5728\u9875\u9762\u5143\u7d20\u4e2d\u53ea\u9700\u8981\u5b9a\u4e49\u4e00\u4e2aRadio\u5143\u7d20\uff0c\u6267\u884c\u65f6\u5177\u4f53\u9009\u62e9\u4ec0\u4e48\u6837\u7684\u5143\u7d20\u6709inquirySource\u7684\u6570\u636e\u51b3\u5b9a","title":"\u57fa\u672c\u5143\u7d20"},{"location":"webui_automation/self_defined_elements/#html","text":"UploadElement: \u6587\u4ef6\u4e0a\u4f20\uff0c\u5b9a\u4f4d\u5230 <input type=\"file\"> \u7c7b\u578b\u7684HTML\u5143\u7d20\uff0c\u9ed8\u8ba4\u64cd\u4f5c\u4e3a\u4e0a\u4f20\u6587\u4ef6 TreeElement\uff1a \u4e3b\u8981\u4e3a\u7ec4\u7ec7\u67b6\u6784\u6811\u7684\u9009\u62e9\u9879\uff0c\u9ed8\u8ba4\u64cd\u4f5c\u4e3aselect\uff0c\u8f93\u5165\u7684\u6570\u636e\u4e3a\uff1a orgId1-orgID2-...- DatePicker: \u65f6\u95f4\u9009\u62e9\uff0c\u8f93\u5165\u6570\u636e\u683c\u5f0f\u4e3aYYYY\uff0dMM\uff0dDD TagElement\uff1a Tag\u5143\u7d20\u7684\u9009\u62e9 DropDownElement\uff1a \u6709\u4e9b\u6309\u94ae\u9700\u8981\u5148\u70b9\u51fb\u4e00\u4e0b\uff0c\u7136\u540e\u9009\u62e9\u4e0b\u62c9\u83dc\u5355\u7684\u67d0\u4e2a\u5143\u7d20 CheckBoxContainerElement\uff1a \u9700\u8981\u70b9\u51fb\u4e00\u4e0b\uff0c\u7136\u540e\u518d\u9009\u62e9CheckBox","title":"\u5b9a\u5236\u7684HTML\u5143\u7d20"},{"location":"webui_automation/self_defined_elements/#_3","text":"WebTestActionBuilder.CLOSE_POPUP: \u5173\u95ed\u5f39\u51fa\u6846 WebTestActionBuilder.CLOSE_TAB\uff1a \u5173\u95edTab WebTestActionBuilder.SWITCH_TAB\uff1a \u5207\u6362Tab WebTestActionBuilder.WAIT_LOAD\uff1a \u7b49\u5f85 WebTestActionBuilder.SCROLL_TO_BOTTOM\uff1a \u6eda\u52a8\u5230\u9875\u9762\u5e95\u90e8 \u4f7f\u7528\u7684\u4ee3\u7801\u793a\u4f8b\uff1a @UIAction(processName = \"editCustomerVisitMemo\", elementActionDescription = { \"watchType\", WebTestActionBuilder.SWITCH_TAB, \"inquiryReply\", \"saveVisitMemo\"})","title":"\u7279\u6b8a\u7684\u64cd\u4f5c"},{"location":"webui_automation/self_defined_elements/#_4","text":"\u81ea\u5df1\u7f16\u5199\u81ea\u5b9a\u5143\u5143\u7d20 Page\u7c7b\u4e2d\u7f16\u5199\u5143\u7d20\u7ec4\u5408\u64cd\u4f5c","title":"\u81ea\u5b9a\u4e49\u7ec4\u5408\u64cd\u4f5c"},{"location":"webui_automation/self_defined_elements/#_5","text":"\u6bcf\u4e2a\u9879\u76ee\u7ec4\u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684\u60c5\u51b5\uff0c\u81ea\u5df1\u5b9e\u73b0\u81ea\u5b9a\u4e49\u7684HTML\u7ec4\u4ef6\uff0c\u5b9e\u73b0\u65b9\u6cd5\u5f88\u7b80\u5355\uff0c\u53ea\u7528\u7ee7\u627fHTMLElement\u7c7b\u5c31\u53ef\u4ee5\u4e86\uff0c\u7136\u540e\u81ea\u5df1\u5b9e\u73b0\u65b9\u6cd5 public class NewButton extends HtmlElement { public NewButton(String name, WebElement element) { super(name, element); } public NewButton(WebElement element) { super(element); } public void clickById(String id) { List elements = DriverFactory.get().findElements(super.getBy()); WebElement element = (WebElement)CollectionsHelper.filter(elements, (webElement) -> { return id.equals(webElement.getAttribute(\"id\")); }); element.click(); } } \u5728Page\u7c7b\u91cc\u9762\u5b9a\u4e49\u5143\u7d20\u6210\u8fd9\u4e2a\u65b0\u5efa\u7684\u5143\u7d20\u7c7b\u578b\uff0c\u7136\u540eclickById\u5c31\u5728UIAction\u91cc\u9762\u7528\u4e86 name clickById","title":"\u81ea\u5b9a\u4e49\u7ec4\u5408\u64cd\u4f5c: \u81ea\u5df1\u7f16\u5199\u81ea\u5b9a\u5143\u5143\u7d20"},{"location":"webui_automation/self_defined_elements/#page","text":"\u53ef\u4ee5\u5728Page\u7c7b\u91cc\u9762\u81ea\u5df1\u7f16\u5199\u5143\u7d20\u7ec4\u5408\u7684\u64cd\u4f5c\uff0c\u6bd4\u5982\uff1a public void dailyReportData(String dailyReportData){ this.diilyReportElement.input(dailyReportData); this.diilyReportElement2.input(dailyReportData); this.diilyReportElement3.input(dailyReportData); } \u7136\u540e dailyReportData \u8fd9\u4e2a\u540d\u5b57\u4e5f\u53ef\u4ee5\u5728 UIAction \u4e2d\u4f7f\u7528\u4e86\uff0c\u540c\u65f6\u4ed6\u8f93\u5165\u7684\u6570\u636e\u4f1a\u548cTestData\u91cc\u9762\u7684 dailyReportData \u76f8\u5bf9\u5e94.","title":"\u81ea\u5b9a\u4e49\u7ec4\u5408\u64cd\u4f5c: Page\u7c7b\u4e2d\u7f16\u5199\u5143\u7d20\u7ec4\u5408\u64cd\u4f5c"},{"location":"webui_automation/self_defined_elements/#list","text":"@UIAction(processName = \"editCustomerVisitMemo\", elementActionDescription = { \"type\", WebTestActionBuilder.SWITCH_TAB, \"inquiryReply\", \"saveVisitMemo\"}) private List<Link> type; TestData: Header Value TestData.type[0] abcds","title":"List \u7c7b\u578b\u7684\u5143\u7d20\u5904\u7406"},{"location":"webui_automation/webui_automation_quickstart/","text":"0.\u7b80\u5355\u793a\u4f8b \u4ee5\u4e0b\u5c55\u793a\u4e00\u4e2aWebUI\u6d4b\u8bd5\u4ece\u5934\u5230\u5c3e\u7684\u4e00\u4e2a\u8fc7\u7a0b\uff1a \u89e3\u6790\u9875\u9762\u5143\u7d20\u521b\u5efaPageObject \u81ea\u52a8\u751f\u6210annotation \u6216\u8005\u6d4b\u8bd5\u4ee3\u7801 \u6d4b\u8bd5\u6570\u636e\u51c6\u5907 \u6d4b\u8bd5\u7528\u4f8b\u51c6\u5907 \u6d4b\u8bd5\u914d\u7f6e\u51c6\u5907 \u7f16\u5199\u68c0\u67e5\u70b9 \u6267\u884c\u548cdebug \u6269\u5c55\u6d4b\u8bd5\u6570\u636e \u8ba9\u6211\u4eec\u52a8\u8d77\u624b\u6765,\u4e0d\u8fc7\u4e3a\u4e86\u7b80\u5355\u7684\u63cf\u8ff0\u6d4b\u8bd5\u7684\u601d\u8def,\u8fd8\u662f\u4ece\u4f7f\u7528Baidu\u67e5\u8be2\u7684\u4f8b\u5b50\u5f00\u59cb,\u540c\u65f6\u8fd9\u4e2a\u7ae0\u8282\u7684\u76ee\u7684\u662f\u8ba9\u4f60\u719f\u6089\u4e00\u4e2a\u81ea\u52a8\u5316\u5305\u542b\u90a3\u4e9b\u5185\u5bb9 ,\u4ee5\u53ca\u6bcf\u4e2a\u5185\u5bb9\u9700\u8981\u505a\u4ec0\u4e48\u600e\u4e48\u505a \u9875\u9762 \u6d4b\u8bd5\u6570\u636e \u6d41\u7a0b \u6d4b\u8bd5\u7c7b 1. \u521b\u5efaPage Object Page Object\u662f\u7528\u6765\u5b58\u653e\u88ab\u6d4b\u9875\u9762\u5143\u7d20\u8bf4\u660e\u7684\u4e00\u4e2a\u7c7b\uff0c\u5b83\u5c31\u662f\u5bf9\u5e94\u4e86\u4e00\u4e2a\u88ab\u6d4b\u9875\u9762\u6d89\u53ca\u5230\u5143\u7d20\u7684\u4e00\u4e2a\u6a21\u578b\uff0c\u653e\u5728\u4e00\u4e2a\u7c7b\u91cc\u7684\u597d\u5904\u662f\u4fbf\u4e8e\u590d\u7528\u548c\u5305\u88c5\uff0c\u4e0d\u7528\u628a\u5982\u4f55\u67e5\u627e\u9875\u9762\u5143\u7d20\u7684\u4ee3\u7801\u6563\u843d\u5404\u5904\uff0c\u540c\u65f6\u5728\u5c01\u88c5\u540e\u4f7f\u7528\uff0c\u4e0a\u5c42\u7684\u6d4b\u8bd5\u7528\u4f8b\u7ea7\u522b\u7684\u4ee3\u7801\u57fa\u672c\u4e0d\u4f1a\u548c\u8fd9\u5757\u518d\u6253\u4ea4\u9053\uff0c\u800c\u662f\u4e13\u6ce8\u4e8e\u4ec0\u4e48\u6837\u7684\u4e1a\u52a1\u6d41\u7a0b\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f7f\u7528\u8f85\u52a9\u5de5\u5177\u6765\u8fdb\u884c\u89e3\u6790\u9875\u9762\u5143\u7d20\u521b\u5efaPage Object \u7c7b\u7684\u8fc7\u7a0b\u7684\u8bf4\u660e\u3002 1.1 \u89e3\u6790\u9875\u9762\u5143\u7d20:\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5f55\u5236\u7684\u8fc7\u7a0b \u7ed9\u9875\u9762\u5143\u7d20\u5b9a\u4f4d\u975e\u5e38\u82b1\u8d39\u65f6\u95f4\uff0c\u6240\u4ee5\u5f55\u5236\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u7b56\u7565\uff0c\u4e0d\u540c\u7684\u662f\u8fd9\u91cc\u7684\u5de5\u5177\u662f\u89e3\u6790\u9875\u9762html \u6e90\u7801\uff0c\u6765\u5f97\u5230\u6211\u4eec\u60f3\u8981\u7684Page Object \u7c7b\u7684\u683c\u5f0f\u3002\u8fd9\u4e9b\u8f85\u52a9\u5de5\u5177\u8fd8\u4e0d\u80fd\u5b8c\u5168\u4f60\u628a\u6240\u6709\u5143\u7d20\u90fd\u975e\u5e38\u597d\u8bc6\u522b\uff0c\u4f46\u662f\u8fd8\u662f\u53ef\u4ee5\u8d77\u5230\u4e00\u5b9a\u7a0b\u5ea6\u63d0\u9ad8\u6548\u7387\u3002 \u90a3\u4e48\u4e3a\u4ec0\u4e48\u81ea\u5df1\u5199\u4e00\u4e2a\u5f81\u7528\u7684\u5de5\u5177\u5462\uff1f\u4e00\u4e2a\u539f\u56e0\u662f\u6ca1\u6709\u592a\u597d\u7684\u5de5\u5177\u53ef\u4ee5\u975e\u5e38\u667a\u80fd\u7684\u5b8c\u6210\u8fd9\u4e2a\u4efb\u52a1\uff0c\u53e6\u5916\u4e00\u4e2a\u662f\u4f7f\u7528JSOUP\u8fd9\u6837\u7684\u5de5\u5177\u5199\u4e00\u4e9b\u8d77\u5230\u4f5c\u7528\u7684\u5de5\u5177\u4e0d\u96be(\u5f53\u7136\u5982\u679c\u8981\u5b8c\u5168\u89e3\u6790\u6b63\u786e\u5f88\u96be).\u5173\u4e8e\u5982\u4f55\u89e3\u6790\u9875\u9762\u5143\u7d20\u4f1a\u5728\u9875\u9762\u89e3\u6790\u8bf4\u660e\u90e8\u5206\u505a\u8be6\u7ec6\u89e3\u91ca. \u5df2Baidu\u7684\u9996\u9875\u4e3a\u4f8b: \u53ef\u4ee5\u770b\u5230\u6211\u4eec\u4e3b\u8981\u9700\u8981\u6d4b\u8bd5\u7684\u90e8\u5206\u662f\u4e0a\u56fe\u4e2d\u6807\u793a\u90e8\u5206,\u6240\u4ee5\u6211\u4eec\u9700\u8981 \u5c06\u9875\u9762\u4e2d\u6807\u793a\u90e8\u5206\u7684HTMl\u6e90\u7801\u53d6\u51fa \u7136\u540e\u590d\u5236\u5230main/resources \u76ee\u5f55\u4e0b\u7684source.txt\u6587\u4ef6 \u8fd0\u884c\u5982\u4e0b\u7684\u4ee3\u7801 public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generatePageObjectClass(\"source.txt\"); } } \u5f97\u5230\u5982\u4e0b\u7684\u7ed3\u679c: @FindBy(id=\"su\") @ElementName(elementName = \"su\") private Button su; @FindBy(linkText=\"\u624b\u5199\") @ElementName(elementName = \"\u624b\u5199\") private Link \u624b\u5199; @FindBy(linkText=\"\u62fc\u97f3\") @ElementName(elementName = \"\u62fc\u97f3\") private Link \u62fc\u97f3; @FindBy(linkText=\"\u5173\u95ed\") @ElementName(elementName = \"\u5173\u95ed\") private Link \u5173\u95ed; @FindBy(name=\"wd\") @ElementName(elementName = \"wd\") private InputBox wd; 1.2 \u521b\u5efa\u9875\u9762\u7c7b(PageObject) \u5982\u679c\u6ca1\u6709\u6709\u660e\u663e\u7684\u9519\u8bef\u5c31\u6839\u636e\u5982\u4e0b\u7ed3\u679c\u521b\u5efa\u9875\u9762\u7c7b: public class BaiDuPage extends ExecutablePageObject { public BaiDuPage(WebDriver driver) { super(driver); } @FindBy(id = \"su\") @ElementName(elementName = \"su\") private Button su; @FindBy(linkText = \"\u624b\u5199\") @ElementName(elementName = \"\u624b\u5199\") private Link \u624b\u5199; @FindBy(linkText = \"\u62fc\u97f3\") @ElementName(elementName = \"\u62fc\u97f3\") private Link \u62fc\u97f3; @FindBy(linkText = \"\u5173\u95ed\") @ElementName(elementName = \"\u5173\u95ed\") private Link \u5173\u95ed; @FindBy(name = \"wd\") @ElementName(elementName = \"wd\") private InputBox wd; --- \u81ea\u52a8\u751f\u6210\u7684getter/setter } \u81f3\u6b64\u9875\u9762\u7c7b\u5c31\u505a\u597d\u4e86. ps: \u6784\u9020\u65b9\u6cd5\u548cgetter/setter\u65b9\u6cd5\u90fd\u53ef\u4ee5\u901a\u8fc7IDE\u81ea\u52a8\u751f\u6210\u7684 2.\u521b\u5efa\u6ce8\u89e3\u548c\u6d4b\u8bd5\u6d41\u7a0b\u7c7b \u5047\u8bbe\u6211\u4eec\u60f3\u8981\u6d4b\u8bd5\u7684\u662f:\u8f93\u5165\u5173\u952e\u5b57,\u76f4\u63a5\u641c\u7d22\u8fd9\u6837\u4e00\u4e2a\u4e1a\u52a1,\u90a3\u4e48\u6211\u4eec\u9700\u8981\u4e00\u4e9b\u6807\u793a\u8fd9\u4e2a\u6d4b\u8bd5\u6d41\u7a0b\u7684\u4e00\u4e9b\u65b9\u6cd5\u7c7b\u652f\u6491, \u4ee5\u4e0b\u662f\u5982\u4f55\u6784\u5efa\u7684\u4e00\u4e2a\u8fc7\u7a0b,\u5206\u4e3a: \u521b\u5efa\u6d41\u7a0b\u6ce8\u89e3 \u7f16\u5199\u6d41\u7a0b\u7a0b\u5e8f 2.1 \u751f\u6210\u6ce8\u89e3 \u8fd0\u884c\u5982\u4e0b\u4ee3\u7801\u5c31\u53ef\u4ee5\u751f\u6210\u6ce8\u89e3: public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generateAnnotationStatement(\"Baidu Search\", BaiDuPage.class); } } \u5f97\u5230\u7ed3\u679c\u5982\u4e0b,\u628a\u4ed6\u590d\u5236\u5230\u521a\u624d\u521b\u5efa\u597d\u7684\u9875\u9762\u7c7b\u91cc\u9762,\u540c\u65f6\u6dfb\u52a0\u6700\u540e\u7684\u63d0\u4ea4\u6309\u94ae\u5230elementActionDescription\u91cc\u9762: @UIActions(actions={@UIAction(processName=\"BaiduSearch\",elementActionDescription={\"wd\"}) }) \u65b0\u7684\u9875\u9762\u7c7b: @UIActions(actions={@UIAction(processName=\"BaiduSearch\",elementActionDescription={\"wd\",\"su\"}) }) \u8fd9\u91cc\u89e3\u91ca\u4ee5\u4e0belementActionDescription, \u8fd9\u4e2a\u653e\u7684\u5185\u5bb9\u662f\u4f60\u6267\u884c\u6574\u4e2a\u4e1a\u52a1\u6d41\u7a0b\u9700\u8981\u64cd\u4f5c\u7684\u54ea\u4e9bWEB\u7684\u5143\u7d20,\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u9762\u5c31\u662f\u4e00\u4e2a\u5173\u952e\u5b57\u6846 ,\u4e00\u4e2a\u63d0\u4ea4\u6309\u94ae. \u5982\u679c\u6709\u5176\u4ed6\u7684\u4e1a\u52a1\u6d41\u7a0b\u9700\u8981\u6d4b\u8bd5,\u53ef\u4ee5\u5728\u6dfb\u52a0@UIAction. 2.2 \u751f\u6210\u6d41\u7a0b\u6d4b\u8bd5\u4ee3\u7801 public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generateFlowCodesForAnnotatedPage(\"Baidu Search\",BaiDuPage.class); } } \u5f97\u5230\u7ed3\u679c: public static void BaiduSearch(WebDriver driver,TestData testData){ WebTestActionBuilder.execute(Lists.newArrayList( BaiDuPage.class) ,\"Baidu Search\",driver,testData); } \u521b\u5efa\u4e00\u4e2a\u5173\u4e8e\u641c\u7d22\u7684\u6d4b\u8bd5\u7c7b public class BaiduSearchFlow { public static void BaiDuSearch(WebDriver driver,TestData testData){ WebTestActionBuilder.execute(Lists.newArrayList( BaiDuPage.class) , \"BaiDu Search\", driver, testData); } } \u4ee5\u4e0a\u6b65\u9aa4\u53ef\u4ee5\u901a\u8fc7\u4e00\u6b65\u5b9e\u73b0: public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generateAnnotationAndFlowCode(\"BaiDuSearch\",BaiDuPage.class); } } \u7ed3\u679c\u5c31\u662f: -- Class Name:BaiDuPage @UIActions(actions={@UIAction(processName=\"BaiDu Search\",elementActionDescription={\"wd\"}) }) public static void baiDuSearch(WebDriver driver,TestData testData){ WebTestActionBuilder.execute(Lists.newArrayList( BaiDuPage.class) ,\"BaiDu Search\",driver,testData); } \u83b7\u53d6\u4ee5\u4e0a\u4ee3\u7801\u4e4b\u540e: 1. \u590d\u5236@UIActions\u5230Page\u7c7b 2. \u521b\u5efa\u65b0\u7684\u7c7b,\u7136\u540e\u590d\u5236\u65b9\u6cd5baiDuSearch\u5230\u8fd9\u4e2a\u7c7b\u91cc\u9762 \u81f3\u6b64\u6d4b\u8bd5\u6d41\u7a0b\u5c31\u597d\u4e86,\u5982\u679c\u5728\u9875\u9762\u6d89\u53ca\u7684\u5143\u7d20\u4e0d\u591a\u7684\u60c5\u51b5\u4e0b,\u8fd9\u6837\u505a\u5c31\u6709\u70b9\u5570\u55e6,\u4e0d\u8fc7\u5982\u679c\u9875\u9762\u5143\u7d20\u6bd4\u8f83\u591a\u7684\u60c5\u51b5\u4e0b,\u8fd9\u6837\u5c31\u76f8\u5bf9 \u4f1a\u65b9\u4fbf\u4e00\u70b9. 3. \u521b\u5efa\u6d4b\u8bd5\u6570\u636e\u7c7b \u6839\u636e\u9875\u9762\u6a21\u578b\u7c7b\u751f\u6210\u6d4b\u8bd5\u6570\u636e: public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generateTestDataClass(BaiDuPage.class); } } \u5f97\u5230\u7ed3\u679c: private String wd; \u521b\u5efa\u6d4b\u8bd5\u6570\u636e\u7c7b(\u9700\u8981\u7ee7\u627fTestData\u7c7b)\u7528\u6765\u505a\u6570\u636e\u9a71\u52a8: public class BaiduSearchData extends TestData { private String wd; public String getWd() { return wd; } public void setWd(String wd) { this.wd = wd; } } 4. \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u7c7b \u5728test\u76ee\u5f55\u4e0b\u9762\u7684flows\u76ee\u5f55\u521b\u5efa\u6d4b\u8bd5\u7c7b: public class BaiduSearchFlowTest extends BaseWebCurrencyTest{ @DataProvider(name = \"search_data\") public Iterator<Object[]> getTestData(Method m) throws Exception{ Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"SearchData\", BaiduSearchData.class); clazzMap.put(\"TestDescription\", TestDescription.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/BaiduSearchTestCases.xls\", m, clazzMap); return y; } @Test(dataProvider = \"search_data\",description = \"\u767e\u5ea6\u641c\u7d22\") public void search_test(BaiduSearchData searchData, TestDescription td) throws Exception { WebDriverHelper.get(DriverFactory.get(),\"http://www.baidu.com\"); BaiduSearchFlow.BaiDuSearch(DriverFactory.get(),searchData); } } \u8fd9\u91cc\u9762\u6709\u4e00\u4e9bTestNG\u7684\u6ce8\u89e3: DataProvider : \u63d0\u4f9b\u6570\u636e\u9a71\u52a8\u7684\u6570\u636e\u6e90 Test: \u8868\u660e\u65b9\u6cd5\u6216\u8005\u7c7b\u662f\u7528\u6765\u6d4b\u8bd5\u7684 4.1 \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8bEXCEL \u5728 TestDescription.filterByMethod \u65b9\u6cd5\u6307\u5b9a\u7684\u76ee\u5f55\u91cc\u9762\u521b\u5efa\u4e00\u4e2aExcel\u6587\u4ef6.\u6587\u4ef6\u683c\u5f0f\u5982\u4e0b: \u56fe\u4e2d\u6807\u793a\u7684\u90e8\u5206\u9700\u8981\u586b\u5199\u4f60\u6d4b\u8bd5\u65b9\u6cd5\u540d\u5b57,search.wd\u5b9e\u9645\u4e0a\u5c31\u662f\u4f60\u7684\u6d4b\u8bd5\u6570\u636e,\u5982\u56fe\u6240\u793a\u7684\u6587\u4ef6,\u6807\u793a\u4e24\u4e2a\u641c\u7d22\u7528\u4f8b, \u4e00\u4e2a\u662f\u641c\u7d22123,\u4e00\u4e2a\u641c\u7d22345 5. \u8fd0\u884c\u6d4b\u8bd5\u7528\u4f8b \u7406\u60f3\u60c5\u51b5\u4e0b,\u8fd0\u884c\u6d4b\u8bd5\u7528\u4f8b\u6587\u4ef6,\u6d4b\u8bd5\u5c31\u53ef\u4ee5\u8dd1\u8d77\u6765\u4e86. 6. \u914d\u7f6e\u6d4b\u8bd5\u4f7f\u7528testng\u7684xml\u6587\u4ef6 <suite name=\"BaiDu Search\"> <listeners> <listener class-name=\"com.dooioo.automation.listener.testng.SimpleWebDriverScreenShotTestListener\"/> </listeners> <test verbose=\"1\" name=\"baidu search\" > <classes> <class name=\"com.dooioo.automation.flows.BaiduSearchFlowTest\"/> </classes> </test> </suite> \u76f4\u63a5\u8fd0\u884c\u8fd9\u4e2a\u6587\u4ef6\u5c31\u53ef\u4ee5\u9a71\u52a8\u7a0b\u5e8f\u4e86. \u81f3\u6b64\u4e00\u4e2a\u81ea\u52a8\u5316\u7684\u7a0b\u5e8f\u5c31\u597d\u4e86(\u68c0\u67e5\u70b9\u8fd8\u6ca1\u6709\u52a0),\u5982\u679c\u4e0d\u540c\u7684\u6d4b\u8bd5\u6570\u636e\u4ee3\u8868\u4f60\u7684\u4e0d\u540c\u6d4b\u8bd5\u7528\u4f8b\u4e86.\u603b\u7ed3\u4ee5\u4e0a\u7684\u6b65\u9aa4: \u5e38\u89c1\u9875\u9762\u7c7b \u521b\u5efa\u64cd\u4f5c\u65b9\u6cd5 \u521b\u5efa\u6d4b\u8bd5\u6570\u636e \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u7c7b \u521b\u5efa\u6d4b\u8bd5\u7528\u4f8b \u914d\u7f6etestngfile,\u8fd0\u884c\u6d4b\u8bd5","title":"WEB\u9875\u9762\u81ea\u52a8\u5316-\u5f00\u59cb"},{"location":"webui_automation/webui_automation_quickstart/#0","text":"\u4ee5\u4e0b\u5c55\u793a\u4e00\u4e2aWebUI\u6d4b\u8bd5\u4ece\u5934\u5230\u5c3e\u7684\u4e00\u4e2a\u8fc7\u7a0b\uff1a \u89e3\u6790\u9875\u9762\u5143\u7d20\u521b\u5efaPageObject \u81ea\u52a8\u751f\u6210annotation \u6216\u8005\u6d4b\u8bd5\u4ee3\u7801 \u6d4b\u8bd5\u6570\u636e\u51c6\u5907 \u6d4b\u8bd5\u7528\u4f8b\u51c6\u5907 \u6d4b\u8bd5\u914d\u7f6e\u51c6\u5907 \u7f16\u5199\u68c0\u67e5\u70b9 \u6267\u884c\u548cdebug \u6269\u5c55\u6d4b\u8bd5\u6570\u636e \u8ba9\u6211\u4eec\u52a8\u8d77\u624b\u6765,\u4e0d\u8fc7\u4e3a\u4e86\u7b80\u5355\u7684\u63cf\u8ff0\u6d4b\u8bd5\u7684\u601d\u8def,\u8fd8\u662f\u4ece\u4f7f\u7528Baidu\u67e5\u8be2\u7684\u4f8b\u5b50\u5f00\u59cb,\u540c\u65f6\u8fd9\u4e2a\u7ae0\u8282\u7684\u76ee\u7684\u662f\u8ba9\u4f60\u719f\u6089\u4e00\u4e2a\u81ea\u52a8\u5316\u5305\u542b\u90a3\u4e9b\u5185\u5bb9 ,\u4ee5\u53ca\u6bcf\u4e2a\u5185\u5bb9\u9700\u8981\u505a\u4ec0\u4e48\u600e\u4e48\u505a \u9875\u9762 \u6d4b\u8bd5\u6570\u636e \u6d41\u7a0b \u6d4b\u8bd5\u7c7b","title":"0.\u7b80\u5355\u793a\u4f8b"},{"location":"webui_automation/webui_automation_quickstart/#1-page-object","text":"Page Object\u662f\u7528\u6765\u5b58\u653e\u88ab\u6d4b\u9875\u9762\u5143\u7d20\u8bf4\u660e\u7684\u4e00\u4e2a\u7c7b\uff0c\u5b83\u5c31\u662f\u5bf9\u5e94\u4e86\u4e00\u4e2a\u88ab\u6d4b\u9875\u9762\u6d89\u53ca\u5230\u5143\u7d20\u7684\u4e00\u4e2a\u6a21\u578b\uff0c\u653e\u5728\u4e00\u4e2a\u7c7b\u91cc\u7684\u597d\u5904\u662f\u4fbf\u4e8e\u590d\u7528\u548c\u5305\u88c5\uff0c\u4e0d\u7528\u628a\u5982\u4f55\u67e5\u627e\u9875\u9762\u5143\u7d20\u7684\u4ee3\u7801\u6563\u843d\u5404\u5904\uff0c\u540c\u65f6\u5728\u5c01\u88c5\u540e\u4f7f\u7528\uff0c\u4e0a\u5c42\u7684\u6d4b\u8bd5\u7528\u4f8b\u7ea7\u522b\u7684\u4ee3\u7801\u57fa\u672c\u4e0d\u4f1a\u548c\u8fd9\u5757\u518d\u6253\u4ea4\u9053\uff0c\u800c\u662f\u4e13\u6ce8\u4e8e\u4ec0\u4e48\u6837\u7684\u4e1a\u52a1\u6d41\u7a0b\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f7f\u7528\u8f85\u52a9\u5de5\u5177\u6765\u8fdb\u884c\u89e3\u6790\u9875\u9762\u5143\u7d20\u521b\u5efaPage Object \u7c7b\u7684\u8fc7\u7a0b\u7684\u8bf4\u660e\u3002","title":"1. \u521b\u5efaPage Object"},{"location":"webui_automation/webui_automation_quickstart/#11","text":"\u7ed9\u9875\u9762\u5143\u7d20\u5b9a\u4f4d\u975e\u5e38\u82b1\u8d39\u65f6\u95f4\uff0c\u6240\u4ee5\u5f55\u5236\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u7b56\u7565\uff0c\u4e0d\u540c\u7684\u662f\u8fd9\u91cc\u7684\u5de5\u5177\u662f\u89e3\u6790\u9875\u9762html \u6e90\u7801\uff0c\u6765\u5f97\u5230\u6211\u4eec\u60f3\u8981\u7684Page Object \u7c7b\u7684\u683c\u5f0f\u3002\u8fd9\u4e9b\u8f85\u52a9\u5de5\u5177\u8fd8\u4e0d\u80fd\u5b8c\u5168\u4f60\u628a\u6240\u6709\u5143\u7d20\u90fd\u975e\u5e38\u597d\u8bc6\u522b\uff0c\u4f46\u662f\u8fd8\u662f\u53ef\u4ee5\u8d77\u5230\u4e00\u5b9a\u7a0b\u5ea6\u63d0\u9ad8\u6548\u7387\u3002 \u90a3\u4e48\u4e3a\u4ec0\u4e48\u81ea\u5df1\u5199\u4e00\u4e2a\u5f81\u7528\u7684\u5de5\u5177\u5462\uff1f\u4e00\u4e2a\u539f\u56e0\u662f\u6ca1\u6709\u592a\u597d\u7684\u5de5\u5177\u53ef\u4ee5\u975e\u5e38\u667a\u80fd\u7684\u5b8c\u6210\u8fd9\u4e2a\u4efb\u52a1\uff0c\u53e6\u5916\u4e00\u4e2a\u662f\u4f7f\u7528JSOUP\u8fd9\u6837\u7684\u5de5\u5177\u5199\u4e00\u4e9b\u8d77\u5230\u4f5c\u7528\u7684\u5de5\u5177\u4e0d\u96be(\u5f53\u7136\u5982\u679c\u8981\u5b8c\u5168\u89e3\u6790\u6b63\u786e\u5f88\u96be).\u5173\u4e8e\u5982\u4f55\u89e3\u6790\u9875\u9762\u5143\u7d20\u4f1a\u5728\u9875\u9762\u89e3\u6790\u8bf4\u660e\u90e8\u5206\u505a\u8be6\u7ec6\u89e3\u91ca. \u5df2Baidu\u7684\u9996\u9875\u4e3a\u4f8b: \u53ef\u4ee5\u770b\u5230\u6211\u4eec\u4e3b\u8981\u9700\u8981\u6d4b\u8bd5\u7684\u90e8\u5206\u662f\u4e0a\u56fe\u4e2d\u6807\u793a\u90e8\u5206,\u6240\u4ee5\u6211\u4eec\u9700\u8981 \u5c06\u9875\u9762\u4e2d\u6807\u793a\u90e8\u5206\u7684HTMl\u6e90\u7801\u53d6\u51fa \u7136\u540e\u590d\u5236\u5230main/resources \u76ee\u5f55\u4e0b\u7684source.txt\u6587\u4ef6 \u8fd0\u884c\u5982\u4e0b\u7684\u4ee3\u7801 public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generatePageObjectClass(\"source.txt\"); } } \u5f97\u5230\u5982\u4e0b\u7684\u7ed3\u679c: @FindBy(id=\"su\") @ElementName(elementName = \"su\") private Button su; @FindBy(linkText=\"\u624b\u5199\") @ElementName(elementName = \"\u624b\u5199\") private Link \u624b\u5199; @FindBy(linkText=\"\u62fc\u97f3\") @ElementName(elementName = \"\u62fc\u97f3\") private Link \u62fc\u97f3; @FindBy(linkText=\"\u5173\u95ed\") @ElementName(elementName = \"\u5173\u95ed\") private Link \u5173\u95ed; @FindBy(name=\"wd\") @ElementName(elementName = \"wd\") private InputBox wd;","title":"1.1 \u89e3\u6790\u9875\u9762\u5143\u7d20:\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5f55\u5236\u7684\u8fc7\u7a0b"},{"location":"webui_automation/webui_automation_quickstart/#12-pageobject","text":"\u5982\u679c\u6ca1\u6709\u6709\u660e\u663e\u7684\u9519\u8bef\u5c31\u6839\u636e\u5982\u4e0b\u7ed3\u679c\u521b\u5efa\u9875\u9762\u7c7b: public class BaiDuPage extends ExecutablePageObject { public BaiDuPage(WebDriver driver) { super(driver); } @FindBy(id = \"su\") @ElementName(elementName = \"su\") private Button su; @FindBy(linkText = \"\u624b\u5199\") @ElementName(elementName = \"\u624b\u5199\") private Link \u624b\u5199; @FindBy(linkText = \"\u62fc\u97f3\") @ElementName(elementName = \"\u62fc\u97f3\") private Link \u62fc\u97f3; @FindBy(linkText = \"\u5173\u95ed\") @ElementName(elementName = \"\u5173\u95ed\") private Link \u5173\u95ed; @FindBy(name = \"wd\") @ElementName(elementName = \"wd\") private InputBox wd; --- \u81ea\u52a8\u751f\u6210\u7684getter/setter } \u81f3\u6b64\u9875\u9762\u7c7b\u5c31\u505a\u597d\u4e86. ps: \u6784\u9020\u65b9\u6cd5\u548cgetter/setter\u65b9\u6cd5\u90fd\u53ef\u4ee5\u901a\u8fc7IDE\u81ea\u52a8\u751f\u6210\u7684","title":"1.2 \u521b\u5efa\u9875\u9762\u7c7b(PageObject)"},{"location":"webui_automation/webui_automation_quickstart/#2","text":"\u5047\u8bbe\u6211\u4eec\u60f3\u8981\u6d4b\u8bd5\u7684\u662f:\u8f93\u5165\u5173\u952e\u5b57,\u76f4\u63a5\u641c\u7d22\u8fd9\u6837\u4e00\u4e2a\u4e1a\u52a1,\u90a3\u4e48\u6211\u4eec\u9700\u8981\u4e00\u4e9b\u6807\u793a\u8fd9\u4e2a\u6d4b\u8bd5\u6d41\u7a0b\u7684\u4e00\u4e9b\u65b9\u6cd5\u7c7b\u652f\u6491, \u4ee5\u4e0b\u662f\u5982\u4f55\u6784\u5efa\u7684\u4e00\u4e2a\u8fc7\u7a0b,\u5206\u4e3a: \u521b\u5efa\u6d41\u7a0b\u6ce8\u89e3 \u7f16\u5199\u6d41\u7a0b\u7a0b\u5e8f","title":"2.\u521b\u5efa\u6ce8\u89e3\u548c\u6d4b\u8bd5\u6d41\u7a0b\u7c7b"},{"location":"webui_automation/webui_automation_quickstart/#21","text":"\u8fd0\u884c\u5982\u4e0b\u4ee3\u7801\u5c31\u53ef\u4ee5\u751f\u6210\u6ce8\u89e3: public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generateAnnotationStatement(\"Baidu Search\", BaiDuPage.class); } } \u5f97\u5230\u7ed3\u679c\u5982\u4e0b,\u628a\u4ed6\u590d\u5236\u5230\u521a\u624d\u521b\u5efa\u597d\u7684\u9875\u9762\u7c7b\u91cc\u9762,\u540c\u65f6\u6dfb\u52a0\u6700\u540e\u7684\u63d0\u4ea4\u6309\u94ae\u5230elementActionDescription\u91cc\u9762: @UIActions(actions={@UIAction(processName=\"BaiduSearch\",elementActionDescription={\"wd\"}) }) \u65b0\u7684\u9875\u9762\u7c7b: @UIActions(actions={@UIAction(processName=\"BaiduSearch\",elementActionDescription={\"wd\",\"su\"}) }) \u8fd9\u91cc\u89e3\u91ca\u4ee5\u4e0belementActionDescription, \u8fd9\u4e2a\u653e\u7684\u5185\u5bb9\u662f\u4f60\u6267\u884c\u6574\u4e2a\u4e1a\u52a1\u6d41\u7a0b\u9700\u8981\u64cd\u4f5c\u7684\u54ea\u4e9bWEB\u7684\u5143\u7d20,\u8fd9\u4e2a\u4f8b\u5b50\u91cc\u9762\u5c31\u662f\u4e00\u4e2a\u5173\u952e\u5b57\u6846 ,\u4e00\u4e2a\u63d0\u4ea4\u6309\u94ae. \u5982\u679c\u6709\u5176\u4ed6\u7684\u4e1a\u52a1\u6d41\u7a0b\u9700\u8981\u6d4b\u8bd5,\u53ef\u4ee5\u5728\u6dfb\u52a0@UIAction.","title":"2.1 \u751f\u6210\u6ce8\u89e3"},{"location":"webui_automation/webui_automation_quickstart/#22","text":"public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generateFlowCodesForAnnotatedPage(\"Baidu Search\",BaiDuPage.class); } } \u5f97\u5230\u7ed3\u679c: public static void BaiduSearch(WebDriver driver,TestData testData){ WebTestActionBuilder.execute(Lists.newArrayList( BaiDuPage.class) ,\"Baidu Search\",driver,testData); } \u521b\u5efa\u4e00\u4e2a\u5173\u4e8e\u641c\u7d22\u7684\u6d4b\u8bd5\u7c7b public class BaiduSearchFlow { public static void BaiDuSearch(WebDriver driver,TestData testData){ WebTestActionBuilder.execute(Lists.newArrayList( BaiDuPage.class) , \"BaiDu Search\", driver, testData); } } \u4ee5\u4e0a\u6b65\u9aa4\u53ef\u4ee5\u901a\u8fc7\u4e00\u6b65\u5b9e\u73b0: public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generateAnnotationAndFlowCode(\"BaiDuSearch\",BaiDuPage.class); } } \u7ed3\u679c\u5c31\u662f: -- Class Name:BaiDuPage @UIActions(actions={@UIAction(processName=\"BaiDu Search\",elementActionDescription={\"wd\"}) }) public static void baiDuSearch(WebDriver driver,TestData testData){ WebTestActionBuilder.execute(Lists.newArrayList( BaiDuPage.class) ,\"BaiDu Search\",driver,testData); } \u83b7\u53d6\u4ee5\u4e0a\u4ee3\u7801\u4e4b\u540e: 1. \u590d\u5236@UIActions\u5230Page\u7c7b 2. \u521b\u5efa\u65b0\u7684\u7c7b,\u7136\u540e\u590d\u5236\u65b9\u6cd5baiDuSearch\u5230\u8fd9\u4e2a\u7c7b\u91cc\u9762 \u81f3\u6b64\u6d4b\u8bd5\u6d41\u7a0b\u5c31\u597d\u4e86,\u5982\u679c\u5728\u9875\u9762\u6d89\u53ca\u7684\u5143\u7d20\u4e0d\u591a\u7684\u60c5\u51b5\u4e0b,\u8fd9\u6837\u505a\u5c31\u6709\u70b9\u5570\u55e6,\u4e0d\u8fc7\u5982\u679c\u9875\u9762\u5143\u7d20\u6bd4\u8f83\u591a\u7684\u60c5\u51b5\u4e0b,\u8fd9\u6837\u5c31\u76f8\u5bf9 \u4f1a\u65b9\u4fbf\u4e00\u70b9.","title":"2.2 \u751f\u6210\u6d41\u7a0b\u6d4b\u8bd5\u4ee3\u7801"},{"location":"webui_automation/webui_automation_quickstart/#3","text":"\u6839\u636e\u9875\u9762\u6a21\u578b\u7c7b\u751f\u6210\u6d4b\u8bd5\u6570\u636e: public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generateTestDataClass(BaiDuPage.class); } } \u5f97\u5230\u7ed3\u679c: private String wd; \u521b\u5efa\u6d4b\u8bd5\u6570\u636e\u7c7b(\u9700\u8981\u7ee7\u627fTestData\u7c7b)\u7528\u6765\u505a\u6570\u636e\u9a71\u52a8: public class BaiduSearchData extends TestData { private String wd; public String getWd() { return wd; } public void setWd(String wd) { this.wd = wd; } }","title":"3. \u521b\u5efa\u6d4b\u8bd5\u6570\u636e\u7c7b"},{"location":"webui_automation/webui_automation_quickstart/#4","text":"\u5728test\u76ee\u5f55\u4e0b\u9762\u7684flows\u76ee\u5f55\u521b\u5efa\u6d4b\u8bd5\u7c7b: public class BaiduSearchFlowTest extends BaseWebCurrencyTest{ @DataProvider(name = \"search_data\") public Iterator<Object[]> getTestData(Method m) throws Exception{ Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"SearchData\", BaiduSearchData.class); clazzMap.put(\"TestDescription\", TestDescription.class); Iterator<Object[]> y = TestDescription.filterByMethod(\"testcase/flows/BaiduSearchTestCases.xls\", m, clazzMap); return y; } @Test(dataProvider = \"search_data\",description = \"\u767e\u5ea6\u641c\u7d22\") public void search_test(BaiduSearchData searchData, TestDescription td) throws Exception { WebDriverHelper.get(DriverFactory.get(),\"http://www.baidu.com\"); BaiduSearchFlow.BaiDuSearch(DriverFactory.get(),searchData); } } \u8fd9\u91cc\u9762\u6709\u4e00\u4e9bTestNG\u7684\u6ce8\u89e3: DataProvider : \u63d0\u4f9b\u6570\u636e\u9a71\u52a8\u7684\u6570\u636e\u6e90 Test: \u8868\u660e\u65b9\u6cd5\u6216\u8005\u7c7b\u662f\u7528\u6765\u6d4b\u8bd5\u7684","title":"4. \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u7c7b"},{"location":"webui_automation/webui_automation_quickstart/#41-excel","text":"\u5728 TestDescription.filterByMethod \u65b9\u6cd5\u6307\u5b9a\u7684\u76ee\u5f55\u91cc\u9762\u521b\u5efa\u4e00\u4e2aExcel\u6587\u4ef6.\u6587\u4ef6\u683c\u5f0f\u5982\u4e0b: \u56fe\u4e2d\u6807\u793a\u7684\u90e8\u5206\u9700\u8981\u586b\u5199\u4f60\u6d4b\u8bd5\u65b9\u6cd5\u540d\u5b57,search.wd\u5b9e\u9645\u4e0a\u5c31\u662f\u4f60\u7684\u6d4b\u8bd5\u6570\u636e,\u5982\u56fe\u6240\u793a\u7684\u6587\u4ef6,\u6807\u793a\u4e24\u4e2a\u641c\u7d22\u7528\u4f8b, \u4e00\u4e2a\u662f\u641c\u7d22123,\u4e00\u4e2a\u641c\u7d22345","title":"4.1 \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8bEXCEL"},{"location":"webui_automation/webui_automation_quickstart/#5","text":"\u7406\u60f3\u60c5\u51b5\u4e0b,\u8fd0\u884c\u6d4b\u8bd5\u7528\u4f8b\u6587\u4ef6,\u6d4b\u8bd5\u5c31\u53ef\u4ee5\u8dd1\u8d77\u6765\u4e86.","title":"5. \u8fd0\u884c\u6d4b\u8bd5\u7528\u4f8b"},{"location":"webui_automation/webui_automation_quickstart/#6-testngxml","text":"<suite name=\"BaiDu Search\"> <listeners> <listener class-name=\"com.dooioo.automation.listener.testng.SimpleWebDriverScreenShotTestListener\"/> </listeners> <test verbose=\"1\" name=\"baidu search\" > <classes> <class name=\"com.dooioo.automation.flows.BaiduSearchFlowTest\"/> </classes> </test> </suite> \u76f4\u63a5\u8fd0\u884c\u8fd9\u4e2a\u6587\u4ef6\u5c31\u53ef\u4ee5\u9a71\u52a8\u7a0b\u5e8f\u4e86. \u81f3\u6b64\u4e00\u4e2a\u81ea\u52a8\u5316\u7684\u7a0b\u5e8f\u5c31\u597d\u4e86(\u68c0\u67e5\u70b9\u8fd8\u6ca1\u6709\u52a0),\u5982\u679c\u4e0d\u540c\u7684\u6d4b\u8bd5\u6570\u636e\u4ee3\u8868\u4f60\u7684\u4e0d\u540c\u6d4b\u8bd5\u7528\u4f8b\u4e86.\u603b\u7ed3\u4ee5\u4e0a\u7684\u6b65\u9aa4: \u5e38\u89c1\u9875\u9762\u7c7b \u521b\u5efa\u64cd\u4f5c\u65b9\u6cd5 \u521b\u5efa\u6d4b\u8bd5\u6570\u636e \u6784\u5efa\u6d4b\u8bd5\u7528\u4f8b\u7c7b \u521b\u5efa\u6d4b\u8bd5\u7528\u4f8b \u914d\u7f6etestngfile,\u8fd0\u884c\u6d4b\u8bd5","title":"6. \u914d\u7f6e\u6d4b\u8bd5\u4f7f\u7528testng\u7684xml\u6587\u4ef6"},{"location":"webui_automation/webui_automation_realexample/","text":"0.\u793a\u4f8b \u4ee5\u4e0b\u5c55\u793a\u4e00\u4e2aWebUI\u6d4b\u8bd5\u4ece\u5934\u5230\u5c3e\u7684\u4e00\u4e2a\u8fc7\u7a0b\uff1a \u89e3\u6790\u9875\u9762\u5143\u7d20\u521b\u5efaPageObject \u81ea\u52a8\u751f\u6210annotation \u6216\u8005\u6d4b\u8bd5\u4ee3\u7801 \u6d4b\u8bd5\u6570\u636e\u51c6\u5907 \u6d4b\u8bd5\u7528\u4f8b\u51c6\u5907 \u6d4b\u8bd5\u914d\u7f6e\u51c6\u5907 \u7f16\u5199\u68c0\u67e5\u70b9 \u6267\u884c\u548cdebug \u6269\u5c55\u6d4b\u8bd5\u6570\u636e 1. \u521b\u5efaPage Object Page Object\u662f\u7528\u6765\u5b58\u653e\u88ab\u6d4b\u9875\u9762\u5143\u7d20\u8bf4\u660e\u7684\u4e00\u4e2a\u7c7b\uff0c\u5b83\u5c31\u662f\u5bf9\u5e94\u4e86\u4e00\u4e2a\u88ab\u6d4b\u9875\u9762\u6d89\u53ca\u5230\u5143\u7d20\u7684\u4e00\u4e2a\u6a21\u578b\uff0c\u653e\u5728\u4e00\u4e2a\u7c7b\u91cc\u7684\u597d\u5904\u662f\u4fbf\u4e8e\u590d\u7528\u548c\u5305\u88c5\uff0c\u4e0d\u7528\u628a\u5982\u4f55\u67e5\u627e\u9875\u9762\u5143\u7d20\u7684\u4ee3\u7801\u6563\u843d\u5404\u5904\uff0c\u540c\u65f6\u5728\u5c01\u88c5\u540e\u4f7f\u7528\uff0c\u4e0a\u5c42\u7684\u6d4b\u8bd5\u7528\u4f8b\u7ea7\u522b\u7684\u4ee3\u7801\u57fa\u672c\u4e0d\u4f1a\u548c\u8fd9\u5757\u518d\u6253\u4ea4\u9053\uff0c\u800c\u662f\u4e13\u6ce8\u4e8e\u4ec0\u4e48\u6837\u7684\u4e1a\u52a1\u6d41\u7a0b\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f7f\u7528\u8f85\u52a9\u5de5\u5177\u6765\u8fdb\u884c\u89e3\u6790\u9875\u9762\u5143\u7d20\u521b\u5efaPage Object \u7c7b\u7684\u8fc7\u7a0b\u7684\u8bf4\u660e\u3002 1.1 \u89e3\u6790\u5143\u7d20\u5668:\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5f55\u5236\u7684\u8fc7\u7a0b \u7ed9\u9875\u9762\u5143\u7d20\u5b9a\u4f4d\u975e\u5e38\u82b1\u8d39\u65f6\u95f4\uff0c\u6240\u4ee5\u5f55\u5236\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u7b56\u7565\uff0c\u4e0d\u540c\u7684\u662f\u8fd9\u91cc\u7684\u5de5\u5177\u662f\u89e3\u6790\u9875\u9762html \u6e90\u7801\uff0c\u6765\u5f97\u5230\u6211\u4eec\u60f3\u8981\u7684Page Object \u7c7b\u7684\u683c\u5f0f\u3002\u8fd9\u4e9b\u8f85\u52a9\u5de5\u5177\u8fd8\u4e0d\u80fd\u5b8c\u5168\u4f60\u628a\u6240\u6709\u5143\u7d20\u90fd\u975e\u5e38\u597d\u8bc6\u522b\uff0c\u4f46\u662f\u8fd8\u662f\u53ef\u4ee5\u8d77\u5230\u4e00\u5b9a\u7a0b\u5ea6\u63d0\u9ad8\u6548\u7387\u3002 \u90a3\u4e48\u4e3a\u4ec0\u4e48\u81ea\u5df1\u5199\u4e00\u4e2a\u5f81\u7528\u7684\u5de5\u5177\u5462\uff1f\u4e00\u4e2a\u539f\u56e0\u662f\u6ca1\u6709\u592a\u597d\u7684\u5de5\u5177\u53ef\u4ee5\u975e\u5e38\u667a\u80fd\u7684\u5b8c\u6210\u8fd9\u4e2a\u4efb\u52a1\uff0c\u53e6\u5916\u4e00\u4e2a\u662f\u4f7f\u7528JSOUP\u8fd9\u6837\u7684\u5de5\u5177\u5199\u4e00\u4e9b\u8d77\u5230\u4f5c\u7528\u7684\u5de5\u5177\u4e0d\u96be(\u5f53\u7136\u5982\u679c\u8981\u5b8c\u5168\u89e3\u6790\u6b63\u786e\u5f88\u96be).\u5173\u4e8e\u5982\u4f55\u89e3\u6790\u9875\u9762\u5143\u7d20\u4f1a\u5728\u9875\u9762\u89e3\u6790\u8bf4\u660e\u90e8\u5206\u505a\u8be6\u7ec6\u89e3\u91ca. 1.2 \u4ece\u6dfb\u52a0\u623f\u6e90/\u4fee\u6539\u623f\u6e90\u8fd9\u4e2a\u4f8b\u5b50\u8bf4\u8d77: \u9996\u5148\u5927\u6982\u63cf\u8ff0\u4e00\u4e0b\u623f\u6e90\u7684\u8fc7\u7a0b\uff1a 1. \u767b\u9646\u8fdb\u5165\u623f\u6e90\u9996\u9875 2. \u70b9\u51fb\u6dfb\u52a0\u623f\u6e90\u540e\u5230\u6dfb\u52a0\u623f\u6e90\u9875\u9762\u7b2c\u4e00\u6b65\u9875\u9762 3. \u8f93\u5165\u4fe1\u606f\u4fe1\u606f\u4e4b\u540e\u8fdb\u5165\u623f\u6e90\u9875\u9762\u7b2c\u4e8c\u6b65 4. \u8f93\u5165\u4fe1\u606f\u4e4b\u540e\u5b8c\u6210\u5f55\u5165\u623f\u6e90 \u8fd9\u91cc\u6d89\u53ca\u5230\u6bd4\u8f83\u590d\u6742\u7684\u9875\u9762\u5982\u4e0b\u9762\uff1a \u4f7f\u7528\u4e00\u4e0b\u811a\u672c\u89e3\u6790\u9875\u9762\u5143\u7d20,source.txt\u662f\u9875\u9762\u7684html\u6e90\u7801\uff0c\u53ef\u4ee5\u9875\u9762\u7247\u6bb5\u4e5f\u53ef\u4ee5\u662f\u6574\u4e2a\u9875\u9762\uff1a PageObjectParsers poParser = PageObjectParsers.buildFromFilePath(\"source.txt\"); poParser.parse(); \u5f97\u5230\u4e00\u4e0b\u7ed3\u679c\uff1a @ElementName(elementName=\"property.propertyUsage\") private Radio propertyUsage; @FindBy(name=\"property.estateName\") @ElementName(elementName = \"property.estateName\") private InputBox estateName; @FindBy(name=\"property.address\") @ElementName(elementName = \"property.address\") private InputBox address; @FindBy(name=\"property.roomNo\") @ElementName(elementName = \"property.roomNo\") private InputBox roomNo; @FindBy(name=\"property.permitNo\") @ElementName(elementName = \"property.permitNo\") private InputBox permitNo; \u8fd9\u6837\u53ef\u4ee5\u65b0\u5efa\u4e00\u4e2aPage Object \u7c7b\uff0c\u5c06\u7ed3\u679c\u653e\u5230\u6b64\u7c7b\uff0c\u7136\u540e\u8865\u5145\u6ca1\u6709\u89e3\u6790\u51fa\u6765\u7684\u5982\u56fe\u4e2d\u7684\u4e0b\u4e00\u6b65\u6309\u94ae \u63a5\u4e0b\u6765\u7684\u9875\u9762\u5982\u4e0b\u56fe\uff1a public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generatePageObjectClass(\"source.txt\"); } } \u5f97\u5230\u7ed3\u679c\uff1a @FindBy(name=\"property_propertySource\") @ElementName(elementName=\"property.propertySource\") private Radio propertySource; @FindBy(name=\"property_status\") @ElementName(elementName=\"property.status\") private Radio status; @FindBy(name=\"property_shape\") @ElementName(elementName=\"property.shape\") private Radio shape; @FindBy(name=\"property_currentStatus\") @ElementName(elementName=\"property.currentStatus\") private Radio currentStatus; @FindBy(name=\"property_propertyLook\") @ElementName(elementName=\"property.propertyLook\") private Radio propertyLook; @FindBy(name=\"property_isAuction\") @ElementName(elementName=\"property.isAuction\") private Radio isAuction; @FindBy(name=\"property_flagLoan\") @ElementName(elementName=\"property.flagLoan\") private Radio flagLoan; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//input[@name='property_contactName']\") @ElementName(elementName=\"property.contactName\") private InputBox contactName; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//input[@name='property_floorAll']\") @ElementName(elementName=\"property.floorAll\") private InputBox floorAll; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//input[@name='property_floorHeight']\") @ElementName(elementName=\"property.floorHeight\") private InputBox floorHeight; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_relationship']\") @ElementName(elementName=\"property.relationship\") private SelectList relationship; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_residence']\") @ElementName(elementName=\"property.residence\") private SelectList residence; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='rentUnitName']\") @ElementName(elementName=\"property.rentUnitName\") private SelectList rentUnitName; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_countF']\") @ElementName(elementName=\"property.countF\") private SelectList countF; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_countT']\") @ElementName(elementName=\"property.countT\") private SelectList countT; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_countW']\") @ElementName(elementName=\"property.countW\") private SelectList countW; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_countGarden']\") @ElementName(elementName=\"property.countGarden\") private SelectList countGarden; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_countCellar']\") @ElementName(elementName=\"property.countCellar\") private SelectList countCellar; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_propertyDirection']\") @ElementName(elementName=\"property.propertyDirection\") private SelectList propertyDirection; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_waterToward']\") @ElementName(elementName=\"property.waterToward\") private SelectList waterToward; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_officeGrade']\") @ElementName(elementName=\"property.officeGrade\") private SelectList officeGrade; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_propertyDecoration']\") @ElementName(elementName=\"property.propertyDecoration\") private SelectList propertyDecoration; \u8fd9\u4e2a\u7ed3\u679c\u5df2\u7ecf\u5305\u542b\u5904\u7406html\u5143\u7d20\u7ed1\u5b9a\u76f8\u540c\u7684model\uff0c\u4f7f\u7528not(contains(@style,'display: none')\u4f5c\u4e3a\u6807\u793a\u4e86. \u81f3\u6b64\u6dfb\u52a0\u623f\u6e90\u4e2d\u4e3b\u8981\u7684\u9875\u9762\u5143\u7d20\u5df2\u7ecf\u89e3\u6790\u6210\u529f\uff0c\u518d\u624b\u5de5\u8865\u5145\u4e00\u4e9b\u5143\u7d20\u5c31\u5b8c\u6210\u4e86\u6574\u4e2aPage Objectd\u6784\u5efa\u3002 2. \u81ea\u52a8\u751f\u6210annotation \u6216\u8005\u6d4b\u8bd5\u4ee3\u7801 \u5f53\u6574\u4e2a\u4e1a\u52a1\u6d41\u7a0b\u6d89\u53ca\u7684\u9875\u9762\u5b8c\u6210\u540e\uff0c\u4f7f\u7528\u5982\u4e0b\u7684\u4ee3\u7801\u751f\u6210\u4e00\u4efdexcel: WebUICodeGenerator.build().writePageObjectsToExcel(\"AddProperty.xls\",Lists.newArrayList(MockPage1.class,MockPage2.class)); \u8fd9\u6837\u4f1a\u751f\u6210\u4e00\u4e2aexcel\u6587\u4ef6\uff1a 2.1 \u7f16\u8f91excel\uff0c\u6784\u5efa\u88ab\u6d4b\u7684\u4e1a\u52a1\u6d41\u7a0b \u5047\u8bbe\u4f60\u9700\u8981\u5b8c\u6210\u65b0\u589e\u4f4f\u5b85\u548c\u522b\u5885\u4e24\u4e2a\u4e1a\u52a1\uff0c\u90a3\u4e48\u7f16\u8f91excel\uff0c\u6307\u5b9a\u8fd9\u4e24\u4e2a\u4e1a\u52a1\u7684\u6d41\u7a0b\u9700\u8981\u64cd\u4f5c\u7684\u987a\u5e8f\uff0c\u5982\u4e0b\u56fe\uff1a 2.2 \u6ce8\u89e3\u65b9\u5f0f: \u751f\u6210\u6ce8\u89e3\u4ee3\u7801\uff0c\u5176\u4e2d\u65b0\u589e\u4f4f\u5b85\uff0c\u65b0\u589e\u522b\u5885\u5c31\u662fexcel\u4e2d\u8868\u793a\u7684\u6d41\u7a0b\u540d\u5b57 WebUICodeGenerator t= WebUICodeGenerator.build(\"AddProperty.xls\"); t.generateAnnotationStatement(\"\u65b0\u589e\u4f4f\u5b85\"); t.generateAnnotationStatement(\"\u65b0\u589e\u522b\u5885\"); \u5f97\u5230\u6ce8\u89e3 MockPage1: @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u4f4f\u5b85\",elementActionDescription={\"propertyUsage\",\"estateName\",\"address\",\"roomNo\"}) }) MockPage2: @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u4f4f\u5b85\",elementActionDescription={\"contactName\",\"floorAll\",\"isAuction\",\"currentStatus\",\"status\",\"propertyDecoration\"}) }) MockPage1: @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u522b\u5885\",elementActionDescription={\"propertyUsage\",\"estateName\",\"address\",\"roomNo\"}) }) MockPage2: @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u522b\u5885\",elementActionDescription={\"contactName\",\"floorAll\",\"shape\",\"isAuction\",\"countF\",\"countT\",\"countW\"}) }) \u5c06\u4e0d\u540c\u7684\u6ce8\u89e3\u590d\u5236\u5230\u4e0d\u540c\u7684Page Object\u7c7b\u4e2d \u6700\u540e\u6784\u5efa\u6574\u4e2a\u4e1a\u52a1\u6d41\u7a0b\uff0c\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a\u4e2d\u6587\u547d\u540d\u53ea\u662f\u4e3a\u4e86\u8bf4\u660e\u4f7f\u7528\u3002 public class \u65b0\u589e\u4f4f\u5b85 extends BaseWebTestAction { public \u65b0\u589e\u4f4f\u5b85(WebDriver driver, TestData testData) { super(driver, testData); } @Override public void execute() { WebTestActionBuilder.createTestActionByUIAction(MockPage1.class, \"\u65b0\u589e\u4f4f\u5b85\",driver, testData).execute(); WebTestActionBuilder.createTestActionByUIAction(MockPage2.class, \"\u65b0\u589e\u4f4f\u5b85\",driver, testData).execute(); } } \u4ee5\u4e0a\u4ee3\u7801\u4e2dexecute()\u5b9e\u8d28\u4e0a\u7b49\u4ef7\uff1a MockPage1 page1 = ModifiedPageFactory.createPageObject(driver,MockPage1.class); page1.processUIAction(\"\u65b0\u589e\u4f4f\u5b85\",testData); MockPage2 page2 = ModifiedPageFactory.createPageObject(driver,MockPage2.class); page2.processUIAction(\"\u65b0\u589e\u4f4f\u5b85\",testData); \u4ee5\u53ca\uff1a MockPage1 page1 = ModifiedPageFactory.createPageObject(driver,MockPage1.class); page1.getPropertyUsage().selectByVisibleText(testData.get(\"propertyUsage\")); page1.getAddress().input(testData.get(\"address\")); page1.getEstateName().input(testData.get(\"estateName\")); page1.getRoomNo().input(testData.get(\"roomNo\")); MockPage2 page2 = ModifiedPageFactory.createPageObject(driver,MockPage2.class); page2.getContactName().input(testData.get(\"contractName\")); ........... 2.3 \u76f4\u63a5\u751f\u6210\u4ee3\u7801\uff1a \u4f7f\u7528\u4ee3\u7801\uff1a WebUICodeGenerator t= WebUICodeGenerator.build(\"AddProperty.xls\"); t.generateSingleTestStep(\"\u65b0\u589e\u4f4f\u5b85\"); t.generateSingleTestStep(\"\u65b0\u589e\u522b\u5885\"); \u751f\u6210\u7684\u6d4b\u8bd5\u4ee3\u7801\uff1a public static void \u65b0\u589e\u4f4f\u5b85(WebDriver driver,TestData testData){ WebTestActionBuilder.createTestActionByElementActionList(MockPage1.class,Lists.newArrayList(\"propertyUsage\",\"estateName\",\"address\",\"roomNo\"),driver,testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(MockPage2.class,Lists.newArrayList(\"contactName\",\"floorAll\",\"isAuction\",\"currentStatus\",\"status\",\"propertyDecoration\"),driver,testData).execute(); } public static void \u65b0\u589e\u522b\u5885(WebDriver driver,TestData testData){ WebTestActionBuilder.createTestActionByElementActionList(MockPage1.class,Lists.newArrayList(\"propertyUsage\",\"estateName\",\"address\",\"roomNo\"),driver,testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(MockPage2.class,Lists.newArrayList(\"contactName\",\"floorAll\",\"shape\",\"isAuction\",\"countF\",\"countT\",\"countW\"),driver,testData).execute(); } \u7136\u540e\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u4ee3\u7801\u5230\u4e00\u4e2a\u5c06\u7c7b\u4f3c\u529f\u80fd\u7684\u90fd\u653e\u5728\u4e00\u8d77\u7684\u7c7b\uff0c\u5982\u4e0b\u4f8b\uff1a public class PropertyFlows { public static void \u4fee\u6539\u5efa\u9020\u5e74\u4ee3(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"completeYear\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangeCompleteYearPage.class, Lists.newArrayList(\"completeYear\", \"submit\"), driver, testData).execute(); } private static void handleFY(WebDriver driver, TestData testData) { driver.get(EnvironmentHelper.getDomainUrl() + \"/property/\" + testData.get(\"propertyId\")); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"handleFY\"), driver, testData).execute(); driver.get(EnvironmentHelper.getDomainUrl() + \"/property/\" + testData.get(\"propertyId\")); } public static void \u4fee\u6539\u671d\u5411(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"propertyDirection\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyDirectionPage.class, Lists.newArrayList(\"propertyDirection\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u88c5\u4fee(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"propertyDecoration\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyDecorationPage.class, Lists.newArrayList(\"propertyDecoration\", \"devices\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u4e70\u5165\u65f6\u95f4(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"buyinDate\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyBuyInDatePage.class, Lists.newArrayList(\"buyinDate\", \"submit\", \"isFiveYears\"), driver, testData).execute(); } public static void \u4fee\u6539\u4e70\u5165\u4ef7\u683c(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"billPrice\", \"edit\"), driver, testData).execute(); WebTestActionBuilder. createTestActionByElementActionList( ChangePropertyBuyInPricePage.class, Lists.newArrayList(\"price\", \"pricePrecise\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u5907\u6ce8(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"remark\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyCommentsPage.class, Lists.newArrayList(\"remark\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u697c\u5c42(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"floor\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyFloorsPage.class, Lists.newArrayList(\"floor\", \"floorAll\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u662f\u5426\u552f\u4e00(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"isOnlyOne\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyIsOnlyPage.class, Lists.newArrayList(\"isOnlyOne\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u6237\u578b(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"roomLayout\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyLayoutPage.class, Lists.newArrayList(\"countY\", \"countW\", \"countT\", \"countF\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u8d37\u6b3e\u4fe1\u606f(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"propertyLoan\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyLoanInfoPage.class, Lists.newArrayList(\"propertyLoanTotalPrice\", \"propertyLoanBeginTime\" , \"propertyLoanEndTime\", \"propertyLoanPriceUnit\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u8f66\u4f4d\u4fe1\u606f(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"parking\" , \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyParkingPage.class, Lists.newArrayList(\"parking\", \"countGarage\", \"countParks\", \"parkingSquare\", \"parkingNumber\", \"parkingAddress\",\"parkingRemark\",\"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u4ef7\u683c(WebDriver driver,TestData testData){ handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class,Lists.newArrayList(\"price\",\"edit\"),driver,testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyPricePage.class,Lists.newArrayList(\"price\", \"handPrice\",\"priceMemo\",\"submit\"),driver,testData).execute(); } } 3. \u6d4b\u8bd5\u6570\u636e\u51c6\u5907 \u6d4b\u8bd5\u79bb\u4e0d\u5f00\u6d4b\u8bd5\u6570\u636e\u7684\u51c6\u5907\uff0c\u6d4b\u8bd5\u6570\u636e\u7c7b\u53ef\u4ee5\u76f4\u63a5\u9875\u9762Page Object\u6765\u751f\u6210\uff1a WebUICodeGenerator t= WebUICodeGenerator.build(); t.generateTestDataClass(Lists.newArrayList(MockPage1.class,MockPage2.class)); \u7ed3\u679c\uff1a private String propertyUsage; private String estateName; private String address; private String roomNo; private String permitNo; private String propertySource; private String status; private String shape; private String currentStatus; private String propertyLook; private String isAuction; private String flagLoan; private String contactName; private String floorAll; private String floorHeight; private String relationship; private String residence; private String rentUnitName; private String countF; private String countT; private String countW; private String countGarden; private String countCellar; private String propertyDirection; private String waterToward; private String officeGrade; private String propertyDecoration; \u521b\u5efa\u5b8c\u6d4b\u8bd5\u6570\u636e\u7c7b\u4e4b\u540e\u53ef\u4ee5\u636e\u6b64\u751f\u6210excel: new MockPropertyData().toXLS(\"addProperty\",\"addProperty.xls\"); \u751f\u6210\u7684excel\u5982\u4e0b\u56fe,\u4f7f\u7528\u9009\u62e9\u6027\u7c98\u8d34\u8f6c\u7f6e\uff0c\u53ef\u4ee5\u5c06\u884c\u6570\u636e\u8f6c\u6210\u5217\u6570\u636e\uff1a 4.\u6d4b\u8bd5\u7528\u4f8b\u51c6\u5907 \u7f16\u5199\u6d4b\u8bd5\u65f6\u7528\u4f8b,\u683c\u5f0f\u5982\u4e0b\u4f8b\uff0c\u4ee5\u4e0b\u662f\u51e0\u70b9\u8bf4\u660e: - data provider \u5757\u6307\u5b9a\u4e86\u9700\u8981\u7684\u6d4b\u8bd5\u6570\u636e\uff0c\u4ee5\u53ca\u4ed6\u548c\u6d4b\u8bd5\u6570\u636e\u7c7b\u7684\u5bf9\u5e94\u5173\u7cfb - Test\u4e0b\u9762\u5c31\u662f\u5b9e\u9645\u7684\u6d4b\u8bd5\u6d41\u7a0b - \u767b\u9646\u5df2\u7ecf\u5199\u5230\u516c\u7528\u6a21\u5757\uff0c\u4e0d\u540c\u4e1a\u52a1\u90fd\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528 - AddPropertyFlow \u5c31\u662f\u521a\u624d\u751f\u6210\u7684\u4e1a\u52a1\u6d41\u7a0b\u4ee3\u7801\u7684\u7c7b\u6216\u8005\u51fd\u6570 public class AddPropertyFlowTest extends BaseWebTest { @DataProvider(name = \"property_data\") public Iterator<Object[]> getAPITestData(Method m) throws Exception{ Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"PropertyTestData\", PropertyTestData.class); clazzMap.put(\"Submitter\", EmployeeTestData.class); Iterator<Object[]> y = ExcelHelper.build(\"testcase/flows/addPropertyTestCases.xls\").ToIteratorInColMode(clazzMap); return y; } @Test(dataProvider =\"property_data\" ) public void addProperty(PropertyTestData testData,EmployeeTestData submitter) throws InterruptedException { String password=******LoginHelper.getIntegrationLoginPassword(\"000233\", \"123456789\"); System.out.println(password); submitter.setPassword(password); ******LoginHelper.login(submitter.getUserCode(), submitter.getPassword(), driver); AddPropertyFlow flow = new AddPropertyFlow(driver,testData); flow.execute(); }s } 5.\u6d4b\u8bd5\u914d\u7f6e\u51c6\u5907 \u6d4b\u8bd5\u914d\u7f6e\u7684Property\uff0c\u90fd\u653e\u5728env.properties \u6587\u4ef6\u4e2d\uff0c\u8be6\u7ec6\u7684\u5185\u5bb9\u53c2\u8003\u6ce8\u91ca\uff1a # \u6d4b\u8bd5\u73af\u5883\u914d\u7f6e test.fangyuan.jdbc.url= jdbc:sqlserver://10.8.1.***:1433;DatabaseName=****;sendStringParameterAsUnicode=false test.fangyuan.jdbc.driver = com.microsoft.sqlserver.jdbc.SQLServerDriver test.fangyuan.jdbc.username=******admin test.fangyuan.jdbc.password=****** # API\u6d4b\u8bd5\u57df\u540d test.fangyuan.service.root=http://open.******.org # Open API \u6d4b\u8bd5\u7684\u57df\u540d test.openapi.root=http://open.******.org # \u6d4b\u8bd5\u4e3b\u9875\u7684URL test.home.url=http://blog.******.org # \u4e0d\u540c\u5e94\u7528\u7684\u4e3b\u5165\u53e3URL test.domain.url =http://fy.******.org # \u96c6\u6210\u73af\u5883\u914d\u7f6e integration.fangyuan.jdbc.url= jdbc:sqlserver://192.168.3.**:1433;DatabaseName=****;sendStringParameterAsUnicode=false integration.fangyuan.jdbc.driver = com.microsoft.sqlserver.jdbc.SQLServerDriver integration.fangyuan.jdbc.username=****** integration.fangyuan.jdbc.password= ***** integration.service.root=http://open.******.org # Open API \u6d4b\u8bd5\u7684\u57df\u540d integration.openapi.root=http://open.******.org # \u6d4b\u8bd5\u4e3b\u9875\u7684URL integration.home.url=http://blog.******.org # \u4e0d\u540c\u5e94\u7528\u7684\u4e3b\u5165\u53e3URL integration.domain.url =http://fy.******.org # \u6307\u5b9a\u5f53\u524d\u6d4b\u8bd5\u73af\u5883\u662f\u96c6\u6210\u8fd8\u662f\u6d4b\u8bd5 target.environment = integration # \u9ed8\u8ba4\u7684\u5e94\u7528\u540d\u79f0\uff0c\u4e3b\u8981\u7528\u6765\u5bf9\u5e94\u6570\u636e\u5e93 default.appname=fangyuan # \u6d4b\u8bd5\u8dd1\u7684\u5f53\u524d\u7cfb\u7edf\uff0c\u9ed8\u8ba4(\u4e0d\u586b)\u662fwindows test_platform=macos # webdriver \u8bbe\u7f6e # driverconfiguration.chrome.path = # driverconfiguration.eventlistener = # driverconfiguration.browsetype=chrome # driverconfiguration.webdrivermode=local # driverconfiguration.gridurl= http://localhost:8080:4400 # \u662f\u5426\u628aAPI response\u5199\u5230\u6587\u4ef6\uff0c\u9ed8\u8ba4\u4e0d\u5199\uff0c\u914d\u7f6e\u4e4b\u540e\u53ef\u4ee5\u5199 # write_api_response =true # default_chromedriver_location=C:\\autotest\\chromedriver.exe ## Application configuration # open API\u8bbf\u95ee\u4f7f\u7528\u7684token grant_type=client_credential client_id=*************** client_secret=************** 6. \u7f16\u5199\u68c0\u67e5\u70b9 \u7f16\u5199\u68c0\u67e5\u70b9\u53ef\u4ee5\u5982\u4e0b\u4f8b\uff1a - \u524d\u9762\u8868\u793a\u9875\u9762\u5143\u7d20\u7684\u68c0\u67e5 - \u540e\u9762\u8868\u793a\u548c\u6570\u636e\u5e93\u7684\u6bd4\u8f83 SoftAssertion sa = new SoftAssertion(); String result = driver.findElement(By.xpath(String.format(\"//tr[@field_name='%s']//td[2]\",fieldName))).getText().trim(); sa.assertTrue(result.contains(testData.get(fieldName)), reasons); storedDate = SpringJdbcTemplateUtils.DEFAULT().getStringValue(String.format(\"select * from property where propertyId='%s'\" ,testData.getPropertyId()),fieldName); sa.assertTrue(storedDate.contains(testData.get(fieldName)), reasons); 7. \u6dfb\u52a0\u65b0\u7684\u6d4b\u8bd5\u6570\u636e \u6574\u4e2a\u6d4b\u8bd5\u662f\u6570\u636e\u9a71\u52a8\u7684\uff0c\u6240\u4ee5\u8f93\u5165\u4e0d\u540c\u7684\u6570\u636e\u5c31\u4ee3\u8868\u4e0d\u540c\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6240\u4ee5\u5728excel\u4e2d\u6dfb\u52a0\u4e0d\u540c\u7684\u6570\u636e\uff0c\u7531\u4e8e\u6d4b\u8bd5\u6570\u636e\u7c7b\u4e2d\u53d8\u91cf\u540d\u662f\u548cpage object\u7c7b\u91cc\u9762\u7684\u53d8\u91cf\u540d\u662f\u4e00\u6837\u7684\uff0c\u6240\u4ee5excel\u4e2d\u7ed9\u67d0\u4e2a\u53d8\u91cf\u7684\u503c\uff0c\u5c31\u4f1a\u76f4\u63a5\u5728\u64cd\u4f5c\u9875\u9762\u5143\u7d20\u65f6\u4f5c\u4e3a\u9875\u9762\u5143\u7d20\u7684\u8f93\u5165\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u6570\u636e\u7684\u4f8b\u5b50\uff1a 8. \u6267\u884c\u548cdebug \u5982\u679c\u4e00\u5207\u987a\u5229\u7684\u8bdd\u6d4b\u8bd5\u5c31\u53ef\u4ee5\u8dd1\u8d77\u6765\u4e86 9. \u4e00\u4e9b\u53c2\u8003\u7684\u4f8b\u5b50\uff1a \u623f\u6e90: automation-fangyuan \u4e0b\u9762\uff1aChangePropertyTest,AddPropertyTest,PropertyFlows,AddPropertyFlow","title":"WEB\u9875\u9762\u81ea\u52a8\u5316-\u771f\u5b9e\u7528\u4f8b"},{"location":"webui_automation/webui_automation_realexample/#0","text":"\u4ee5\u4e0b\u5c55\u793a\u4e00\u4e2aWebUI\u6d4b\u8bd5\u4ece\u5934\u5230\u5c3e\u7684\u4e00\u4e2a\u8fc7\u7a0b\uff1a \u89e3\u6790\u9875\u9762\u5143\u7d20\u521b\u5efaPageObject \u81ea\u52a8\u751f\u6210annotation \u6216\u8005\u6d4b\u8bd5\u4ee3\u7801 \u6d4b\u8bd5\u6570\u636e\u51c6\u5907 \u6d4b\u8bd5\u7528\u4f8b\u51c6\u5907 \u6d4b\u8bd5\u914d\u7f6e\u51c6\u5907 \u7f16\u5199\u68c0\u67e5\u70b9 \u6267\u884c\u548cdebug \u6269\u5c55\u6d4b\u8bd5\u6570\u636e","title":"0.\u793a\u4f8b"},{"location":"webui_automation/webui_automation_realexample/#1-page-object","text":"Page Object\u662f\u7528\u6765\u5b58\u653e\u88ab\u6d4b\u9875\u9762\u5143\u7d20\u8bf4\u660e\u7684\u4e00\u4e2a\u7c7b\uff0c\u5b83\u5c31\u662f\u5bf9\u5e94\u4e86\u4e00\u4e2a\u88ab\u6d4b\u9875\u9762\u6d89\u53ca\u5230\u5143\u7d20\u7684\u4e00\u4e2a\u6a21\u578b\uff0c\u653e\u5728\u4e00\u4e2a\u7c7b\u91cc\u7684\u597d\u5904\u662f\u4fbf\u4e8e\u590d\u7528\u548c\u5305\u88c5\uff0c\u4e0d\u7528\u628a\u5982\u4f55\u67e5\u627e\u9875\u9762\u5143\u7d20\u7684\u4ee3\u7801\u6563\u843d\u5404\u5904\uff0c\u540c\u65f6\u5728\u5c01\u88c5\u540e\u4f7f\u7528\uff0c\u4e0a\u5c42\u7684\u6d4b\u8bd5\u7528\u4f8b\u7ea7\u522b\u7684\u4ee3\u7801\u57fa\u672c\u4e0d\u4f1a\u548c\u8fd9\u5757\u518d\u6253\u4ea4\u9053\uff0c\u800c\u662f\u4e13\u6ce8\u4e8e\u4ec0\u4e48\u6837\u7684\u4e1a\u52a1\u6d41\u7a0b\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u4f7f\u7528\u8f85\u52a9\u5de5\u5177\u6765\u8fdb\u884c\u89e3\u6790\u9875\u9762\u5143\u7d20\u521b\u5efaPage Object \u7c7b\u7684\u8fc7\u7a0b\u7684\u8bf4\u660e\u3002","title":"1. \u521b\u5efaPage Object"},{"location":"webui_automation/webui_automation_realexample/#11","text":"\u7ed9\u9875\u9762\u5143\u7d20\u5b9a\u4f4d\u975e\u5e38\u82b1\u8d39\u65f6\u95f4\uff0c\u6240\u4ee5\u5f55\u5236\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u7b56\u7565\uff0c\u4e0d\u540c\u7684\u662f\u8fd9\u91cc\u7684\u5de5\u5177\u662f\u89e3\u6790\u9875\u9762html \u6e90\u7801\uff0c\u6765\u5f97\u5230\u6211\u4eec\u60f3\u8981\u7684Page Object \u7c7b\u7684\u683c\u5f0f\u3002\u8fd9\u4e9b\u8f85\u52a9\u5de5\u5177\u8fd8\u4e0d\u80fd\u5b8c\u5168\u4f60\u628a\u6240\u6709\u5143\u7d20\u90fd\u975e\u5e38\u597d\u8bc6\u522b\uff0c\u4f46\u662f\u8fd8\u662f\u53ef\u4ee5\u8d77\u5230\u4e00\u5b9a\u7a0b\u5ea6\u63d0\u9ad8\u6548\u7387\u3002 \u90a3\u4e48\u4e3a\u4ec0\u4e48\u81ea\u5df1\u5199\u4e00\u4e2a\u5f81\u7528\u7684\u5de5\u5177\u5462\uff1f\u4e00\u4e2a\u539f\u56e0\u662f\u6ca1\u6709\u592a\u597d\u7684\u5de5\u5177\u53ef\u4ee5\u975e\u5e38\u667a\u80fd\u7684\u5b8c\u6210\u8fd9\u4e2a\u4efb\u52a1\uff0c\u53e6\u5916\u4e00\u4e2a\u662f\u4f7f\u7528JSOUP\u8fd9\u6837\u7684\u5de5\u5177\u5199\u4e00\u4e9b\u8d77\u5230\u4f5c\u7528\u7684\u5de5\u5177\u4e0d\u96be(\u5f53\u7136\u5982\u679c\u8981\u5b8c\u5168\u89e3\u6790\u6b63\u786e\u5f88\u96be).\u5173\u4e8e\u5982\u4f55\u89e3\u6790\u9875\u9762\u5143\u7d20\u4f1a\u5728\u9875\u9762\u89e3\u6790\u8bf4\u660e\u90e8\u5206\u505a\u8be6\u7ec6\u89e3\u91ca.","title":"1.1 \u89e3\u6790\u5143\u7d20\u5668:\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u5f55\u5236\u7684\u8fc7\u7a0b"},{"location":"webui_automation/webui_automation_realexample/#12","text":"\u9996\u5148\u5927\u6982\u63cf\u8ff0\u4e00\u4e0b\u623f\u6e90\u7684\u8fc7\u7a0b\uff1a 1. \u767b\u9646\u8fdb\u5165\u623f\u6e90\u9996\u9875 2. \u70b9\u51fb\u6dfb\u52a0\u623f\u6e90\u540e\u5230\u6dfb\u52a0\u623f\u6e90\u9875\u9762\u7b2c\u4e00\u6b65\u9875\u9762 3. \u8f93\u5165\u4fe1\u606f\u4fe1\u606f\u4e4b\u540e\u8fdb\u5165\u623f\u6e90\u9875\u9762\u7b2c\u4e8c\u6b65 4. \u8f93\u5165\u4fe1\u606f\u4e4b\u540e\u5b8c\u6210\u5f55\u5165\u623f\u6e90 \u8fd9\u91cc\u6d89\u53ca\u5230\u6bd4\u8f83\u590d\u6742\u7684\u9875\u9762\u5982\u4e0b\u9762\uff1a \u4f7f\u7528\u4e00\u4e0b\u811a\u672c\u89e3\u6790\u9875\u9762\u5143\u7d20,source.txt\u662f\u9875\u9762\u7684html\u6e90\u7801\uff0c\u53ef\u4ee5\u9875\u9762\u7247\u6bb5\u4e5f\u53ef\u4ee5\u662f\u6574\u4e2a\u9875\u9762\uff1a PageObjectParsers poParser = PageObjectParsers.buildFromFilePath(\"source.txt\"); poParser.parse(); \u5f97\u5230\u4e00\u4e0b\u7ed3\u679c\uff1a @ElementName(elementName=\"property.propertyUsage\") private Radio propertyUsage; @FindBy(name=\"property.estateName\") @ElementName(elementName = \"property.estateName\") private InputBox estateName; @FindBy(name=\"property.address\") @ElementName(elementName = \"property.address\") private InputBox address; @FindBy(name=\"property.roomNo\") @ElementName(elementName = \"property.roomNo\") private InputBox roomNo; @FindBy(name=\"property.permitNo\") @ElementName(elementName = \"property.permitNo\") private InputBox permitNo; \u8fd9\u6837\u53ef\u4ee5\u65b0\u5efa\u4e00\u4e2aPage Object \u7c7b\uff0c\u5c06\u7ed3\u679c\u653e\u5230\u6b64\u7c7b\uff0c\u7136\u540e\u8865\u5145\u6ca1\u6709\u89e3\u6790\u51fa\u6765\u7684\u5982\u56fe\u4e2d\u7684\u4e0b\u4e00\u6b65\u6309\u94ae \u63a5\u4e0b\u6765\u7684\u9875\u9762\u5982\u4e0b\u56fe\uff1a public class CodeGenerator { public static void main(String[] args) { WebUICodeGenerator.build().generatePageObjectClass(\"source.txt\"); } } \u5f97\u5230\u7ed3\u679c\uff1a @FindBy(name=\"property_propertySource\") @ElementName(elementName=\"property.propertySource\") private Radio propertySource; @FindBy(name=\"property_status\") @ElementName(elementName=\"property.status\") private Radio status; @FindBy(name=\"property_shape\") @ElementName(elementName=\"property.shape\") private Radio shape; @FindBy(name=\"property_currentStatus\") @ElementName(elementName=\"property.currentStatus\") private Radio currentStatus; @FindBy(name=\"property_propertyLook\") @ElementName(elementName=\"property.propertyLook\") private Radio propertyLook; @FindBy(name=\"property_isAuction\") @ElementName(elementName=\"property.isAuction\") private Radio isAuction; @FindBy(name=\"property_flagLoan\") @ElementName(elementName=\"property.flagLoan\") private Radio flagLoan; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//input[@name='property_contactName']\") @ElementName(elementName=\"property.contactName\") private InputBox contactName; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//input[@name='property_floorAll']\") @ElementName(elementName=\"property.floorAll\") private InputBox floorAll; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//input[@name='property_floorHeight']\") @ElementName(elementName=\"property.floorHeight\") private InputBox floorHeight; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_relationship']\") @ElementName(elementName=\"property.relationship\") private SelectList relationship; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_residence']\") @ElementName(elementName=\"property.residence\") private SelectList residence; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='rentUnitName']\") @ElementName(elementName=\"property.rentUnitName\") private SelectList rentUnitName; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_countF']\") @ElementName(elementName=\"property.countF\") private SelectList countF; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_countT']\") @ElementName(elementName=\"property.countT\") private SelectList countT; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_countW']\") @ElementName(elementName=\"property.countW\") private SelectList countW; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_countGarden']\") @ElementName(elementName=\"property.countGarden\") private SelectList countGarden; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_countCellar']\") @ElementName(elementName=\"property.countCellar\") private SelectList countCellar; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_propertyDirection']\") @ElementName(elementName=\"property.propertyDirection\") private SelectList propertyDirection; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_waterToward']\") @ElementName(elementName=\"property.waterToward\") private SelectList waterToward; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_officeGrade']\") @ElementName(elementName=\"property.officeGrade\") private SelectList officeGrade; @FindBy(xpath=\"//tr[not(contains(@style,'display: none'))]//select[@name='property_propertyDecoration']\") @ElementName(elementName=\"property.propertyDecoration\") private SelectList propertyDecoration; \u8fd9\u4e2a\u7ed3\u679c\u5df2\u7ecf\u5305\u542b\u5904\u7406html\u5143\u7d20\u7ed1\u5b9a\u76f8\u540c\u7684model\uff0c\u4f7f\u7528not(contains(@style,'display: none')\u4f5c\u4e3a\u6807\u793a\u4e86. \u81f3\u6b64\u6dfb\u52a0\u623f\u6e90\u4e2d\u4e3b\u8981\u7684\u9875\u9762\u5143\u7d20\u5df2\u7ecf\u89e3\u6790\u6210\u529f\uff0c\u518d\u624b\u5de5\u8865\u5145\u4e00\u4e9b\u5143\u7d20\u5c31\u5b8c\u6210\u4e86\u6574\u4e2aPage Objectd\u6784\u5efa\u3002","title":"1.2 \u4ece\u6dfb\u52a0\u623f\u6e90/\u4fee\u6539\u623f\u6e90\u8fd9\u4e2a\u4f8b\u5b50\u8bf4\u8d77:"},{"location":"webui_automation/webui_automation_realexample/#2-annotation","text":"\u5f53\u6574\u4e2a\u4e1a\u52a1\u6d41\u7a0b\u6d89\u53ca\u7684\u9875\u9762\u5b8c\u6210\u540e\uff0c\u4f7f\u7528\u5982\u4e0b\u7684\u4ee3\u7801\u751f\u6210\u4e00\u4efdexcel: WebUICodeGenerator.build().writePageObjectsToExcel(\"AddProperty.xls\",Lists.newArrayList(MockPage1.class,MockPage2.class)); \u8fd9\u6837\u4f1a\u751f\u6210\u4e00\u4e2aexcel\u6587\u4ef6\uff1a","title":"2. \u81ea\u52a8\u751f\u6210annotation \u6216\u8005\u6d4b\u8bd5\u4ee3\u7801"},{"location":"webui_automation/webui_automation_realexample/#21-excel","text":"\u5047\u8bbe\u4f60\u9700\u8981\u5b8c\u6210\u65b0\u589e\u4f4f\u5b85\u548c\u522b\u5885\u4e24\u4e2a\u4e1a\u52a1\uff0c\u90a3\u4e48\u7f16\u8f91excel\uff0c\u6307\u5b9a\u8fd9\u4e24\u4e2a\u4e1a\u52a1\u7684\u6d41\u7a0b\u9700\u8981\u64cd\u4f5c\u7684\u987a\u5e8f\uff0c\u5982\u4e0b\u56fe\uff1a","title":"2.1 \u7f16\u8f91excel\uff0c\u6784\u5efa\u88ab\u6d4b\u7684\u4e1a\u52a1\u6d41\u7a0b"},{"location":"webui_automation/webui_automation_realexample/#22","text":"\u751f\u6210\u6ce8\u89e3\u4ee3\u7801\uff0c\u5176\u4e2d\u65b0\u589e\u4f4f\u5b85\uff0c\u65b0\u589e\u522b\u5885\u5c31\u662fexcel\u4e2d\u8868\u793a\u7684\u6d41\u7a0b\u540d\u5b57 WebUICodeGenerator t= WebUICodeGenerator.build(\"AddProperty.xls\"); t.generateAnnotationStatement(\"\u65b0\u589e\u4f4f\u5b85\"); t.generateAnnotationStatement(\"\u65b0\u589e\u522b\u5885\"); \u5f97\u5230\u6ce8\u89e3 MockPage1: @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u4f4f\u5b85\",elementActionDescription={\"propertyUsage\",\"estateName\",\"address\",\"roomNo\"}) }) MockPage2: @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u4f4f\u5b85\",elementActionDescription={\"contactName\",\"floorAll\",\"isAuction\",\"currentStatus\",\"status\",\"propertyDecoration\"}) }) MockPage1: @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u522b\u5885\",elementActionDescription={\"propertyUsage\",\"estateName\",\"address\",\"roomNo\"}) }) MockPage2: @UIActions(actions={@UIAction(processName=\"\u65b0\u589e\u522b\u5885\",elementActionDescription={\"contactName\",\"floorAll\",\"shape\",\"isAuction\",\"countF\",\"countT\",\"countW\"}) }) \u5c06\u4e0d\u540c\u7684\u6ce8\u89e3\u590d\u5236\u5230\u4e0d\u540c\u7684Page Object\u7c7b\u4e2d \u6700\u540e\u6784\u5efa\u6574\u4e2a\u4e1a\u52a1\u6d41\u7a0b\uff0c\u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\uff1a\u4e2d\u6587\u547d\u540d\u53ea\u662f\u4e3a\u4e86\u8bf4\u660e\u4f7f\u7528\u3002 public class \u65b0\u589e\u4f4f\u5b85 extends BaseWebTestAction { public \u65b0\u589e\u4f4f\u5b85(WebDriver driver, TestData testData) { super(driver, testData); } @Override public void execute() { WebTestActionBuilder.createTestActionByUIAction(MockPage1.class, \"\u65b0\u589e\u4f4f\u5b85\",driver, testData).execute(); WebTestActionBuilder.createTestActionByUIAction(MockPage2.class, \"\u65b0\u589e\u4f4f\u5b85\",driver, testData).execute(); } } \u4ee5\u4e0a\u4ee3\u7801\u4e2dexecute()\u5b9e\u8d28\u4e0a\u7b49\u4ef7\uff1a MockPage1 page1 = ModifiedPageFactory.createPageObject(driver,MockPage1.class); page1.processUIAction(\"\u65b0\u589e\u4f4f\u5b85\",testData); MockPage2 page2 = ModifiedPageFactory.createPageObject(driver,MockPage2.class); page2.processUIAction(\"\u65b0\u589e\u4f4f\u5b85\",testData); \u4ee5\u53ca\uff1a MockPage1 page1 = ModifiedPageFactory.createPageObject(driver,MockPage1.class); page1.getPropertyUsage().selectByVisibleText(testData.get(\"propertyUsage\")); page1.getAddress().input(testData.get(\"address\")); page1.getEstateName().input(testData.get(\"estateName\")); page1.getRoomNo().input(testData.get(\"roomNo\")); MockPage2 page2 = ModifiedPageFactory.createPageObject(driver,MockPage2.class); page2.getContactName().input(testData.get(\"contractName\")); ...........","title":"2.2 \u6ce8\u89e3\u65b9\u5f0f:"},{"location":"webui_automation/webui_automation_realexample/#23","text":"\u4f7f\u7528\u4ee3\u7801\uff1a WebUICodeGenerator t= WebUICodeGenerator.build(\"AddProperty.xls\"); t.generateSingleTestStep(\"\u65b0\u589e\u4f4f\u5b85\"); t.generateSingleTestStep(\"\u65b0\u589e\u522b\u5885\"); \u751f\u6210\u7684\u6d4b\u8bd5\u4ee3\u7801\uff1a public static void \u65b0\u589e\u4f4f\u5b85(WebDriver driver,TestData testData){ WebTestActionBuilder.createTestActionByElementActionList(MockPage1.class,Lists.newArrayList(\"propertyUsage\",\"estateName\",\"address\",\"roomNo\"),driver,testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(MockPage2.class,Lists.newArrayList(\"contactName\",\"floorAll\",\"isAuction\",\"currentStatus\",\"status\",\"propertyDecoration\"),driver,testData).execute(); } public static void \u65b0\u589e\u522b\u5885(WebDriver driver,TestData testData){ WebTestActionBuilder.createTestActionByElementActionList(MockPage1.class,Lists.newArrayList(\"propertyUsage\",\"estateName\",\"address\",\"roomNo\"),driver,testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(MockPage2.class,Lists.newArrayList(\"contactName\",\"floorAll\",\"shape\",\"isAuction\",\"countF\",\"countT\",\"countW\"),driver,testData).execute(); } \u7136\u540e\u53ef\u4ee5\u5c06\u8fd9\u4e9b\u4ee3\u7801\u5230\u4e00\u4e2a\u5c06\u7c7b\u4f3c\u529f\u80fd\u7684\u90fd\u653e\u5728\u4e00\u8d77\u7684\u7c7b\uff0c\u5982\u4e0b\u4f8b\uff1a public class PropertyFlows { public static void \u4fee\u6539\u5efa\u9020\u5e74\u4ee3(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"completeYear\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangeCompleteYearPage.class, Lists.newArrayList(\"completeYear\", \"submit\"), driver, testData).execute(); } private static void handleFY(WebDriver driver, TestData testData) { driver.get(EnvironmentHelper.getDomainUrl() + \"/property/\" + testData.get(\"propertyId\")); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"handleFY\"), driver, testData).execute(); driver.get(EnvironmentHelper.getDomainUrl() + \"/property/\" + testData.get(\"propertyId\")); } public static void \u4fee\u6539\u671d\u5411(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"propertyDirection\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyDirectionPage.class, Lists.newArrayList(\"propertyDirection\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u88c5\u4fee(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"propertyDecoration\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyDecorationPage.class, Lists.newArrayList(\"propertyDecoration\", \"devices\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u4e70\u5165\u65f6\u95f4(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"buyinDate\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyBuyInDatePage.class, Lists.newArrayList(\"buyinDate\", \"submit\", \"isFiveYears\"), driver, testData).execute(); } public static void \u4fee\u6539\u4e70\u5165\u4ef7\u683c(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"billPrice\", \"edit\"), driver, testData).execute(); WebTestActionBuilder. createTestActionByElementActionList( ChangePropertyBuyInPricePage.class, Lists.newArrayList(\"price\", \"pricePrecise\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u5907\u6ce8(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"remark\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyCommentsPage.class, Lists.newArrayList(\"remark\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u697c\u5c42(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"floor\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyFloorsPage.class, Lists.newArrayList(\"floor\", \"floorAll\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u662f\u5426\u552f\u4e00(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"isOnlyOne\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyIsOnlyPage.class, Lists.newArrayList(\"isOnlyOne\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u6237\u578b(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"roomLayout\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyLayoutPage.class, Lists.newArrayList(\"countY\", \"countW\", \"countT\", \"countF\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u8d37\u6b3e\u4fe1\u606f(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"propertyLoan\", \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyLoanInfoPage.class, Lists.newArrayList(\"propertyLoanTotalPrice\", \"propertyLoanBeginTime\" , \"propertyLoanEndTime\", \"propertyLoanPriceUnit\", \"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u8f66\u4f4d\u4fe1\u606f(WebDriver driver, TestData testData) { handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class, Lists.newArrayList(\"parking\" , \"edit\"), driver, testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyParkingPage.class, Lists.newArrayList(\"parking\", \"countGarage\", \"countParks\", \"parkingSquare\", \"parkingNumber\", \"parkingAddress\",\"parkingRemark\",\"submit\"), driver, testData).execute(); } public static void \u4fee\u6539\u4ef7\u683c(WebDriver driver,TestData testData){ handleFY(driver, testData); WebTestActionBuilder.createTestActionByElementActionList(PropertyPage.class,Lists.newArrayList(\"price\",\"edit\"),driver,testData).execute(); WebTestActionBuilder.createTestActionByElementActionList(ChangePropertyPricePage.class,Lists.newArrayList(\"price\", \"handPrice\",\"priceMemo\",\"submit\"),driver,testData).execute(); } }","title":"2.3 \u76f4\u63a5\u751f\u6210\u4ee3\u7801\uff1a"},{"location":"webui_automation/webui_automation_realexample/#3","text":"\u6d4b\u8bd5\u79bb\u4e0d\u5f00\u6d4b\u8bd5\u6570\u636e\u7684\u51c6\u5907\uff0c\u6d4b\u8bd5\u6570\u636e\u7c7b\u53ef\u4ee5\u76f4\u63a5\u9875\u9762Page Object\u6765\u751f\u6210\uff1a WebUICodeGenerator t= WebUICodeGenerator.build(); t.generateTestDataClass(Lists.newArrayList(MockPage1.class,MockPage2.class)); \u7ed3\u679c\uff1a private String propertyUsage; private String estateName; private String address; private String roomNo; private String permitNo; private String propertySource; private String status; private String shape; private String currentStatus; private String propertyLook; private String isAuction; private String flagLoan; private String contactName; private String floorAll; private String floorHeight; private String relationship; private String residence; private String rentUnitName; private String countF; private String countT; private String countW; private String countGarden; private String countCellar; private String propertyDirection; private String waterToward; private String officeGrade; private String propertyDecoration; \u521b\u5efa\u5b8c\u6d4b\u8bd5\u6570\u636e\u7c7b\u4e4b\u540e\u53ef\u4ee5\u636e\u6b64\u751f\u6210excel: new MockPropertyData().toXLS(\"addProperty\",\"addProperty.xls\"); \u751f\u6210\u7684excel\u5982\u4e0b\u56fe,\u4f7f\u7528\u9009\u62e9\u6027\u7c98\u8d34\u8f6c\u7f6e\uff0c\u53ef\u4ee5\u5c06\u884c\u6570\u636e\u8f6c\u6210\u5217\u6570\u636e\uff1a","title":"3. \u6d4b\u8bd5\u6570\u636e\u51c6\u5907"},{"location":"webui_automation/webui_automation_realexample/#4","text":"\u7f16\u5199\u6d4b\u8bd5\u65f6\u7528\u4f8b,\u683c\u5f0f\u5982\u4e0b\u4f8b\uff0c\u4ee5\u4e0b\u662f\u51e0\u70b9\u8bf4\u660e: - data provider \u5757\u6307\u5b9a\u4e86\u9700\u8981\u7684\u6d4b\u8bd5\u6570\u636e\uff0c\u4ee5\u53ca\u4ed6\u548c\u6d4b\u8bd5\u6570\u636e\u7c7b\u7684\u5bf9\u5e94\u5173\u7cfb - Test\u4e0b\u9762\u5c31\u662f\u5b9e\u9645\u7684\u6d4b\u8bd5\u6d41\u7a0b - \u767b\u9646\u5df2\u7ecf\u5199\u5230\u516c\u7528\u6a21\u5757\uff0c\u4e0d\u540c\u4e1a\u52a1\u90fd\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528 - AddPropertyFlow \u5c31\u662f\u521a\u624d\u751f\u6210\u7684\u4e1a\u52a1\u6d41\u7a0b\u4ee3\u7801\u7684\u7c7b\u6216\u8005\u51fd\u6570 public class AddPropertyFlowTest extends BaseWebTest { @DataProvider(name = \"property_data\") public Iterator<Object[]> getAPITestData(Method m) throws Exception{ Map<String, Class> clazzMap = new HashMap<String, Class>(); clazzMap.put(\"PropertyTestData\", PropertyTestData.class); clazzMap.put(\"Submitter\", EmployeeTestData.class); Iterator<Object[]> y = ExcelHelper.build(\"testcase/flows/addPropertyTestCases.xls\").ToIteratorInColMode(clazzMap); return y; } @Test(dataProvider =\"property_data\" ) public void addProperty(PropertyTestData testData,EmployeeTestData submitter) throws InterruptedException { String password=******LoginHelper.getIntegrationLoginPassword(\"000233\", \"123456789\"); System.out.println(password); submitter.setPassword(password); ******LoginHelper.login(submitter.getUserCode(), submitter.getPassword(), driver); AddPropertyFlow flow = new AddPropertyFlow(driver,testData); flow.execute(); }s }","title":"4.\u6d4b\u8bd5\u7528\u4f8b\u51c6\u5907"},{"location":"webui_automation/webui_automation_realexample/#5","text":"\u6d4b\u8bd5\u914d\u7f6e\u7684Property\uff0c\u90fd\u653e\u5728env.properties \u6587\u4ef6\u4e2d\uff0c\u8be6\u7ec6\u7684\u5185\u5bb9\u53c2\u8003\u6ce8\u91ca\uff1a # \u6d4b\u8bd5\u73af\u5883\u914d\u7f6e test.fangyuan.jdbc.url= jdbc:sqlserver://10.8.1.***:1433;DatabaseName=****;sendStringParameterAsUnicode=false test.fangyuan.jdbc.driver = com.microsoft.sqlserver.jdbc.SQLServerDriver test.fangyuan.jdbc.username=******admin test.fangyuan.jdbc.password=****** # API\u6d4b\u8bd5\u57df\u540d test.fangyuan.service.root=http://open.******.org # Open API \u6d4b\u8bd5\u7684\u57df\u540d test.openapi.root=http://open.******.org # \u6d4b\u8bd5\u4e3b\u9875\u7684URL test.home.url=http://blog.******.org # \u4e0d\u540c\u5e94\u7528\u7684\u4e3b\u5165\u53e3URL test.domain.url =http://fy.******.org # \u96c6\u6210\u73af\u5883\u914d\u7f6e integration.fangyuan.jdbc.url= jdbc:sqlserver://192.168.3.**:1433;DatabaseName=****;sendStringParameterAsUnicode=false integration.fangyuan.jdbc.driver = com.microsoft.sqlserver.jdbc.SQLServerDriver integration.fangyuan.jdbc.username=****** integration.fangyuan.jdbc.password= ***** integration.service.root=http://open.******.org # Open API \u6d4b\u8bd5\u7684\u57df\u540d integration.openapi.root=http://open.******.org # \u6d4b\u8bd5\u4e3b\u9875\u7684URL integration.home.url=http://blog.******.org # \u4e0d\u540c\u5e94\u7528\u7684\u4e3b\u5165\u53e3URL integration.domain.url =http://fy.******.org # \u6307\u5b9a\u5f53\u524d\u6d4b\u8bd5\u73af\u5883\u662f\u96c6\u6210\u8fd8\u662f\u6d4b\u8bd5 target.environment = integration # \u9ed8\u8ba4\u7684\u5e94\u7528\u540d\u79f0\uff0c\u4e3b\u8981\u7528\u6765\u5bf9\u5e94\u6570\u636e\u5e93 default.appname=fangyuan # \u6d4b\u8bd5\u8dd1\u7684\u5f53\u524d\u7cfb\u7edf\uff0c\u9ed8\u8ba4(\u4e0d\u586b)\u662fwindows test_platform=macos # webdriver \u8bbe\u7f6e # driverconfiguration.chrome.path = # driverconfiguration.eventlistener = # driverconfiguration.browsetype=chrome # driverconfiguration.webdrivermode=local # driverconfiguration.gridurl= http://localhost:8080:4400 # \u662f\u5426\u628aAPI response\u5199\u5230\u6587\u4ef6\uff0c\u9ed8\u8ba4\u4e0d\u5199\uff0c\u914d\u7f6e\u4e4b\u540e\u53ef\u4ee5\u5199 # write_api_response =true # default_chromedriver_location=C:\\autotest\\chromedriver.exe ## Application configuration # open API\u8bbf\u95ee\u4f7f\u7528\u7684token grant_type=client_credential client_id=*************** client_secret=**************","title":"5.\u6d4b\u8bd5\u914d\u7f6e\u51c6\u5907"},{"location":"webui_automation/webui_automation_realexample/#6","text":"\u7f16\u5199\u68c0\u67e5\u70b9\u53ef\u4ee5\u5982\u4e0b\u4f8b\uff1a - \u524d\u9762\u8868\u793a\u9875\u9762\u5143\u7d20\u7684\u68c0\u67e5 - \u540e\u9762\u8868\u793a\u548c\u6570\u636e\u5e93\u7684\u6bd4\u8f83 SoftAssertion sa = new SoftAssertion(); String result = driver.findElement(By.xpath(String.format(\"//tr[@field_name='%s']//td[2]\",fieldName))).getText().trim(); sa.assertTrue(result.contains(testData.get(fieldName)), reasons); storedDate = SpringJdbcTemplateUtils.DEFAULT().getStringValue(String.format(\"select * from property where propertyId='%s'\" ,testData.getPropertyId()),fieldName); sa.assertTrue(storedDate.contains(testData.get(fieldName)), reasons);","title":"6. \u7f16\u5199\u68c0\u67e5\u70b9"},{"location":"webui_automation/webui_automation_realexample/#7","text":"\u6574\u4e2a\u6d4b\u8bd5\u662f\u6570\u636e\u9a71\u52a8\u7684\uff0c\u6240\u4ee5\u8f93\u5165\u4e0d\u540c\u7684\u6570\u636e\u5c31\u4ee3\u8868\u4e0d\u540c\u7684\u6d4b\u8bd5\u7528\u4f8b\uff0c\u6240\u4ee5\u5728excel\u4e2d\u6dfb\u52a0\u4e0d\u540c\u7684\u6570\u636e\uff0c\u7531\u4e8e\u6d4b\u8bd5\u6570\u636e\u7c7b\u4e2d\u53d8\u91cf\u540d\u662f\u548cpage object\u7c7b\u91cc\u9762\u7684\u53d8\u91cf\u540d\u662f\u4e00\u6837\u7684\uff0c\u6240\u4ee5excel\u4e2d\u7ed9\u67d0\u4e2a\u53d8\u91cf\u7684\u503c\uff0c\u5c31\u4f1a\u76f4\u63a5\u5728\u64cd\u4f5c\u9875\u9762\u5143\u7d20\u65f6\u4f5c\u4e3a\u9875\u9762\u5143\u7d20\u7684\u8f93\u5165\uff0c\u4e0b\u9762\u662f\u4e00\u4e2a\u6570\u636e\u7684\u4f8b\u5b50\uff1a","title":"7. \u6dfb\u52a0\u65b0\u7684\u6d4b\u8bd5\u6570\u636e"},{"location":"webui_automation/webui_automation_realexample/#8-debug","text":"\u5982\u679c\u4e00\u5207\u987a\u5229\u7684\u8bdd\u6d4b\u8bd5\u5c31\u53ef\u4ee5\u8dd1\u8d77\u6765\u4e86","title":"8. \u6267\u884c\u548cdebug"},{"location":"webui_automation/webui_automation_realexample/#9","text":"\u623f\u6e90: automation-fangyuan \u4e0b\u9762\uff1aChangePropertyTest,AddPropertyTest,PropertyFlows,AddPropertyFlow","title":"9. \u4e00\u4e9b\u53c2\u8003\u7684\u4f8b\u5b50\uff1a"},{"location":"webui_automation/webui_testdata_generator/","text":"\u6d4b\u8bd5\u6570\u636e\u4ee3\u7801\u751f\u6210 \u5f53\u9875\u9762\u7c7b\u751f\u6210\u4e4b\u540e,\u53ef\u4ee5\u901a\u8fc7\u9875\u9762\u7c7b\u6765\u751f\u6210\u4f60\u7684\u6d4b\u8bd5\u6570\u636e\u7c7b,\u5047\u8bbe\u4f60\u7684\u9875\u9762\u7c7b\u5b9a\u4e49\u5982\u4e0b: public class AssetApplicationPage extends ExecutablePageObject { public AssetApplicationPage(WebDriver driver) { super(driver); } @FindBy(xpath=\"//*[@id='htTree']/li/a[@id]\") @ElementName(elementName = \"\u6240\u5c5e\u7ec4\u7ec7\") private List<HtmlElement> orgLists; @FindBy(xpath=\"//*[@value='\u9009\u62e9\u5206\u7c7b']\") @ElementName(elementName = \"\u9009\u62e9\u5206\u7c7b\") private Button category; @FindBy(xpath=\"(//div[@id='categorySelect'])[1]/a\") @ElementName(elementName = \"\u8d44\u4ea7\u79cd\u7c7b\") private List<HtmlElement> categoryLists; @FindBy(xpath=\"(//div[@id='categorySelect'])[2]/a\") @ElementName(elementName = \"\u8d44\u4ea7\u8be6\u7ec6\u79cd\u7c7b\") private List<HtmlElement> assetDetailCategory; @FindBy(id=\"makeSureType\") @ElementName(elementName = \"\u786e\u5b9a\") private Button setAssetCategory; @FindBy(id=\"cancelType\") @ElementName(elementName = \"\u53d6\u6d88\") private Button cancelAssetCategory; @FindBy(name=\"details[0].quantity\") @ElementName(elementName = \"\u6570\u91cf\") private InputBox quantity; @FindBy(name=\"details[0].comment\") @ElementName(elementName = \"\u5907\u6ce8\") private InputBox comment; ......... } \u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u5c31\u53ef\u4ee5\u751f\u6210\u6d4b\u8bd5\u6570\u636e\u7684\u4ee3\u7801\u7c7b\u7684\u6210\u5458: WebUICodeGenerator.build().generateTestDataClass(AssetApplicationPage.class);","title":"\u6d4b\u8bd5\u6570\u636e\u4ee3\u7801\u751f\u6210"},{"location":"webui_automation/webui_testdata_generator/#_1","text":"\u5f53\u9875\u9762\u7c7b\u751f\u6210\u4e4b\u540e,\u53ef\u4ee5\u901a\u8fc7\u9875\u9762\u7c7b\u6765\u751f\u6210\u4f60\u7684\u6d4b\u8bd5\u6570\u636e\u7c7b,\u5047\u8bbe\u4f60\u7684\u9875\u9762\u7c7b\u5b9a\u4e49\u5982\u4e0b: public class AssetApplicationPage extends ExecutablePageObject { public AssetApplicationPage(WebDriver driver) { super(driver); } @FindBy(xpath=\"//*[@id='htTree']/li/a[@id]\") @ElementName(elementName = \"\u6240\u5c5e\u7ec4\u7ec7\") private List<HtmlElement> orgLists; @FindBy(xpath=\"//*[@value='\u9009\u62e9\u5206\u7c7b']\") @ElementName(elementName = \"\u9009\u62e9\u5206\u7c7b\") private Button category; @FindBy(xpath=\"(//div[@id='categorySelect'])[1]/a\") @ElementName(elementName = \"\u8d44\u4ea7\u79cd\u7c7b\") private List<HtmlElement> categoryLists; @FindBy(xpath=\"(//div[@id='categorySelect'])[2]/a\") @ElementName(elementName = \"\u8d44\u4ea7\u8be6\u7ec6\u79cd\u7c7b\") private List<HtmlElement> assetDetailCategory; @FindBy(id=\"makeSureType\") @ElementName(elementName = \"\u786e\u5b9a\") private Button setAssetCategory; @FindBy(id=\"cancelType\") @ElementName(elementName = \"\u53d6\u6d88\") private Button cancelAssetCategory; @FindBy(name=\"details[0].quantity\") @ElementName(elementName = \"\u6570\u91cf\") private InputBox quantity; @FindBy(name=\"details[0].comment\") @ElementName(elementName = \"\u5907\u6ce8\") private InputBox comment; ......... } \u4f7f\u7528\u5982\u4e0b\u4ee3\u7801\u5c31\u53ef\u4ee5\u751f\u6210\u6d4b\u8bd5\u6570\u636e\u7684\u4ee3\u7801\u7c7b\u7684\u6210\u5458: WebUICodeGenerator.build().generateTestDataClass(AssetApplicationPage.class);","title":"\u6d4b\u8bd5\u6570\u636e\u4ee3\u7801\u751f\u6210"}]}